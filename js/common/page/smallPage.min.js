var SmallPage=function(){this.dataList=null,this.pageNo=1,this.pageSize=10,this.pageCount="",this.pageRender="",this.container=null,this.init=function(t,i){if(this.pageNo=t.pageNo||1,this.pageSize=t.pageSize||10,this.dataList=t.dataList||[],this.pageCount=this.pageSize>0?parseInt(this.dataList.length/this.pageSize):0,this.dataList.length%this.pageSize!=0&&this.pageCount++,this.container=t.container,this.container){var s=$(this.container).find(".small-page").length;if(0==s){var a="<a class='firstP' href='javascript:;'>首页</a>";a+="<a class='preP' href='javascript:;'>上页</a>",a+="<a class='nextP' href='javascript:;'>下页</a>",a+="<a class='lastP' href='javascript:;'>末页</a>",$(this.container).append("<div class='small-page'>"+a+"</div>");var e=this;$(this.container).find(".firstP").unbind("click").bind("click",function(){e.first(!0)}),$(this.container).find(".preP").unbind("click").bind("click",function(){e.pre()}),$(this.container).find(".nextP").unbind("click").bind("click",function(){e.next()}),$(this.container).find(".lastP").unbind("click").bind("click",function(){e.last()})}}i&&(this.pageRender=i,this.first())},this.first=function(t){t&&$(this.container).find(".firstP").hasClass("disabled")||((this.dataList||this.dataList.length>0)&&this.pageRender&&(this.pageNo=1,this.pageRender(this.getPageRows())),this.setPageDisabled())},this.last=function(){$(this.container).find(".lastP").hasClass("disabled")||((this.dataList||this.dataList.length>0)&&this.pageRender&&(this.pageNo=this.pageCount,this.pageRender(this.getPageRows())),this.setPageDisabled())},this.pre=function(){$(this.container).find(".preP").hasClass("disabled")||((this.dataList||this.dataList.length>0)&&this.pageRender&&(this.pageNo--,this.pageRender(this.getPageRows())),this.setPageDisabled())},this.next=function(){$(this.container).find(".nextP").hasClass("disabled")||((this.dataList||this.dataList.length>0)&&this.pageRender&&(this.pageNo<this.pageCount?(this.pageNo++,this.pageRender(this.getPageRows())):this.pageNo=this.pageCount),this.setPageDisabled())},this.getPageRows=function(){this.pageNo<1&&(this.pageNo=1);var t=(this.pageNo-1)*this.pageSize;t<0&&(t=0),t>=this.dataList.length&&(t=this.dataList.length-1);var i=t+this.pageSize-1;i>=this.dataList.length&&(i=this.dataList.length-1);for(var s=[],a=t;a<=i;a++)s.push(this.dataList[a]);return s},this.setPageDisabled=function(){this.pageNo<=1?$(this.container).find(".firstP,.preP").addClass("disabled"):$(this.container).find(".firstP,.preP").removeClass("disabled"),this.pageNo>=this.pageCount?$(this.container).find(".nextP,.lastP").addClass("disabled"):$(this.container).find(".nextP,.lastP").removeClass("disabled"),$(this.container).find(".firstP").attr("title","首页 当前:"+this.pageNo),$(this.container).find(".preP").attr("title","上页 当前:"+this.pageNo),$(this.container).find(".nextP").attr("title","下页 当前:"+this.pageNo),$(this.container).find(".lastP").attr("title","末页 当前:"+this.pageNo)}};