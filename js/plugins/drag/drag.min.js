var Drag=function(){var a=this;this.father=null;this.faWidth="800px";this.faHeight="500px";var b={move:"both",randomPosition:true,hander:1};this.dragging=function(k,e){var e=$.extend({},b,e||{});var r=$(k);r.css({position:"absolute"});if(!a.father){a.father=e.father||r.parent();a.faWidth=a.father.width();a.faHeight=a.father.height();a.father.css({position:"relative",overflow:"hidden"})}var l=e.hander;if(l==1){l=r}else{l=r.find(e.hander)}l.css({cursor:"move"});var p=false;var o;var m;var j;var i;var f,d;var n=r.width()+parseInt(r.css("padding-left"))+parseInt(r.css("padding-right"));var h=r.height()+parseInt(r.css("padding-top"))+parseInt(r.css("padding-bottom"));var q=e.move;var g=e.randomPosition;if(g){c()}function c(){r.each(function(s){var t=parseInt(Math.random()*(a.faHeight-h));var u=parseInt(Math.random()*(a.faWidth-n));if(q.toLowerCase()=="x"){$(this).css({left:u})}else{if(q.toLowerCase()=="y"){$(this).css({top:t})}else{if(q.toLowerCase()=="both"){$(this).css({top:t,left:u})}}}})}l.mousedown(function(s){a.father.children().css({zIndex:"0"});$(this).css({zIndex:"1"});p=true;f=s.pageX;d=s.pageY;o=$(this).position().left;m=$(this).position().top;return false});$(document).mouseup(function(s){p=false});$(document).mousemove(function(v){xPage=v.pageX;j=o+xPage-f;yPage=v.pageY;i=m+yPage-d;function u(){if(p==true){r.css({left:j})}else{return}if(j<0){r.css({left:"0"})}if(j>(a.faWidth-n)){r.css({left:a.faWidth-n})}return j}function t(){if(p==true){r.css({top:i})}else{return}if(i<0){r.css({top:"0"})}if(i>(a.faHeight-h)){r.css({top:a.faHeight-h})}return i}function s(){if(p==true){r.css({left:j,top:i})}else{return}if(j<0){r.css({left:"0"})}if(j>(a.faWidth-n)){r.css({left:a.faWidth-n})}if(i<0){r.css({top:"0"})}if(i>(a.faHeight-h)){r.css({top:a.faHeight-h})}if(e.onDrag){e.onDrag(r)}}if(q.toLowerCase()=="x"){u()}else{if(q.toLowerCase()=="y"){t()}else{if(q.toLowerCase()=="both"){s()}}}})};this.resizeFa=function(c){if(c){a.father=$(c)}if(a.father){a.faWidth=a.father.width();a.faHeight=a.father.height()}}};