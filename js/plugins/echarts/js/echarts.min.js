(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(exports):typeof define==="function"&&define.amd?define(["exports"],a):(a((b.echarts={})))}(this,(function(qN){var vf;if(typeof window!=="undefined"){vf=window.__DEV__}else{if(typeof global!=="undefined"){vf=global.__DEV__;yG}}if(typeof vf==="undefined"){vf=true}var nK=vf;var Gn=2311;var dg=function(){return Gn++};var hb={};if(typeof wx!=="undefined"){hb={browser:{},os:{},node:false,wxa:true,canvasSupported:true,svgSupported:false,touchEventsSupported:true}}else{if(typeof document==="undefined"&&typeof self!=="undefined"){hb={browser:{},os:{},node:false,worker:true,canvasSupported:true}}else{if(typeof navigator==="undefined"){hb={browser:{},os:{},node:true,worker:false,canvasSupported:true,svgSupported:true}}else{hb=kL(navigator.userAgent)}}}var r6=hb;function kL(k){var Z={};var e={};var v=k.match(/Firefox\/([\d.]+)/);var cc=k.match(/MSIE\s([\d.]+)/)||k.match(/Trident\/.+?rv:(([\d.]+))/);var m=k.match(/Edge\/([\d.]+)/);var i=(/micromessenger/i).test(k);if(v){e.firefox=true;e.version=v[1]}if(cc){e.ie=true;e.version=cc[1]}if(m){e.edge=true;e.version=m[1]}if(i){e.weChat=true}return{browser:e,os:Z,node:false,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!=="undefined",touchEventsSupported:"ontouchstart" in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown" in window&&(e.edge||(e.ie&&e.version>=11))}}var wk={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1};var bX={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1};var yL=Object.prototype.toString;var cZ=Array.prototype;var rh=cZ.forEach;var lB=cZ.filter;var E4=cZ.slice;var cw=cZ.map;var B4=cZ.reduce;var mR={};function zW(e,i){if(e==="createCanvas"){gX=null}mR[e]=i}function B8(v1){if(v1==null||typeof v1!="object"){return v1}var m=v1;var k=yL.call(v1);if(k==="[object Array]"){if(!lH(v1)){m=[];for(var cc=0,e=v1.length;cc<e;cc++){m[cc]=B8(v1[cc])}}}else{if(bX[k]){if(!lH(v1)){var v=v1.constructor;if(v1.constructor.from){m=v.from(v1)}else{m=new v(v1.length);for(var cc=0,e=v1.length;cc<e;cc++){m[cc]=B8(v1[cc])}}}}else{if(!wk[k]&&!lH(v1)&&!az(v1)){m={};for(var Z in v1){if(v1.hasOwnProperty(Z)){m[Z]=B8(v1[Z])}}}}}return m}function vb(v,m,i){if(!sU(m)||!sU(v)){return i?B8(m):v}for(var k in m){if(m.hasOwnProperty(k)){var e=v[k];var Z=m[k];if(sU(Z)&&sU(e)&&!Fw(Z)&&!Fw(e)&&!az(Z)&&!az(e)&&!vr(Z)&&!vr(e)&&!lH(Z)&&!lH(e)){vb(e,Z,i)}else{if(i||!(k in v)){v[k]=B8(m[k],true)}}}}return v}function Y(Z,m){var k=Z[0];for(var v=1,e=Z.length;v<e;v++){k=vb(k,Z[v],m)}return k}function bY(k,i){for(var e in i){if(i.hasOwnProperty(e)){k[e]=i[e]}}return k}function Ch(m,k,e){for(var i in k){if(k.hasOwnProperty(i)&&(e?k[i]!=null:m[i]==null)){m[i]=k[i]}}return m}var Cf=function(){return mR.createCanvas()};mR.createCanvas=function(){return document.createElement("canvas")};var gX;function n6(){if(!gX){gX=Cf().getContext("2d")}return gX}function eB(v,m){if(v){if(v.indexOf){return v.indexOf(m)}for(var k=0,e=v.length;k<e;k++){if(v[k]===m){return k}}}return -1}function lZ(i,e){var k=i.prototype;function m(){}m.prototype=e.prototype;i.prototype=new m();for(var v in k){i.prototype[v]=k[v]}i.prototype.constructor=i;i.superClass=e}function Ff(k,i,e){k="prototype" in k?k.prototype:k;i="prototype" in i?i.prototype:i;Ch(k,i,e)}function r0(e){if(!e){return}if(typeof e=="string"){return false}return typeof e.length=="number"}function ow(cc,k,Z){if(!(cc&&k)){return}if(cc.forEach&&cc.forEach===rh){cc.forEach(k,Z)}else{if(cc.length===+cc.length){for(var v=0,e=cc.length;v<e;v++){k.call(Z,cc[v],v,cc)}}else{for(var m in cc){if(cc.hasOwnProperty(m)){k.call(Z,cc[m],m,cc)}}}}}function De(cc,m,Z){if(!(cc&&m)){return}if(cc.map&&cc.map===cw){return cc.map(m,Z)}else{var k=[];for(var v=0,e=cc.length;v<e;v++){k.push(m.call(Z,cc[v],v,cc))}return k}}function wm(cc,k,m,Z){if(!(cc&&k)){return}if(cc.reduce&&cc.reduce===B4){return cc.reduce(k,m,Z)}else{for(var v=0,e=cc.length;v<e;v++){m=k.call(Z,m,cc[v],v,cc)}return m}}function qi(cc,m,Z){if(!(cc&&m)){return}if(cc.filter&&cc.filter===lB){return cc.filter(m,Z)}else{var k=[];for(var v=0,e=cc.length;v<e;v++){if(m.call(Z,cc[v],v,cc)){k.push(cc[v])}}return k}}function qK(Z,k,v){if(!(Z&&k)){return}for(var m=0,e=Z.length;m<e;m++){if(k.call(v,Z[m],m,Z)){return Z[m]}}}function j0(k,i){var e=E4.call(arguments,2);return function(){return k.apply(i,e.concat(E4.call(arguments)))}}function rH(i){var e=E4.call(arguments,1);return function(){return i.apply(this,e.concat(E4.call(arguments)))}}function Fw(e){return yL.call(e)==="[object Array]"}function D0(e){return typeof e==="function"}function vi(e){return yL.call(e)==="[object String]"}function sU(i){var e=typeof i;return e==="function"||(!!i&&e=="object")}function vr(e){return !!wk[yL.call(e)]}function GG(e){return !!bX[yL.call(e)]}function az(e){return typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.ownerDocument==="object"}function k5(e){return e!==e}function gg(k){for(var m=0,e=arguments.length;m<e;m++){if(arguments[m]!=null){return arguments[m]}}}function jP(i,e){return i!=null?i:e}function jO(k,i,e){return k!=null?k:i!=null?i:e}function hS(){return Function.call.apply(E4,arguments)}function Cw(i){if(typeof(i)==="number"){return[i,i,i,i]}var e=i.length;if(e===2){return[i[0],i[1],i[0],i[1]]}else{if(e===3){return[i[0],i[1],i[2],i[1]]}}return i}function bK(i,e){if(!i){throw new Error(e)}}function Fi(e){if(e==null){return null}else{if(typeof e.trim==="function"){return e.trim()}else{return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}}var rv="__ec_primitive__";function y(e){e[rv]=true}function lH(e){return e[rv]}function oQ(k){var i=Fw(k);var m=this;(k instanceof oQ)?k.each(e):(k&&ow(k,e));function e(Z,v){i?m.set(Z,v):m.set(v,Z)}}oQ.prototype={constructor:oQ,get:function(e){return this.hasOwnProperty(e)?this[e]:null},set:function(e,i){return(this[e]=i)},each:function(e,k){k!==void 0&&(e=j0(e,k));for(var i in this){this.hasOwnProperty(i)&&e(this[i],i)}},removeKey:function(e){delete this[e]}};function BN(e){return new oQ(e)}function kP(m,k){var e=new m.constructor(m.length+k.length);for(var v=0;v<m.length;v++){e[v]=m[v]}var Z=m.length;for(v=0;v<k.length;v++){e[v+Z]=k[v]}return e}function U(){}var ws=(Object.freeze||Object)({$override:zW,clone:B8,merge:vb,mergeAll:Y,extend:bY,defaults:Ch,createCanvas:Cf,getContext:n6,indexOf:eB,inherits:lZ,mixin:Ff,isArrayLike:r0,each:ow,map:De,reduce:wm,filter:qi,find:qK,bind:j0,curry:rH,isArray:Fw,isFunction:D0,isString:vi,isObject:sU,isBuiltInObject:vr,isTypedArray:GG,isDom:az,eqNaN:k5,retrieve:gg,retrieve2:jP,retrieve3:jO,slice:hS,normalizeCssArray:Cw,assert:bK,trim:Fi,setAsPrimitive:y,isPrimitive:lH,createHashMap:BN,concatArray:kP,noop:U});var A=typeof Float32Array==="undefined"?Array:Float32Array;function FU(e,k){var i=new A(2);if(e==null){e=0}if(k==null){k=0}i[0]=e;i[1]=k;return i}function xS(i,e){i[0]=e[0];i[1]=e[1];return i}function t4(e){var i=new A(2);i[0]=e[0];i[1]=e[1];return i}function Fy(k,i,e){k[0]=i;k[1]=e;return k}function tM(e,k,i){e[0]=k[0]+i[0];e[1]=k[1]+i[1];return e}function Ab(i,m,k,e){i[0]=m[0]+k[0]*e;i[1]=m[1]+k[1]*e;return i}function AQ(e,k,i){e[0]=k[0]-i[0];e[1]=k[1]-i[1];return e}function ep(e){return Math.sqrt(my(e))}var mB=ep;function my(e){return e[0]*e[0]+e[1]*e[1]}var by=my;function v5(e,k,i){e[0]=k[0]*i[0];e[1]=k[1]*i[1];return e}function t2(e,k,i){e[0]=k[0]/i[0];e[1]=k[1]/i[1];return e}function rF(i,e){return i[0]*e[0]+i[1]*e[1]}function Gr(i,e,k){i[0]=e[0]*k;i[1]=e[1]*k;return i}function vP(i,e){var k=ep(e);if(k===0){i[0]=0;i[1]=0}else{i[0]=e[0]/k;i[1]=e[1]/k}return i}function zg(i,e){return Math.sqrt((i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1]))}var CV=zg;function DG(i,e){return(i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1])}var cj=DG;function kE(i,e){i[0]=-e[0];i[1]=-e[1];return i}function qU(e,m,k,i){e[0]=m[0]+i*(k[0]-m[0]);e[1]=m[1]+i*(k[1]-m[1]);return e}function aZ(Z,k,i){var e=k[0];var cc=k[1];Z[0]=i[0]*e+i[2]*cc+i[4];Z[1]=i[1]*e+i[3]*cc+i[5];return Z}function Ax(e,k,i){e[0]=Math.min(k[0],i[0]);e[1]=Math.min(k[1],i[1]);return e}function C4(e,k,i){e[0]=Math.max(k[0],i[0]);e[1]=Math.max(k[1],i[1]);return e}var DA=(Object.freeze||Object)({create:FU,copy:xS,clone:t4,set:Fy,add:tM,scaleAndAdd:Ab,sub:AQ,len:ep,length:mB,lenSquare:my,lengthSquare:by,mul:v5,div:t2,dot:rF,scale:Gr,normalize:vP,distance:zg,dist:CV,distanceSquare:DG,distSquare:cj,negate:kE,lerp:qU,applyTransform:aZ,min:Ax,max:C4});function mL(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}mL.prototype={constructor:mL,_dragStart:function(k){var i=k.target;if(i&&i.draggable){this._draggingTarget=i;i.dragging=true;this._x=k.offsetX;this._y=k.offsetY;this.dispatchToElement(kt(i,k),"dragstart",k.event)}},_drag:function(cc){var v=this._draggingTarget;if(v){var i=cc.offsetX;var v2=cc.offsetY;var m=i-this._x;var k=v2-this._y;this._x=i;this._y=v2;v.drift(m,k,cc);this.dispatchToElement(kt(v,cc),"drag",cc.event);var v1=this.findHover(i,v2,v).target;var Z=this._dropTarget;this._dropTarget=v1;if(v!==v1){if(Z&&v1!==Z){this.dispatchToElement(kt(Z,cc),"dragleave",cc.event)}if(v1&&v1!==Z){this.dispatchToElement(kt(v1,cc),"dragenter",cc.event)}}}},_dragEnd:function(k){var i=this._draggingTarget;if(i){i.dragging=false}this.dispatchToElement(kt(i,k),"dragend",k.event);if(this._dropTarget){this.dispatchToElement(kt(this._dropTarget,k),"drop",k.event)}this._draggingTarget=null;this._dropTarget=null}};function kt(k,i){return{target:k,topTarget:i&&i.topTarget}}var xe=Array.prototype.slice;var E1=function(){this._$handlers={}};E1.prototype={constructor:E1,one:function(v,m,k){var Z=this._$handlers;if(!m||!v){return this}if(!Z[v]){Z[v]=[]}for(var e=0;e<Z[v].length;e++){if(Z[v][e].h===m){return this}}Z[v].push({h:m,one:true,ctx:k||this});return this},on:function(v,m,k){var Z=this._$handlers;if(!m||!v){return this}if(!Z[v]){Z[v]=[]}for(var e=0;e<Z[v].length;e++){if(Z[v][e].h===m){return this}}Z[v].push({h:m,one:false,ctx:k||this});return this},isSilent:function(e){var i=this._$handlers;return i[e]&&i[e].length},off:function(Z,v){var cc=this._$handlers;if(!Z){this._$handlers={};return this}if(v){if(cc[Z]){var m=[];for(var k=0,e=cc[Z].length;k<e;k++){if(cc[Z][k]["h"]!=v){m.push(cc[Z][k])}}cc[Z]=m}if(cc[Z]&&cc[Z].length===0){delete cc[Z]}}else{delete cc[Z]}return this},trigger:function(Z){if(this._$handlers[Z]){var m=arguments;var k=m.length;if(k>3){m=xe.call(m,1)}var cc=this._$handlers[Z];var e=cc.length;for(var v=0;v<e;){switch(k){case 1:cc[v]["h"].call(cc[v]["ctx"]);break;case 2:cc[v]["h"].call(cc[v]["ctx"],m[1]);break;case 3:cc[v]["h"].call(cc[v]["ctx"],m[1],m[2]);break;default:cc[v]["h"].apply(cc[v]["ctx"],m);break}if(cc[v]["one"]){cc.splice(v,1);e--}else{v++}}}return this},triggerWithContext:function(cc){if(this._$handlers[cc]){var v=arguments;var m=v.length;if(m>4){v=xe.call(v,1,v.length-1)}var k=v[v.length-1];var v1=this._$handlers[cc];var e=v1.length;for(var Z=0;Z<e;){switch(m){case 1:v1[Z]["h"].call(k);break;case 2:v1[Z]["h"].call(k,v[1]);break;case 3:v1[Z]["h"].call(k,v[1],v[2]);break;default:v1[Z]["h"].apply(k,v);break}if(v1[Z]["one"]){v1.splice(Z,1);e--}else{Z++}}}return this}};var G2="silent";function vL(i,k,e){return{type:i,event:e,target:k.target,topTarget:k.topTarget,cancelBubble:false,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which}}function G0(){}G0.prototype.dispose=function(){};var qQ=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var em=function(m,e,i,k){E1.call(this);this.storage=m;this.painter=e;this.painterRoot=k;i=i||new G0();this.proxy=null;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;mL.call(this);this.setHandlerProxy(i)};em.prototype={constructor:em,setHandlerProxy:function(e){if(this.proxy){this.proxy.dispose()}if(e){ow(qQ,function(i){e.on&&e.on(i,this[i],this)},this);e.handler=this}this.proxy=e},mousemove:function(v){var i=v.zrX;var v1=v.zrY;var cc=this._hovered;var Z=cc.target;if(Z&&!Z.__zr){cc=this.findHover(cc.x,cc.y);Z=cc.target}var m=this._hovered=this.findHover(i,v1);var e=m.target;var k=this.proxy;k.setCursor&&k.setCursor(e?e.cursor:"default");if(Z&&e!==Z){this.dispatchToElement(cc,"mouseout",v)}this.dispatchToElement(m,"mousemove",v);if(e&&e!==Z){this.dispatchToElement(m,"mouseover",v)}},mouseout:function(k){this.dispatchToElement(this._hovered,"mouseout",k);var i=k.toElement||k.relatedTarget;var e;do{i=i&&i.parentNode}while(i&&i.nodeType!=9&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:k})},resize:function(e){this._hovered={}},dispatch:function(i,e){var k=this[i];k&&k.call(this,e)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},dispatchToElement:function(Z,e,m){Z=Z||{};var k=Z.target;if(k&&k.silent){return}var i="on"+e;var v=vL(e,Z,m);while(k){k[i]&&(v.cancelBubble=k[i].call(k,v));k.trigger(e,v);k=k.parent;if(v.cancelBubble){break}}if(!v.cancelBubble){this.trigger(e,v);this.painter&&this.painter.eachOtherLayer(function(cc){if(typeof(cc[i])=="function"){cc[i].call(cc,v)}if(cc.trigger){cc.trigger(e,v)}})}},findHover:function(e,v1,k){var Z=this.storage.getDisplayList();var m={x:e,y:v1};for(var v=Z.length-1;v>=0;v--){var cc;if(Z[v]!==k&&!Z[v].ignore&&(cc=w9(Z[v],e,v1))){!m.topTarget&&(m.topTarget=Z[v]);if(cc!==G2){m.target=Z[v];break}}}return m}};ow(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){em.prototype[e]=function(m){var k=this.findHover(m.zrX,m.zrY);var i=k.target;if(e==="mousedown"){this._downEl=i;this._downPoint=[m.zrX,m.zrY];this._upEl=i}else{if(e==="mouseup"){this._upEl=i}else{if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||CV(this._downPoint,[m.zrX,m.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(k,e,m)}});function w9(i,e,v){if(i[i.rectHover?"rectContain":"contain"](e,v)){var k=i;var m;while(k){if(k.clipPath&&!k.clipPath.contain(e,v)){return false}if(k.silent){m=true}k=k.parent}return m?G2:true}return false}Ff(em,E1);Ff(em,mL);var B3=typeof Float32Array==="undefined"?Array:Float32Array;function BF(){var e=new B3(6);ln(e);return e}function ln(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;return e}function yC(i,e){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];i[4]=e[4];i[5]=e[5];return i}function j(i,v1,Z){var e=v1[0]*Z[0]+v1[2]*Z[1];var v2=v1[1]*Z[0]+v1[3]*Z[1];var cc=v1[0]*Z[2]+v1[2]*Z[3];var v=v1[1]*Z[2]+v1[3]*Z[3];var m=v1[0]*Z[4]+v1[2]*Z[5]+v1[4];var k=v1[1]*Z[4]+v1[3]*Z[5]+v1[5];i[0]=e;i[1]=v2;i[2]=cc;i[3]=v;i[4]=m;i[5]=k;return i}function uy(k,e,i){k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4]+i[0];k[5]=e[5]+i[1];return k}function jW(i,cc,Z){var e=cc[0];var v3=cc[2];var v=cc[4];var G4=cc[1];var v1=cc[3];var k=cc[5];var v2=Math.sin(Z);var m=Math.cos(Z);i[0]=e*m+G4*v2;i[1]=-e*v2+G4*m;i[2]=v3*m+v1*v2;i[3]=-v3*v2+m*v1;i[4]=m*v+v2*k;i[5]=m*k-v2*v;return i}function qb(k,e,i){var Z=i[0];var m=i[1];k[0]=e[0]*Z;k[1]=e[1]*m;k[2]=e[2]*Z;k[3]=e[3]*m;k[4]=e[4]*Z;k[5]=e[5]*m;return k}function fs(i,Z){var e=Z[0];var v1=Z[2];var m=Z[4];var v2=Z[1];var cc=Z[3];var k=Z[5];var v=e*cc-v2*v1;if(!v){return null}v=1/v;i[0]=cc*v;i[1]=-v2*v;i[2]=-v1*v;i[3]=e*v;i[4]=(v1*k-cc*m)*v;i[5]=(v2*m-e*k)*v;return i}function t1(i){var e=BF();yC(e,i);return e}var kd=(Object.freeze||Object)({create:BF,identity:ln,copy:yC,mul:j,translate:uy,rotate:jW,scale:qb,invert:fs,clone:t1});var sL=ln;var ni=0.00005;function im(e){return e>ni||e<-ni}var bI=function(e){e=e||{};if(!e.position){this.position=[0,0]}if(e.rotation==null){this.rotation=0}if(!e.scale){this.scale=[1,1]}this.origin=this.origin||null};var jA=bI.prototype;jA.transform=null;jA.needLocalTransform=function(){return im(this.rotation)||im(this.position[0])||im(this.position[1])||im(this.scale[0]-1)||im(this.scale[1]-1)};jA.updateTransform=function(){var i=this.parent;var k=i&&i.transform;var v=this.needLocalTransform();var e=this.transform;if(!(v||k)){e&&sL(e);return}e=e||BF();if(v){this.getLocalTransform(e)}else{sL(e)}if(k){if(v){j(e,i.transform,e)}else{yC(e,i.transform)}}this.transform=e;this.invTransform=this.invTransform||BF();fs(this.invTransform,e)};jA.getLocalTransform=function(e){return bI.getLocalTransform(this,e)};jA.setTransform=function(i){var e=this.transform;var k=i.dpr||1;if(e){i.setTransform(k*e[0],k*e[1],k*e[2],k*e[3],k*e[4],k*e[5])}else{i.setTransform(k,0,0,k,0,0)}};jA.restoreTransform=function(e){var i=e.dpr||1;e.setTransform(i,0,0,i,0,0)};var hn=[];jA.decomposeTransform=function(){if(!this.transform){return}var v=this.parent;var i=this.transform;if(v&&v.transform){j(hn,v.invTransform,i);i=hn}var cc=i[0]*i[0]+i[1]*i[1];var Z=i[2]*i[2]+i[3]*i[3];var e=this.position;var k=this.scale;if(im(cc-1)){cc=Math.sqrt(cc)}if(im(Z-1)){Z=Math.sqrt(Z)}if(i[0]<0){cc=-cc}if(i[3]<0){Z=-Z}e[0]=i[4];e[1]=i[5];k[0]=cc;k[1]=Z;this.rotation=Math.atan2(-i[1]/Z,i[0]/cc)};jA.getGlobalScale=function(){var e=this.transform;if(!e){return[1,1]}var k=Math.sqrt(e[0]*e[0]+e[1]*e[1]);var i=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){k=-k}if(e[3]<0){i=-i}return[k,i]};jA.transformCoordToLocal=function(e,m){var k=[e,m];var i=this.invTransform;if(i){aZ(k,k,i)}return k};jA.transformCoordToGlobal=function(e,m){var k=[e,m];var i=this.transform;if(i){aZ(k,k,i)}return k};bI.getLocalTransform=function(cc,i){i=i||[];sL(i);var v=cc.origin;var k=cc.scale||[1,1];var Z=cc.rotation||0;var e=cc.position||[0,0];if(v){i[4]-=v[0];i[5]-=v[1]}qb(i,i,k);if(Z){jW(i,i,Z)}if(v){i[4]+=v[0];i[5]+=v[1]}i[4]+=e[0];i[5]+=e[1];return i};var eQ={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){if((e*=2)<1){return 0.5*e*e}return -0.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return --e*e*e+1},cubicInOut:function(e){if((e*=2)<1){return 0.5*e*e*e}return 0.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1-(--e*e*e*e)},quarticInOut:function(e){if((e*=2)<1){return 0.5*e*e*e*e}return -0.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return --e*e*e*e*e+1},quinticInOut:function(e){if((e*=2)<1){return 0.5*e*e*e*e*e}return 0.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return 0.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){if(e===0){return 0}if(e===1){return 1}if((e*=2)<1){return 0.5*Math.pow(1024,e-1)}return 0.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1-(--e*e))},circularInOut:function(e){if((e*=2)<1){return -0.5*(Math.sqrt(1-e*e)-1)}return 0.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}return -(e*Math.pow(2,10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v))},elasticOut:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}return(e*Math.pow(2,-10*i)*Math.sin((i-m)*(2*Math.PI)/v)+1)},elasticInOut:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}if((i*=2)<1){return -0.5*(e*Math.pow(2,10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v))}return e*Math.pow(2,-10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v)*0.5+1},backIn:function(e){var i=1.70158;return e*e*((i+1)*e-i)},backOut:function(e){var i=1.70158;return --e*e*((i+1)*e+i)+1},backInOut:function(e){var i=1.70158*1.525;if((e*=2)<1){return 0.5*(e*e*((i+1)*e-i))}return 0.5*((e-=2)*e*((i+1)*e+i)+2)},bounceIn:function(e){return 1-eQ.bounceOut(1-e)},bounceOut:function(e){if(e<(1/2.75)){return 7.5625*e*e}else{if(e<(2/2.75)){return 7.5625*(e-=(1.5/2.75))*e+0.75}else{if(e<(2.5/2.75)){return 7.5625*(e-=(2.25/2.75))*e+0.9375}else{return 7.5625*(e-=(2.625/2.75))*e+0.984375}}}},bounceInOut:function(e){if(e<0.5){return eQ.bounceIn(e*2)*0.5}return eQ.bounceOut(e*2-1)*0.5+0.5}};function eA(e){this._target=e.target;this._life=e.life||1000;this._delay=e.delay||0;this._initialized=false;this.loop=e.loop==null?false:e.loop;this.gap=e.gap||0;this.easing=e.easing||"Linear";this.onframe=e.onframe;this.ondestroy=e.ondestroy;this.onrestart=e.onrestart;this._pausedTime=0;this._paused=false}eA.prototype={constructor:eA,step:function(e,k){if(!this._initialized){this._startTime=e+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=k;return}var v=(e-this._startTime-this._pausedTime)/this._life;if(v<0){return}v=Math.min(v,1);var m=this.easing;var i=typeof m=="string"?eQ[m]:m;var Z=typeof i==="function"?i(v):v;this.fire("frame",Z);if(v==1){if(this.loop){this.restart(e);return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(e){var i=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-i+this.gap;this._pausedTime=0;this._needsRemove=false},fire:function(i,e){i="on"+i;if(this[i]){this[i](this._target,e)}},pause:function(){this._paused=true},resume:function(){this._paused=false}};var dG=function(){this.head=null;this.tail=null;this._len=0};var ka=dG.prototype;ka.insert=function(i){var e=new qT(i);this.insertEntry(e);return e};ka.insertEntry=function(e){if(!this.head){this.head=this.tail=e}else{this.tail.next=e;e.prev=this.tail;e.next=null;this.tail=e}this._len++};ka.remove=function(k){var i=k.prev;var e=k.next;if(i){i.next=e}else{this.head=e}if(e){e.prev=i}else{this.tail=i}k.next=k.prev=null;this._len--};ka.len=function(){return this._len};ka.clear=function(){this.head=this.tail=null;this._len=0};var qT=function(e){this.value=e;this.next;this.prev};var lh=function(e){this._list=new dG();this._map={};this._maxSize=e||10;this._lastRemovedEntry=null};var y5=lh.prototype;y5.put=function(i,v){var m=this._list;var v1=this._map;var cc=null;if(v1[i]==null){var e=m.len();var k=this._lastRemovedEntry;if(e>=this._maxSize&&e>0){var Z=m.head;m.remove(Z);delete v1[Z.key];cc=Z.value;this._lastRemovedEntry=Z}if(k){k.value=v}else{k=new qT(v)}k.key=i;m.insertEntry(k);v1[i]=k}return cc};y5.get=function(e){var i=this._map[e];var k=this._list;if(i!=null){if(i!==k.tail){k.remove(i);k.insertEntry(i)}return i.value}};y5.clear=function(){this._list.clear();this._map={}};var ix={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function cp(e){e=Math.round(e);return e<0?0:e>255?255:e}function l8(e){e=Math.round(e);return e<0?0:e>360?360:e}function zQ(e){return e<0?0:e>1?1:e}function i2(e){if(e.length&&e.charAt(e.length-1)==="%"){return cp(parseFloat(e)/100*255)}return cp(parseInt(e,10))}function uD(e){if(e.length&&e.charAt(e.length-1)==="%"){return zQ(parseFloat(e)/100)}return zQ(parseFloat(e))}function BP(i,e,k){if(k<0){k+=1}else{if(k>1){k-=1}}if(k*6<1){return i+(e-i)*k*6}if(k*2<1){return e}if(k*3<2){return i+(e-i)*(2/3-k)*6}return i}function yP(i,e,k){return i+(e-i)*k}function Df(k,v,m,e,i){k[0]=v;k[1]=m;k[2]=e;k[3]=i;return k}function eu(i,e){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];return i}var Fa=new lh(20);var hu=null;function ya(e,i){if(hu){eu(hu,i)}hu=Fa.put(e,hu||(i.slice()))}function eH(v2,e){if(!v2){return}e=e||[];var k=Fa.get(v2);if(k){return eu(e,k)}v2=v2+"";var v1=v2.replace(/ /g,"").toLowerCase();if(v1 in ix){eu(e,ix[v1]);ya(v2,e);return e}if(v1.charAt(0)==="#"){if(v1.length===4){var Z=parseInt(v1.substr(1),16);if(!(Z>=0&&Z<=4095)){Df(e,0,0,0,1);return}Df(e,((Z&3840)>>4)|((Z&3840)>>8),(Z&240)|((Z&240)>>4),(Z&15)|((Z&15)<<4),1);ya(v2,e);return e}else{if(v1.length===7){var Z=parseInt(v1.substr(1),16);if(!(Z>=0&&Z<=16777215)){Df(e,0,0,0,1);return}Df(e,(Z&16711680)>>16,(Z&65280)>>8,Z&255,1);ya(v2,e);return e}}return}var cc=v1.indexOf("("),v3=v1.indexOf(")");if(cc!==-1&&v3+1===v1.length){var i=v1.substr(0,cc);var v=v1.substr(cc+1,v3-(cc+1)).split(",");var m=1;switch(i){case"rgba":if(v.length!==4){Df(e,0,0,0,1);return}m=uD(v.pop());case"rgb":if(v.length!==3){Df(e,0,0,0,1);return}Df(e,i2(v[0]),i2(v[1]),i2(v[2]),m);ya(v2,e);return e;case"hsla":if(v.length!==4){Df(e,0,0,0,1);return}v[3]=uD(v[3]);vz(v,e);ya(v2,e);return e;case"hsl":if(v.length!==3){Df(e,0,0,0,1);return}vz(v,e);ya(v2,e);return e;default:return}}Df(e,0,0,0,1);return}function vz(cc,m){var Z=(((parseFloat(cc[0])%360)+360)%360)/360;var v=uD(cc[1]);var e=uD(cc[2]);var i=e<=0.5?e*(v+1):e+v-e*v;var k=e*2-i;m=m||[];Df(m,cp(BP(k,i,Z+1/3)*255),cp(BP(k,i,Z)*255),cp(BP(k,i,Z-1/3)*255),1);if(cc.length===4){m[3]=cc[3]}return m}function AR(v){if(!v){return}var cc=v[0]/255;var G6=v[1]/255;var k=v[2]/255;var v2=Math.min(cc,G6,k);var G7=Math.max(cc,G6,k);var G5=G7-v2;var v3=(G7+v2)/2;var G4;var Z;if(G5===0){G4=0;Z=0}else{if(v3<0.5){Z=G5/(G7+v2)}else{Z=G5/(2-G7-v2)}var v1=(((G7-cc)/6)+(G5/2))/G5;var i=(((G7-G6)/6)+(G5/2))/G5;var m=(((G7-k)/6)+(G5/2))/G5;if(cc===G7){G4=m-i}else{if(G6===G7){G4=(1/3)+v1-m}else{if(k===G7){G4=(2/3)+i-v1}}}if(G4<0){G4+=1}if(G4>1){G4-=1}}var e=[G4*360,Z,v3];if(v[3]!=null){e.push(v[3])}return e}function mq(e,v){var m=eH(e);if(m){for(var k=0;k<3;k++){if(v<0){m[k]=m[k]*(1-v)|0}else{m[k]=((255-m[k])*v+m[k])|0}if(m[k]>255){m[k]=255}else{if(e[k]<0){m[k]=0}}}return vw(m,m.length===4?"rgba":"rgb")}}function yp(e){var i=eH(e);if(i){return((1<<24)+(i[0]<<16)+(i[1]<<8)+(+i[2])).toString(16).slice(1)}}function P(Z,e,m){if(!(e&&e.length)||!(Z>=0&&Z<=1)){return}m=m||[];var v1=Z*(e.length-1);var cc=Math.floor(v1);var k=Math.ceil(v1);var v=e[cc];var v2=e[k];var i=v1-cc;m[0]=cp(yP(v[0],v2[0],i));m[1]=cp(yP(v[1],v2[1],i));m[2]=cp(yP(v[2],v2[2],i));m[3]=zQ(yP(v[3],v2[3],i));return m}var DK=P;function tV(cc,e,k){if(!(e&&e.length)||!(cc>=0&&cc<=1)){return}var v2=cc*(e.length-1);var v1=Math.floor(v2);var m=Math.ceil(v2);var Z=eH(e[v1]);var v3=eH(e[m]);var i=v2-v1;var v=vw([cp(yP(Z[0],v3[0],i)),cp(yP(Z[1],v3[1],i)),cp(yP(Z[2],v3[2],i)),zQ(yP(Z[3],v3[3],i))],"rgba");return k?{color:v,leftIndex:v1,rightIndex:m,value:v2}:v}var Ar=tV;function k8(i,m,k,e){i=eH(i);if(i){i=AR(i);m!=null&&(i[0]=l8(m));k!=null&&(i[1]=uD(k));e!=null&&(i[2]=uD(e));return vw(vz(i),"rgba")}}function h4(e,i){e=eH(e);if(e&&i!=null){e[3]=zQ(i);return vw(e,"rgba")}}function vw(k,i){if(!k||!k.length){return}var e=k[0]+","+k[1]+","+k[2];if(i==="rgba"||i==="hsva"||i==="hsla"){e+=","+k[3]}return i+"("+e+")"}var vK=(Object.freeze||Object)({parse:eH,lift:mq,toHex:yp,fastLerp:P,fastMapToColor:DK,lerp:tV,mapToColor:Ar,modifyHSL:k8,modifyAlpha:h4,stringify:vw});var fG=Array.prototype.slice;function zu(i,e){return i[e]}function yj(k,e,i){k[e]=i}function Fz(k,i,e){return(i-k)*e+k}function AJ(k,i,e){return e>0.5?i:k}function dz(v3,v2,cc,m,v1){var Z=v3.length;if(v1==1){for(var v=0;v<Z;v++){m[v]=Fz(v3[v],v2[v],cc)}}else{var e=Z&&v3[0].length;for(var v=0;v<Z;v++){for(var k=0;k<e;k++){m[v][k]=Fz(v3[v][k],v2[v][k],cc)}}}}function eE(v2,cc,Z){var v1=v2.length;var v=cc.length;if(v1!==v){var v3=v1>v;if(v3){v2.length=v}else{for(var m=v1;m<v;m++){v2.push(Z===1?cc[m]:fG.call(cc[m]))}}}var e=v2[0]&&v2[0].length;for(var m=0;m<v2.length;m++){if(Z===1){if(isNaN(v2[m])){v2[m]=cc[m]}}else{for(var k=0;k<e;k++){if(isNaN(v2[m][k])){v2[m][k]=cc[m][k]}}}}}function ec(cc,v,v1){if(cc===v){return true}var e=cc.length;if(e!==v.length){return false}if(v1===1){for(var Z=0;Z<e;Z++){if(cc[Z]!==v[Z]){return false}}}else{var k=cc[0].length;for(var Z=0;Z<e;Z++){for(var m=0;m<k;m++){if(cc[Z][m]!==v[Z][m]){return false}}}}return true}function wi(G6,G5,G4,v3,G7,cc,Z,m,v2){var v1=G6.length;if(v2==1){for(var v=0;v<v1;v++){m[v]=jX(G6[v],G5[v],G4[v],v3[v],G7,cc,Z)}}else{var e=G6[0].length;for(var v=0;v<v1;v++){for(var k=0;k<e;k++){m[v][k]=jX(G6[v][k],G5[v][k],G4[v][k],v3[v][k],G7,cc,Z)}}}}function jX(v1,cc,v,m,v2,i,e){var Z=(v-v1)*0.5;var k=(m-cc)*0.5;return(2*(cc-v)+Z+k)*e+(-3*(cc-v)-2*Z-k)*i+Z*v2+cc}function o4(v){if(r0(v)){var e=v.length;if(r0(v[0])){var k=[];for(var m=0;m<e;m++){k.push(fG.call(v[m]))}return k}return fG.call(v)}return v}function nn(e){e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1]);e[2]=Math.floor(e[2]);return"rgba("+e.join(",")+")"}function aW(i){var e=i[i.length-1].value;return r0(e&&e[0])?2:1}function r1(Ht,Hf,Hb,Hd,Hc,Hq){var G8=Ht._getter;var Hr=Ht._setter;var Hn=Hf==="spline";var k=Hd.length;if(!k){return}var Hi=Hd[0].value;var Hk=r0(Hi);var v2=false;var Z=false;var G4=Hk?aW(Hd):0;var G9;Hd.sort(function(Hu,i){return Hu.time-i.time});G9=Hd[k-1].time;var Hm=[];var Hs=[];var Hj=Hd[0].value;var He=true;for(var Hl=0;Hl<k;Hl++){Hm.push(Hd[Hl].time/G9);var Hh=Hd[Hl].value;if(!((Hk&&ec(Hh,Hj,G4))||(!Hk&&Hh===Hj))){He=false}Hj=Hh;if(typeof Hh=="string"){var G7=eH(Hh);if(G7){Hh=G7;v2=true}else{Z=true}}Hs.push(Hh)}if(!Hq&&He){return}var v3=Hs[k-1];for(var Hl=0;Hl<k-1;Hl++){if(Hk){eE(Hs[Hl],v3,G4)}else{if(isNaN(Hs[Hl])&&!isNaN(v3)&&!Z&&!v2){Hs[Hl]=v3}}}Hk&&eE(G8(Ht._target,Hc),v3,G4);var e=0;var Hg=0;var G5;var Ha;var v1;var cc;var v;var m;if(v2){var G6=[0,0,0,0]}var Hp=function(Hw,Hu){var Hx;if(Hu<0){Hx=0}else{if(Hu<Hg){G5=Math.min(e+1,k-1);for(Hx=G5;Hx>=0;Hx--){if(Hm[Hx]<=Hu){break}}Hx=Math.min(Hx,k-2)}else{for(Hx=e;Hx<k;Hx++){if(Hm[Hx]>Hu){break}}Hx=Math.min(Hx-1,k-2)}}e=Hx;Hg=Hu;var i=(Hm[Hx+1]-Hm[Hx]);if(i===0){return}else{Ha=(Hu-Hm[Hx])/i}if(Hn){cc=Hs[Hx];v1=Hs[Hx===0?Hx:Hx-1];v=Hs[Hx>k-2?k-1:Hx+1];m=Hs[Hx>k-3?k-1:Hx+2];if(Hk){wi(v1,cc,v,m,Ha,Ha*Ha,Ha*Ha*Ha,G8(Hw,Hc),G4)}else{var Hv;if(v2){Hv=wi(v1,cc,v,m,Ha,Ha*Ha,Ha*Ha*Ha,G6,1);Hv=nn(G6)}else{if(Z){return AJ(cc,v,Ha)}else{Hv=jX(v1,cc,v,m,Ha,Ha*Ha,Ha*Ha*Ha)}}Hr(Hw,Hc,Hv)}}else{if(Hk){dz(Hs[Hx],Hs[Hx+1],Ha,G8(Hw,Hc),G4)}else{var Hv;if(v2){dz(Hs[Hx],Hs[Hx+1],Ha,G6,1);Hv=nn(G6)}else{if(Z){return AJ(Hs[Hx],Hs[Hx+1],Ha)}else{Hv=Fz(Hs[Hx],Hs[Hx+1],Ha)}}Hr(Hw,Hc,Hv)}}};var Ho=new eA({target:Ht._target,life:G9,loop:Ht._loop,delay:Ht._delay,onframe:Hp,ondestroy:Hb});if(Hf&&Hf!=="spline"){Ho.easing=Hf}return Ho}var gz=function(k,i,e,m){this._tracks={};this._target=k;this._loop=i||false;this._getter=e||zu;this._setter=m||yj;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};gz.prototype={when:function(v,i){var e=this._tracks;for(var m in i){if(!i.hasOwnProperty(m)){continue}if(!e[m]){e[m]=[];var k=this._getter(this._target,m);if(k==null){continue}if(v!==0){e[m].push({time:0,value:o4(k)})}}e[m].push({time:v,value:i[m]})}return this},during:function(e){this._onframeList.push(e);return this},pause:function(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].pause()}this._paused=true},resume:function(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].resume()}this._paused=false},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;var m=this._doneList;var e=m.length;for(var k=0;k<e;k++){m[k].call(this)}},start:function(cc,Z){var v1=this;var i=0;var k=function(){i--;if(!i){v1._doneCallback()}};var e;for(var v in this._tracks){if(!this._tracks.hasOwnProperty(v)){continue}var m=r1(this,cc,k,this._tracks[v],v,Z);if(m){this._clipList.push(m);i++;if(this.animation){this.animation.addClip(m)}e=m}}if(e){var v2=e.onframe;e.onframe=function(G5,G4){v2(G5,G4);for(var v3=0;v3<v1._onframeList.length;v3++){v1._onframeList[v3](G5,G4)}}}if(!i){this._doneCallback()}return this},stop:function(e){var m=this._clipList;var Z=this.animation;for(var k=0;k<m.length;k++){var v=m[k];if(e){v.onframe(this._target,1)}Z&&Z.removeClip(v)}m.length=0},delay:function(e){this._delay=e;return this},done:function(e){if(e){this._doneList.push(e)}return this},getClips:function(){return this._clipList}};var rj=1;if(typeof window!=="undefined"){rj=Math.max(window.devicePixelRatio||1,1)}var qL=0;var hO=rj;var aV=function(){};if(qL===1){aV=function(){for(var e in arguments){throw new Error(arguments[e])}}}else{if(qL>1){aV=function(){for(var e in arguments){console.log(arguments[e])}}}}var Fl=aV;var tK=function(){this.animators=[]};tK.prototype={constructor:tK,animate:function(G6,v1){var v2;var G5=false;var k=this;var v3=this.__zr;if(G6){var G4=G6.split(".");var e=k;G5=G4[0]==="shape";for(var cc=0,v=G4.length;cc<v;cc++){if(!e){continue}e=e[G4[cc]]}if(e){v2=e}}else{v2=k}if(!v2){Fl('Property "'+G6+'" is not existed in element '+k.id);return}var Z=k.animators;var m=new gz(v2,v1);m.during(function(i){k.dirty(G5)}).done(function(){Z.splice(eB(Z,m),1)});Z.push(m);if(v3){v3.animation.addAnimator(m)}return m},stopAnimation:function(k){var v=this.animators;var e=v.length;for(var m=0;m<e;m++){v[m].stop(k)}v.length=0;return this},animateTo:function(v2,e,Z,v3,G4,cc){if(vi(Z)){G4=v3;v3=Z;Z=0}else{if(D0(v3)){G4=v3;v3="linear";Z=0}else{if(D0(Z)){G4=Z;Z=0}else{if(D0(e)){G4=e;e=500}else{if(!e){e=500}}}}}this.stopAnimation();this._animateToShallow("",this,v2,e,Z);var m=this.animators.slice();var v1=m.length;function k(){v1--;if(!v1){G4&&G4()}}if(!v1){G4&&G4()}for(var v=0;v<m.length;v++){m[v].done(k).start(v3,cc)}},_animateToShallow:function(v2,e,cc,v,Z){var k={};var m=0;for(var i in cc){if(!cc.hasOwnProperty(i)){continue}if(e[i]!=null){if(sU(cc[i])&&!r0(cc[i])){this._animateToShallow(v2?v2+"."+i:i,e[i],cc[i],v,Z)}else{k[i]=cc[i];m++}}else{if(cc[i]!=null){if(!v2){this.attr(i,cc[i])}else{var v1={};v1[v2]={};v1[v2][i]=cc[i];this.attr(v1)}}}}if(m>0){this.animate(v2,false).when(v==null?500:v,k).delay(Z||0)}return this}};var sa=function(e){bI.call(this,e);E1.call(this,e);tK.call(this,e);this.id=e.id||dg()};sa.prototype={type:"element",name:"",__zr:null,ignore:false,clipPath:null,isGroup:false,drift:function(k,i){switch(this.draggable){case"horizontal":i=0;break;case"vertical":k=0;break}var e=this.transform;if(!e){e=this.transform=[1,0,0,1,0,0]}e[4]+=k;e[5]+=i;this.decomposeTransform();this.dirty(false)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,i){},attrKV:function(e,i){if(e==="position"||e==="scale"||e==="origin"){if(i){var k=this[e];if(!k){k=this[e]=[]}k[0]=i[0];k[1]=i[1]}}else{this[e]=i}},hide:function(){this.ignore=true;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=false;this.__zr&&this.__zr.refresh()},attr:function(i,k){if(typeof i==="string"){this.attrKV(i,k)}else{if(sU(i)){for(var e in i){if(i.hasOwnProperty(e)){this.attrKV(e,i[e])}}}}this.dirty(false);return this},setClipPath:function(e){var i=this.__zr;if(i){e.addSelfToZr(i)}if(this.clipPath&&this.clipPath!==e){this.removeClipPath()}this.clipPath=e;e.__zr=i;e.__clipTarget=this;this.dirty(false)},removeClipPath:function(){var e=this.clipPath;if(e){if(e.__zr){e.removeSelfFromZr(e.__zr)}e.__zr=null;e.__clipTarget=null;this.clipPath=null;this.dirty(false)}},addSelfToZr:function(m){this.__zr=m;var k=this.animators;if(k){for(var e=0;e<k.length;e++){m.animation.addAnimator(k[e])}}if(this.clipPath){this.clipPath.addSelfToZr(m)}},removeSelfFromZr:function(m){this.__zr=null;var k=this.animators;if(k){for(var e=0;e<k.length;e++){m.animation.removeAnimator(k[e])}}if(this.clipPath){this.clipPath.removeSelfFromZr(m)}}};Ff(sa,tK);Ff(sa,bI);Ff(sa,E1);var FW=aZ;var v9=Math.min;var y9=Math.max;function BM(i,m,k,e){if(k<0){i=i+k;k=-k}if(e<0){m=m+e;e=-e}this.x=i;this.y=m;this.width=k;this.height=e}BM.prototype={constructor:BM,union:function(i){var e=v9(i.x,this.x);var k=v9(i.y,this.y);this.width=y9(i.x+i.width,this.x+this.width)-e;this.height=y9(i.y+i.height,this.y+this.height)-k;this.x=e;this.y=k},applyTransform:(function(){var e=[];var m=[];var k=[];var i=[];return function(v){if(!v){return}e[0]=k[0]=this.x;e[1]=i[1]=this.y;m[0]=i[0]=this.x+this.width;m[1]=k[1]=this.y+this.height;FW(e,e,v);FW(m,m,v);FW(k,k,v);FW(i,i,v);this.x=v9(e[0],m[0],k[0],i[0]);this.y=v9(e[1],m[1],k[1],i[1]);var cc=y9(e[0],m[0],k[0],i[0]);var Z=y9(e[1],m[1],k[1],i[1]);this.width=cc-this.x;this.height=Z-this.y}})(),calculateTransform:function(i){var k=this;var Z=i.width/k.width;var v=i.height/k.height;var e=BF();uy(e,e,[-k.x,-k.y]);qb(e,e,[Z,v]);uy(e,e,[i.x,i.y]);return e},intersect:function(cc){if(!cc){return false}if(!(cc instanceof BM)){cc=BM.create(cc)}var v1=this;var m=v1.x;var k=v1.x+v1.width;var v3=v1.y;var v2=v1.y+v1.height;var Z=cc.x;var v=cc.x+cc.width;var i=cc.y;var e=cc.y+cc.height;return !(k<Z||v<m||v2<i||e<v3)},contain:function(e,k){var i=this;return e>=i.x&&e<=(i.x+i.width)&&k>=i.y&&k<=(i.y+i.height)},clone:function(){return new BM(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};BM.create=function(e){return new BM(e.x,e.y,e.width,e.height)};var Bd=function(i){i=i||{};sa.call(this,i);for(var e in i){if(i.hasOwnProperty(e)){this[e]=i[e]}}this._children=[];this.__storage=null;this.__dirty=true};Bd.prototype={constructor:Bd,isGroup:true,type:"group",silent:false,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){var m=this._children;for(var k=0;k<m.length;k++){if(m[k].name===e){return m[k]}}},childCount:function(){return this._children.length},add:function(e){if(e&&e!==this&&e.parent!==this){this._children.push(e);this._doAdd(e)}return this},addBefore:function(m,k){if(m&&m!==this&&m.parent!==this&&k&&k.parent===this){var i=this._children;var e=i.indexOf(k);if(e>=0){i.splice(e,0,m);this._doAdd(m)}}return this},_doAdd:function(k){if(k.parent){k.parent.remove(k)}k.parent=this;var i=this.__storage;var e=this.__zr;if(i&&i!==k.__storage){i.addToStorage(k);if(k instanceof Bd){k.addChildrenToStorage(i)}}e&&e.refresh()},remove:function(v){var k=this.__zr;var m=this.__storage;var i=this._children;var e=eB(i,v);if(e<0){return this}i.splice(e,1);v.parent=null;if(m){m.delFromStorage(v);if(v instanceof Bd){v.delChildrenFromStorage(m)}}k&&k.refresh();return this},removeAll:function(){var k=this._children;var v=this.__storage;var m;var e;for(e=0;e<k.length;e++){m=k[e];if(v){v.delFromStorage(m);if(m instanceof Bd){m.delChildrenFromStorage(v)}}m.parent=null}k.length=0;return this},eachChild:function(e,v){var m=this._children;for(var k=0;k<m.length;k++){var Z=m[k];e.call(v,Z,k)}return this},traverse:function(e,m){for(var k=0;k<this._children.length;k++){var v=this._children[k];e.call(m,v);if(v.type==="group"){v.traverse(e,m)}}return this},addChildrenToStorage:function(m){for(var e=0;e<this._children.length;e++){var k=this._children[e];m.addToStorage(k);if(k instanceof Bd){k.addChildrenToStorage(m)}}},delChildrenFromStorage:function(m){for(var e=0;e<this._children.length;e++){var k=this._children[e];m.delFromStorage(k);if(k instanceof Bd){k.delChildrenFromStorage(m)}}},dirty:function(){this.__dirty=true;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(v){var v1=null;var v2=new BM(0,0,0,0);var k=v||this._children;var v3=[];for(var Z=0;Z<k.length;Z++){var e=k[Z];if(e.ignore||e.invisible){continue}var cc=e.getBoundingRect();var m=e.getLocalTransform(v3);if(m){v2.copy(cc);v2.applyTransform(m);v1=v1||v2.clone();v1.union(v2)}else{v1=v1||cc.clone();v1.union(cc)}}return v1||v2}};lZ(Bd,sa);var g8=32;var wI=7;function sZ(i){var e=0;while(i>=g8){e|=i&1;i>>=1}return i+e}function aL(v,i,e,k){var m=i+1;if(m===e){return 1}if(k(v[m++],v[i])<0){while(m<e&&k(v[m],v[m-1])<0){m++}hR(v,i,m)}else{while(m<e&&k(v[m],v[m-1])>=0){m++}}return m-i}function hR(m,k,e){e--;while(k<e){var i=m[k];m[k++]=m[e];m[e--]=i}}function xT(Z,cc,v,e,i){if(e===cc){e++}for(;e<v;e++){var v3=Z[e];var m=cc;var v2=e;var v1;while(m<v2){v1=m+v2>>>1;if(i(v3,Z[v1])<0){v2=v1}else{m=v1+1}}var k=e-m;switch(k){case 3:Z[m+3]=Z[m+2];case 2:Z[m+2]=Z[m+1];case 1:Z[m+1]=Z[m];break;default:while(k>0){Z[m+k]=Z[m+k-1];k--}}Z[m]=v3}}function vv(G5,G4,i,v,v2,k){var e=0;var cc=0;var v1=1;if(k(G5,G4[i+v2])>0){cc=v-v2;while(v1<cc&&k(G5,G4[i+v2+v1])>0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=cc}}if(v1>cc){v1=cc}e+=v2;v1+=v2}else{cc=v2+1;while(v1<cc&&k(G5,G4[i+v2-v1])<=0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=cc}}if(v1>cc){v1=cc}var v3=e;e=v2-v1;v1=v2-v3}e++;while(e<v1){var Z=e+(v1-e>>>1);if(k(G5,G4[i+Z])>0){e=Z+1}else{v1=Z}}return v1}function Bw(G5,G4,i,v,v2,k){var e=0;var cc=0;var v1=1;if(k(G5,G4[i+v2])<0){cc=v2+1;while(v1<cc&&k(G5,G4[i+v2-v1])<0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=cc}}if(v1>cc){v1=cc}var v3=e;e=v2-v1;v1=v2-v3}else{cc=v-v2;while(v1<cc&&k(G5,G4[i+v2+v1])>=0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=cc}}if(v1>cc){v1=cc}e+=v2;v1+=v2}e++;while(e<v1){var Z=e+(v1-e>>>1);if(k(G5,G4[i+Z])<0){v1=Z}else{e=Z+1}}return v1}function wR(cc,e){var G6=wI;var v2;var k;var G5=0;var v=[];v2=[];k=[];function v3(G8,G7){v2[G5]=G8;k[G5]=G7;G5+=1}function m(){while(G5>1){var G7=G5-2;if(G7>=1&&k[G7-1]<=k[G7]+k[G7+1]||G7>=2&&k[G7-2]<=k[G7]+k[G7-1]){if(k[G7-1]<k[G7+1]){G7--}}else{if(k[G7]>k[G7+1]){break}}v1(G7)}}function G4(){while(G5>1){var G7=G5-2;if(G7>0&&k[G7-1]<k[G7+1]){G7--}v1(G7)}}function v1(G8){var Ha=v2[G8];var Hc=k[G8];var G9=v2[G8+1];var Hb=k[G8+1];k[G8]=Hc+Hb;if(G8===G5-3){v2[G8+1]=v2[G8+2];k[G8+1]=k[G8+2]}G5--;var G7=Bw(cc[G9],cc,Ha,Hc,0,e);Ha+=G7;Hc-=G7;if(Hc===0){return}Hb=vv(cc[Ha+Hc-1],cc,G9,Hb,Hb-1,e);if(Hb===0){return}if(Hc<=Hb){Z(Ha,Hc,G9,Hb)}else{i(Ha,Hc,G9,Hb)}}function Z(Hc,Hb,G9,G8){var He=0;for(He=0;He<Hb;He++){v[He]=cc[Hc+He]}var G7=0;var Hi=G9;var Hh=Hc;cc[Hh++]=cc[Hi++];if(--G8===0){for(He=0;He<Hb;He++){cc[Hh+He]=v[G7+He]}return}if(Hb===1){for(He=0;He<G8;He++){cc[Hh+He]=cc[Hi+He]}cc[Hh+G8]=v[G7];return}var Hd=G6;var Hg,Hf,Ha;while(1){Hg=0;Hf=0;Ha=false;do{if(e(cc[Hi],v[G7])<0){cc[Hh++]=cc[Hi++];Hf++;Hg=0;if(--G8===0){Ha=true;break}}else{cc[Hh++]=v[G7++];Hg++;Hf=0;if(--Hb===1){Ha=true;break}}}while((Hg|Hf)<Hd);if(Ha){break}do{Hg=Bw(cc[Hi],v,G7,Hb,0,e);if(Hg!==0){for(He=0;He<Hg;He++){cc[Hh+He]=v[G7+He]}Hh+=Hg;G7+=Hg;Hb-=Hg;if(Hb<=1){Ha=true;break}}cc[Hh++]=cc[Hi++];if(--G8===0){Ha=true;break}Hf=vv(v[G7],cc,Hi,G8,0,e);if(Hf!==0){for(He=0;He<Hf;He++){cc[Hh+He]=cc[Hi+He]}Hh+=Hf;Hi+=Hf;G8-=Hf;if(G8===0){Ha=true;break}}cc[Hh++]=v[G7++];if(--Hb===1){Ha=true;break}Hd--}while(Hg>=wI||Hf>=wI);if(Ha){break}if(Hd<0){Hd=0}Hd+=2}G6=Hd;G6<1&&(G6=1);if(Hb===1){for(He=0;He<G8;He++){cc[Hh+He]=cc[Hi+He]}cc[Hh+G8]=v[G7]}else{if(Hb===0){throw new Error()}else{for(He=0;He<Hb;He++){cc[Hh+He]=v[G7+He]}}}}function i(Hc,Hb,G9,G8){var Hf=0;for(Hf=0;Hf<G8;Hf++){v[Hf]=cc[G9+Hf]}var G7=Hc+Hb-1;var Hk=G8-1;var Hj=G9+G8-1;var Hg=0;var He=0;cc[Hj--]=cc[G7--];if(--Hb===0){Hg=Hj-(G8-1);for(Hf=0;Hf<G8;Hf++){cc[Hg+Hf]=v[Hf]}return}if(G8===1){Hj-=Hb;G7-=Hb;He=Hj+1;Hg=G7+1;for(Hf=Hb-1;Hf>=0;Hf--){cc[He+Hf]=cc[Hg+Hf]}cc[Hj]=v[Hk];return}var Hd=G6;while(true){var Hi=0;var Hh=0;var Ha=false;do{if(e(v[Hk],cc[G7])<0){cc[Hj--]=cc[G7--];Hi++;Hh=0;if(--Hb===0){Ha=true;break}}else{cc[Hj--]=v[Hk--];Hh++;Hi=0;if(--G8===1){Ha=true;break}}}while((Hi|Hh)<Hd);if(Ha){break}do{Hi=Hb-Bw(v[Hk],cc,Hc,Hb,Hb-1,e);if(Hi!==0){Hj-=Hi;G7-=Hi;Hb-=Hi;He=Hj+1;Hg=G7+1;for(Hf=Hi-1;Hf>=0;Hf--){cc[He+Hf]=cc[Hg+Hf]}if(Hb===0){Ha=true;break}}cc[Hj--]=v[Hk--];if(--G8===1){Ha=true;break}Hh=G8-vv(cc[G7],v,0,G8,G8-1,e);if(Hh!==0){Hj-=Hh;Hk-=Hh;G8-=Hh;He=Hj+1;Hg=Hk+1;for(Hf=0;Hf<Hh;Hf++){cc[He+Hf]=v[Hg+Hf]}if(G8<=1){Ha=true;break}}cc[Hj--]=cc[G7--];if(--Hb===0){Ha=true;break}Hd--}while(Hi>=wI||Hh>=wI);if(Ha){break}if(Hd<0){Hd=0}Hd+=2}G6=Hd;if(G6<1){G6=1}if(G8===1){Hj-=Hb;G7-=Hb;He=Hj+1;Hg=G7+1;for(Hf=Hb-1;Hf>=0;Hf--){cc[He+Hf]=cc[Hg+Hf]}cc[Hj]=v[Hk]}else{if(G8===0){throw new Error()}else{Hg=Hj-(G8-1);for(Hf=0;Hf<G8;Hf++){cc[Hg+Hf]=v[Hf]}}}}this.mergeRuns=m;this.forceMergeRuns=G4;this.pushRun=v3}function pK(Z,i,cc,k){if(!cc){cc=0}if(!k){k=Z.length}var v=k-cc;if(v<2){return}var m=0;if(v<g8){m=aL(Z,cc,k,i);xT(Z,cc,k,cc+m,i);return}var v1=new wR(Z,i);var v2=sZ(v);do{m=aL(Z,cc,k,i);if(m<v2){var e=v;if(e>v2){e=v2}xT(Z,cc,cc+e,cc+m,i);m=e}v1.pushRun(cc,m);v1.mergeRuns();v-=m;cc+=m}while(v!==0);v1.forceMergeRuns()}function Dq(i,e){if(i.zlevel===e.zlevel){if(i.z===e.z){return i.z2-e.z2}return i.z-e.z}return i.zlevel-e.zlevel}var dl=function(){this._roots=[];this._displayList=[];this._displayListLen=0};dl.prototype={constructor:dl,traverse:function(e,m){for(var k=0;k<this._roots.length;k++){this._roots[k].traverse(e,m)}},getDisplayList:function(i,e){e=e||false;if(i){this.updateDisplayList(e)}return this._displayList},updateDisplayList:function(m){this._displayListLen=0;var k=this._roots;var Z=this._displayList;for(var v=0,e=k.length;v<e;v++){this._updateAndAddDisplayable(k[v],null,m)}Z.length=this._displayListLen;r6.canvasSupported&&pK(Z,Dq)},_updateAndAddDisplayable:function(k,v1,Z){if(k.ignore&&!Z){return}k.beforeUpdate();if(k.__dirty){k.update()}k.afterUpdate();var v2=k.clipPath;if(v2){if(v1){v1=v1.slice()}else{v1=[]}var cc=v2;var v3=k;while(cc){cc.parent=v3;cc.updateTransform();v1.push(cc);v3=cc;cc=cc.clipPath}}if(k.isGroup){var m=k._children;for(var v=0;v<m.length;v++){var e=m[v];if(k.__dirty){e.__dirty=true}this._updateAndAddDisplayable(e,v1,Z)}k.__dirty=false}else{k.__clipPaths=v1;this._displayList[this._displayListLen++]=k}},addRoot:function(e){if(e.__storage===this){return}if(e instanceof Bd){e.addChildrenToStorage(this)}this.addToStorage(e);this._roots.push(e)},delRoot:function(Z){if(Z==null){for(var v=0;v<this._roots.length;v++){var m=this._roots[v];if(m instanceof Bd){m.delChildrenFromStorage(this)}}this._roots=[];this._displayList=[];this._displayListLen=0;return}if(Z instanceof Array){for(var v=0,k=Z.length;v<k;v++){this.delRoot(Z[v])}return}var e=eB(this._roots,Z);if(e>=0){this.delFromStorage(Z);this._roots.splice(e,1);if(Z instanceof Bd){Z.delChildrenFromStorage(this)}}},addToStorage:function(e){if(e){e.__storage=this;e.dirty(false)}return this},delFromStorage:function(e){if(e){e.__storage=null}return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Dq};var wb={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};var pR=function(e,k,i){if(wb.hasOwnProperty(k)){return i*=e.dpr}return i};var k7=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];var w3=function(i,e){this.extendFrom(i,false);this.host=e};function Ef(i,cc,v){var e=cc.x==null?0:cc.x;var k=cc.x2==null?1:cc.x2;var v1=cc.y==null?0:cc.y;var m=cc.y2==null?0:cc.y2;if(!cc.global){e=e*v.width+v.x;k=k*v.width+v.x;v1=v1*v.height+v.y;m=m*v.height+v.y}e=isNaN(e)?0:e;k=isNaN(k)?1:k;v1=isNaN(v1)?0:v1;m=isNaN(m)?0:m;var Z=i.createLinearGradient(e,v1,k,m);return Z}function a4(v3,m,Z){var i=Z.width;var v2=Z.height;var k=Math.min(i,v2);var v1=m.x==null?0.5:m.x;var v=m.y==null?0.5:m.y;var e=m.r==null?0.5:m.r;if(!m.global){v1=v1*i+Z.x;v=v*v2+Z.y;e=e*k}var cc=v3.createRadialGradient(v1,v,0,v1,v,e);return cc}w3.prototype={constructor:w3,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:false,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:false,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(G4,v,e){var m=this;var v3=e&&e.style;var v2=!v3;for(var cc=0;cc<k7.length;cc++){var k=k7[cc];var Z=k[0];if(v2||m[Z]!==v3[Z]){G4[Z]=pR(G4,Z,m[Z]||k[1])}}if((v2||m.fill!==v3.fill)){G4.fillStyle=m.fill}if((v2||m.stroke!==v3.stroke)){G4.strokeStyle=m.stroke}if((v2||m.opacity!==v3.opacity)){G4.globalAlpha=m.opacity==null?1:m.opacity}if((v2||m.blend!==v3.blend)){G4.globalCompositeOperation=m.blend||"source-over"}if(this.hasStroke()){var v1=m.lineWidth;G4.lineWidth=v1/((this.strokeNoScale&&v&&v.getLineScale)?v.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,k){if(e){for(var i in e){if(e.hasOwnProperty(i)&&(k===true||(k===false?!this.hasOwnProperty(i):e[i]!=null))){this[i]=e[i]}}}},set:function(i,e){if(typeof i==="string"){this[i]=e}else{this.extendFrom(i,true)}},clone:function(){var e=new this.constructor();e.extendFrom(this,true);return e},getGradient:function(e,cc,v){var v1=cc.type==="radial"?a4:Ef;var Z=v1(e,cc,v);var k=cc.colorStops;for(var m=0;m<k.length;m++){Z.addColorStop(k[m].offset,k[m].color)}return Z}};var mt=w3.prototype;for(var F2=0;F2<k7.length;F2++){var wA=k7[F2];if(!(wA[0] in mt)){mt[wA[0]]=wA[1]}}w3.getGradient=mt.getGradient;var ol=function(i,e){this.image=i;this.repeat=e;this.type="pattern"};ol.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};function ts(){return false}function wJ(cc,i,v){var k=Cf();var m=i.getWidth();var e=i.getHeight();var Z=k.style;if(Z){Z.position="absolute";Z.left=0;Z.top=0;Z.width=m+"px";Z.height=e+"px";k.setAttribute("data-zr-dom-id",cc)}k.width=m*v;k.height=e*v;return k}var eb=function(v,e,k){var m;k=k||hO;if(typeof v==="string"){m=wJ(v,e,k)}else{if(sU(v)){m=v;v=m.id}}this.id=v;this.dom=m;var i=m.style;if(i){m.onselectstart=ts;i["-webkit-user-select"]="none";i["user-select"]="none";i["-webkit-touch-callout"]="none";i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";i.padding=0;i.margin=0;i["border-width"]=0}this.domBack=null;this.ctxBack=null;this.painter=e;this.config=null;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.dpr=k};eb.prototype={constructor:eb,__dirty:true,__used:false,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:false,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=wJ("back-"+this.id,this.painter,e);this.ctxBack=this.domBack.getContext("2d");if(e!=1){this.ctxBack.scale(e,e)}},resize:function(m,e){var v=this.dpr;var Z=this.dom;var k=Z.style;var i=this.domBack;if(k){k.width=m+"px";k.height=e+"px"}Z.width=m*v;Z.height=e*v;if(i){i.width=m*v;i.height=e*v;if(v!=1){this.ctxBack.scale(v,v)}}},clear:function(v,v3){var k=this.dom;var G4=this.ctx;var i=k.width;var v2=k.height;var v3=v3||this.clearColor;var v1=this.motionBlur&&!v;var e=this.lastFrameAlpha;var cc=this.dpr;if(v1){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(k,0,0,i/cc,v2/cc)}G4.clearRect(0,0,i,v2);if(v3&&v3!=="transparent"){var Z;if(v3.colorStops){Z=v3.__canvasGradient||w3.getGradient(G4,v3,{x:0,y:0,width:i,height:v2});v3.__canvasGradient=Z}else{if(v3.image){Z=ol.prototype.getCanvasPattern.call(v3,G4)}}G4.save();G4.fillStyle=Z||v3;G4.fillRect(0,0,i,v2);G4.restore()}if(v1){var m=this.domBack;G4.save();G4.globalAlpha=e;G4.drawImage(m,0,0,i,v2);G4.restore()}}};var mX=(typeof window!=="undefined"&&((window.requestAnimationFrame&&window.requestAnimationFrame.bind(window))||(window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window))||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame))||function(e){setTimeout(e,16)};var bh=new lh(50);function mQ(e){if(typeof e==="string"){var i=bh.get(e);return i&&i.image}else{return e}}function ox(k,cc,m,i,e){if(!k){return cc}else{if(typeof k==="string"){if((cc&&cc.__zrImageSrc===k)||!m){return cc}var Z=bh.get(k);var v={hostEl:m,cb:i,cbPayload:e};if(Z){cc=Z.image;!Fr(cc)&&Z.pending.push(v)}else{!cc&&(cc=new Image());cc.onload=f7;bh.put(k,cc.__cachedImgObj={image:cc,pending:[v]});cc.src=cc.__zrImageSrc=k}return cc}else{return k}}}function f7(){var v=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var k=0;k<v.pending.length;k++){var m=v.pending[k];var e=m.cb;e&&e(this,m.cbPayload);m.hostEl.dirty()}v.pending.length=0}function Fr(e){return e&&e.width&&e.height}var o5={};var il=0;var wu=5000;var vy=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;var DU="12px sans-serif";var js={};function gK(e,i){js[e]=i}function iR(v1,k){k=k||DU;var v=v1+":"+k;if(o5[v]){return o5[v]}var cc=(v1+"").split("\n");var Z=0;for(var m=0,e=cc.length;m<e;m++){Z=Math.max(uG(cc[m],k).width,Z)}if(il>wu){il=0;o5={}}il++;o5[v]=Z;return Z}function Fg(cc,k,m,i,Z,e,v){return e?gB(cc,k,m,i,Z,e,v):wf(cc,k,m,i,Z,v)}function wf(G4,i,e,m,cc,v2){var k=w(G4,i,cc,v2);var G5=iR(G4,i);if(cc){G5+=cc[1]+cc[3]}var v3=k.outerHeight;var v1=tL(0,G5,e);var Z=tH(0,v3,m);var v=new BM(v1,Z,G5,v3);v.lineHeight=k.lineHeight;return v}function gB(G4,k,e,v,cc,i,v2){var m=rC(G4,{rich:i,truncate:v2,font:k,textAlign:e,textPadding:cc});var G5=m.outerWidth;var v3=m.outerHeight;var v1=tL(0,G5,e);var Z=tH(0,v3,v);return new BM(v1,Z,G5,v3)}function tL(e,k,i){if(i==="right"){e-=k}else{if(i==="center"){e-=k/2}}return e}function tH(k,e,i){if(i==="middle"){k-=e/2}else{if(i==="bottom"){k-=e}}return k}function EL(v3,cc,e){var v1=cc.x;var Z=cc.y;var v2=cc.height;var k=cc.width;var v=v2/2;var i="left";var m="top";switch(v3){case"left":v1-=e;Z+=v;i="right";m="middle";break;case"right":v1+=e+k;Z+=v;m="middle";break;case"top":v1+=k/2;Z-=e;i="center";m="bottom";break;case"bottom":v1+=k/2;Z+=v2+e;i="center";break;case"inside":v1+=k/2;Z+=v;i="center";m="middle";break;case"insideLeft":v1+=e;Z+=v;m="middle";break;case"insideRight":v1+=k-e;Z+=v;i="right";m="middle";break;case"insideTop":v1+=k/2;Z+=e;i="center";break;case"insideBottom":v1+=k/2;Z+=v2-e;i="center";m="bottom";break;case"insideTopLeft":v1+=e;Z+=e;break;case"insideTopRight":v1+=k-e;Z+=e;i="right";break;case"insideBottomLeft":v1+=e;Z+=v2-e;m="bottom";break;case"insideBottomRight":v1+=k-e;Z+=v2-e;i="right";m="bottom";break}return{x:v1,y:Z,textAlign:i,textVerticalAlign:m}}function aX(v2,v1,m,k,v){if(!v1){return""}var cc=(v2+"").split("\n");v=x(v1,m,k,v);for(var Z=0,e=cc.length;Z<e;Z++){cc[Z]=d5(cc[Z],v)}return cc.join("\n")}function x(v1,v,v2,v3){v3=bY({},v3);v3.font=v;var v2=jP(v2,"...");v3.maxIterations=jP(v3.maxIterations,2);var m=v3.minChar=jP(v3.minChar,0);v3.cnCharWidth=iR("",v);var Z=v3.ascCharWidth=iR("a",v);v3.placeholder=jP(v3.placeholder,"");var e=v1=Math.max(0,v1-1);for(var cc=0;cc<m&&e>=Z;cc++){e-=Z}var k=iR(v2);if(k>e){v2="";k=0}e=v1-k;v3.ellipsis=v2;v3.ellipsisWidth=k;v3.contentWidth=e;v3.containerWidth=v1;return v3}function d5(cc,v){var v1=v.containerWidth;var k=v.font;var i=v.contentWidth;if(!v1){return""}var e=iR(cc,k);if(e<=v1){return cc}for(var m=0;;m++){if(e<=i||m>=v.maxIterations){cc+=v.ellipsis;break}var Z=m===0?jY(cc,i,v.ascCharWidth,v.cnCharWidth):e>0?Math.floor(cc.length*i/e):0;cc=cc.substr(0,Z);e=iR(cc,k)}if(cc===""){cc=v.placeholder}return cc}function jY(v2,v,v1,m){var cc=0;var Z=0;for(var e=v2.length;Z<e&&cc<v;Z++){var k=v2.charCodeAt(Z);cc+=(0<=k&&k<=127)?v1:m}return Z}function nt(e){return iR("",e)}function uG(i,e){return js.measureText(i,e)}js.measureText=function(k,i){var e=n6();e.font=i||DU;return e.measureText(k)};function w(G4,e,Z,cc){G4!=null&&(G4+="");var v1=nt(e);var G7=G4?G4.split("\n"):[];var G5=G7.length*v1;var v2=G5;if(Z){v2+=Z[0]+Z[2]}if(G4&&cc){var v=cc.outerHeight;var v3=cc.outerWidth;if(v!=null&&v2>v){G4="";G7=[]}else{if(v3!=null){var G6=x(v3-(Z?Z[1]+Z[3]:0),e,cc.ellipsis,{minChar:cc.minChar,placeholder:cc.placeholder});for(var k=0,m=G7.length;k<m;k++){G7[k]=d5(G7[k],G6)}}}}return{lines:G7,height:G5,outerHeight:v2,lineHeight:v1}}function rC(Hb,Hn){var v3={lines:[],width:0,height:0};Hb!=null&&(Hb+="");if(!Hb){return v3}var Ho=vy.lastIndex=0;var G7;while((G7=vy.exec(Hb))!=null){var Hi=G7.index;if(Hi>Ho){ft(v3,Hb.substring(Ho,Hi))}ft(v3,G7[2],G7[1]);Ho=vy.lastIndex}if(Ho<Hb.length){ft(v3,Hb.substring(Ho,Hb.length))}var k=v3.lines;var Hh=0;var Hd=0;var Ha=[];var G5=Hn.textPadding;var m=Hn.truncate;var G4=m&&m.outerWidth;var v1=m&&m.outerHeight;if(G5){G4!=null&&(G4-=G5[1]+G5[3]);v1!=null&&(v1-=G5[0]+G5[2])}for(var Hl=0;Hl<k.length;Hl++){var G8=k[Hl];var Z=0;var e=0;for(var Hg=0;Hg<G8.tokens.length;Hg++){var v2=G8.tokens[Hg];var Hk=v2.styleName&&Hn.rich[v2.styleName]||{};var Hj=v2.textPadding=Hk.textPadding;var Hc=v2.font=Hk.font||Hn.font;var Hp=v2.textHeight=jP(Hk.textHeight,nt(Hc));Hj&&(Hp+=Hj[0]+Hj[2]);v2.height=Hp;v2.lineHeight=jO(Hk.textLineHeight,Hn.textLineHeight,Hp);v2.textAlign=Hk&&Hk.textAlign||Hn.textAlign;v2.textVerticalAlign=Hk&&Hk.textVerticalAlign||"middle";if(v1!=null&&Hh+v2.lineHeight>v1){return{lines:[],width:0,height:0}}v2.textWidth=iR(v2.text,Hc);var Hf=Hk.textWidth;var He=Hf==null||Hf==="auto";if(typeof Hf==="string"&&Hf.charAt(Hf.length-1)==="%"){v2.percentWidth=Hf;Ha.push(v2);Hf=0}else{if(He){Hf=v2.textWidth;var cc=Hk.textBackgroundColor;var v=cc&&cc.image;if(v){v=mQ(v);if(Fr(v)){Hf=Math.max(Hf,v.width*Hp/v.height)}}}var Hm=Hj?Hj[1]+Hj[3]:0;Hf+=Hm;var G9=G4!=null?G4-e:null;if(G9!=null&&G9<Hf){if(!He||G9<Hm){v2.text="";v2.textWidth=Hf=0}else{v2.text=aX(v2.text,G9-Hm,Hc,m.ellipsis,{minChar:m.minChar});v2.textWidth=iR(v2.text,Hc);Hf=v2.textWidth+Hm}}}e+=(v2.width=Hf);Hk&&(Z=Math.max(Z,v2.lineHeight))}G8.width=e;G8.lineHeight=Z;Hh+=Z;Hd=Math.max(Hd,e)}v3.outerWidth=v3.width=jP(Hn.textWidth,Hd);v3.outerHeight=v3.height=jP(Hn.textHeight,Hh);if(G5){v3.outerWidth+=G5[1]+G5[3];v3.outerHeight+=G5[0]+G5[2]}for(var Hl=0;Hl<Ha.length;Hl++){var v2=Ha[Hl];var G6=v2.percentWidth;v2.width=parseInt(G6,10)/100*Hd}return v3}function ft(v,v3,k){var e=v3==="";var v1=v3.split("\n");var G5=v.lines;for(var cc=0;cc<v1.length;cc++){var G4=v1[cc];var m={styleName:k,text:G4,isLineHolder:!G4&&!e};if(!cc){var v2=(G5[G5.length-1]||(G5[0]={tokens:[]})).tokens;var Z=v2.length;(Z===1&&v2[0].isLineHolder)?(v2[0]=m):((G4||!Z||e)&&v2.push(m))}else{G5.push({tokens:[m]})}}}function oT(i){var e=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");return e&&Fi(e)||i.textFont||i.font}function sq(G5,cc){var v3=cc.x;var v2=cc.y;var m=cc.width;var G4=cc.height;var e=cc.r;var Z;var v;var k;var i;if(m<0){v3=v3+m;m=-m}if(G4<0){v2=v2+G4;G4=-G4}if(typeof e==="number"){Z=v=k=i=e}else{if(e instanceof Array){if(e.length===1){Z=v=k=i=e[0]}else{if(e.length===2){Z=k=e[0];v=i=e[1]}else{if(e.length===3){Z=e[0];v=i=e[1];k=e[2]}else{Z=e[0];v=e[1];k=e[2];i=e[3]}}}}else{Z=v=k=i=0}}var v1;if(Z+v>m){v1=Z+v;Z*=m/v1;v*=m/v1}if(k+i>m){v1=k+i;k*=m/v1;i*=m/v1}if(v+k>G4){v1=v+k;v*=G4/v1;k*=G4/v1}if(Z+i>G4){v1=Z+i;Z*=G4/v1;i*=G4/v1}G5.moveTo(v3+Z,v2);G5.lineTo(v3+m-v,v2);v!==0&&G5.arc(v3+m-v,v2+v,v,-Math.PI/2,0);G5.lineTo(v3+m,v2+G4-k);k!==0&&G5.arc(v3+m-k,v2+G4-k,k,0,Math.PI/2);G5.lineTo(v3+i,v2+G4);i!==0&&G5.arc(v3+i,v2+G4-i,i,Math.PI/2,Math.PI);G5.lineTo(v3,v2+Z);Z!==0&&G5.arc(v3+Z,v2+Z,Z,Math.PI,Math.PI*1.5)}var yT={left:1,right:1,center:1};var Dp={top:1,bottom:1,middle:1};function oD(e){BH(e);ow(e.rich,BH);return e}function BH(k){if(k){k.font=oT(k);var i=k.textAlign;i==="middle"&&(i="center");k.textAlign=(i==null||yT[i])?i:"left";var e=k.textVerticalAlign||k.textBaseline;e==="center"&&(e="middle");k.textVerticalAlign=(e==null||Dp[e])?e:"top";var m=k.textPadding;if(m){k.textPadding=Cw(k.textPadding)}}}function zH(i,e,v,k,m){k.rich?fe(i,e,v,k,m):fd(i,e,v,k,m)}function fd(Hd,Hc,G5,Hi,Z){var G8=qE(Hc,"font",Hi.font||DU);var Hg=Hi.textPadding;var v3=Hd.__textCotentBlock;if(!v3||Hd.__dirty){v3=Hd.__textCotentBlock=w(G5,G8,Hg,Hi.truncate)}var v=v3.outerHeight;var G6=v3.lines;var v1=v3.lineHeight;var Hj=xW(v,Hi,Z);var m=Hj.baseX;var k=Hj.baseY;var v2=Hj.textAlign;var G7=Hj.textVerticalAlign;gp(Hc,Hi,Z,m,k);var Hk=tH(k,v,G7);var Hb=m;var Ha=Hk;var G9=iN(Hi);if(G9||Hg){var cc=iR(G5,G8);var e=cc;Hg&&(e+=Hg[1]+Hg[3]);var Hl=tL(m,e,v2);G9&&oY(Hd,Hc,Hi,Hl,Hk,e,v);if(Hg){Hb=hP(m,v2,Hg);Ha+=Hg[0]}}qE(Hc,"textAlign",v2||"left");qE(Hc,"textBaseline","middle");qE(Hc,"shadowBlur",Hi.textShadowBlur||0);qE(Hc,"shadowColor",Hi.textShadowColor||"transparent");qE(Hc,"shadowOffsetX",Hi.textShadowOffsetX||0);qE(Hc,"shadowOffsetY",Hi.textShadowOffsetY||0);Ha+=v1/2;var G4=Hi.textStrokeWidth;var Hh=v7(Hi.textStroke,G4);var He=gf(Hi.textFill);if(Hh){qE(Hc,"lineWidth",G4);qE(Hc,"strokeStyle",Hh)}if(He){qE(Hc,"fillStyle",He)}for(var Hf=0;Hf<G6.length;Hf++){Hh&&Hc.strokeText(G6[Hf],Hb,Ha);He&&Hc.fillText(G6[Hf],Hb,Ha);Ha+=v1}}function fe(i,e,Z,m,v){var k=i.__textCotentBlock;if(!k||i.__dirty){k=i.__textCotentBlock=rC(Z,m)}wY(i,e,k,m,v)}function wY(Hg,Hf,G6,Hj,Z){var Hc=G6.width;var e=G6.outerWidth;var v=G6.outerHeight;var Hi=Hj.textPadding;var Hm=xW(v,Hj,Z);var m=Hm.baseX;var k=Hm.baseY;var v2=Hm.textAlign;var Hb=Hm.textVerticalAlign;gp(Hf,Hj,Z,m,k);var Ho=tL(m,e,v2);var Hn=tH(k,v,Hb);var G9=Ho;var v1=Hn;if(Hi){G9+=Hi[3];v1+=Hi[0]}var Hl=G9+Hc;iN(Hj)&&oY(Hg,Hf,Hj,Ho,Hn,e,v);for(var Hh=0;Hh<G6.lines.length;Hh++){var G8=G6.lines[Hh];var Ha=G8.tokens;var v3=Ha.length;var cc=G8.lineHeight;var G5=G8.width;var Hd=0;var Hk=G9;var G7=Hl;var He=v3-1;var G4;while(Hd<v3&&(G4=Ha[Hd],!G4.textAlign||G4.textAlign==="left")){Du(Hg,Hf,G4,Hj,cc,v1,Hk,"left");G5-=G4.width;Hk+=G4.width;Hd++}while(He>=0&&(G4=Ha[He],G4.textAlign==="right")){Du(Hg,Hf,G4,Hj,cc,v1,G7,"right");G5-=G4.width;G7-=G4.width;He--}Hk+=(Hc-(Hk-G9)-(Hl-G7)-G5)/2;while(Hd<=He){G4=Ha[Hd];Du(Hg,Hf,G4,Hj,cc,v1,Hk+G4.width/2,"center");Hk+=G4.width;Hd++}v1+=cc}}function gp(i,m,v,e,Z){if(v&&m.textRotation){var k=m.textOrigin;if(k==="center"){e=v.width/2+v.x;Z=v.height/2+v.y}else{if(k){e=k[0]+v.x;Z=k[1]+v.y}}i.translate(e,Z);i.rotate(-m.textRotation);i.translate(-e,-Z)}}function Du(v2,G6,m,e,G5,v3,G4,i){var G8=e.rich[m.styleName]||{};var v=m.textVerticalAlign;var cc=v3+G5/2;if(v==="top"){cc=v3+m.height/2}else{if(v==="bottom"){cc=v3+G5-m.height/2}}!m.isLineHolder&&iN(G8)&&oY(v2,G6,G8,i==="right"?G4-m.width:i==="center"?G4-m.width/2:G4,cc-m.height/2,m.width,m.height);var Z=m.textPadding;if(Z){G4=hP(G4,i,Z);cc-=m.height/2-Z[2]-m.textHeight/2}qE(G6,"shadowBlur",jO(G8.textShadowBlur,e.textShadowBlur,0));qE(G6,"shadowColor",G8.textShadowColor||e.textShadowColor||"transparent");qE(G6,"shadowOffsetX",jO(G8.textShadowOffsetX,e.textShadowOffsetX,0));qE(G6,"shadowOffsetY",jO(G8.textShadowOffsetY,e.textShadowOffsetY,0));qE(G6,"textAlign",i);qE(G6,"textBaseline","middle");qE(G6,"font",m.font||DU);var v1=v7(G8.textStroke||e.textStroke,k);var G7=gf(G8.textFill||e.textFill);var k=jP(G8.textStrokeWidth,e.textStrokeWidth);if(v1){qE(G6,"lineWidth",k);qE(G6,"strokeStyle",v1);G6.strokeText(m.text,G4,cc)}if(G7){qE(G6,"fillStyle",G7);G6.fillText(m.text,G4,cc)}}function iN(e){return e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)}function oY(v1,G6,e,v2,cc,i,G4){var v3=e.textBackgroundColor;var m=e.textBorderWidth;var Z=e.textBorderColor;var G5=vi(v3);qE(G6,"shadowBlur",e.textBoxShadowBlur||0);qE(G6,"shadowColor",e.textBoxShadowColor||"transparent");qE(G6,"shadowOffsetX",e.textBoxShadowOffsetX||0);qE(G6,"shadowOffsetY",e.textBoxShadowOffsetY||0);if(G5||(m&&Z)){G6.beginPath();var v=e.textBorderRadius;if(!v){G6.rect(v2,cc,i,G4)}else{sq(G6,{x:v2,y:cc,width:i,height:G4,r:v})}G6.closePath()}if(G5){qE(G6,"fillStyle",v3);G6.fill()}else{if(sU(v3)){var k=v3.image;k=ox(k,null,v1,wa,v3);if(k&&Fr(k)){G6.drawImage(k,v2,cc,i,G4)}}}if(m&&Z){qE(G6,"lineWidth",m);qE(G6,"strokeStyle",Z);G6.stroke()}}function wa(i,e){e.image=i}function xW(cc,e,v2){var v=e.x||0;var k=e.y||0;var i=e.textAlign;var Z=e.textVerticalAlign;if(v2){var v3=e.textPosition;if(v3 instanceof Array){v=v2.x+Ba(v3[0],v2.width);k=v2.y+Ba(v3[1],v2.height)}else{var v1=EL(v3,v2,e.textDistance);v=v1.x;k=v1.y;i=i||v1.textAlign;Z=Z||v1.textVerticalAlign}var m=e.textOffset;if(m){v+=m[0];k+=m[1]}}return{baseX:v,baseY:k,textAlign:i,textVerticalAlign:Z}}function qE(e,k,i){e[k]=pR(e,k,i);return e[k]}function v7(i,e){return(i==null||e<=0||i==="transparent"||i==="none")?null:(i.image||i.colorStops)?"#000":i}function gf(e){return(e==null||e==="none")?null:(e.image||e.colorStops)?"#000":e}function Ba(e,i){if(typeof e==="string"){if(e.lastIndexOf("%")>=0){return parseFloat(e)/100*i}return parseFloat(e)}return e}function hP(e,i,k){return i==="right"?(e-k[1]):i==="center"?(e+k[3]/2-k[1]/2):(e+k[3])}function Ds(i,e){return i!=null&&(i||e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)||e.textPadding)}var ek=new BM();var yh=function(){};yh.prototype={constructor:yh,drawRectText:function(e,m){var k=this.style;m=k.textRect||m;this.__dirty&&oD(k,true);var v=k.text;v!=null&&(v+="");if(!Ds(v,k)){return}e.save();var i=this.transform;if(!k.transformText){if(i){ek.copy(m);ek.applyTransform(i);m=ek}}else{this.setTransform(e)}zH(this,e,v,k,m);e.restore()}};function GZ(i){i=i||{};sa.call(this,i);for(var e in i){if(i.hasOwnProperty(e)&&e!=="style"){this[e]=i[e]}}this.style=new w3(i.style,this);this._rect=null;this.__clipPaths=[]}GZ.prototype={constructor:GZ,type:"displayable",__dirty:true,invisible:false,z:0,z2:0,zlevel:0,draggable:false,dragging:false,silent:false,culling:false,cursor:"pointer",rectHover:false,progressive:false,incremental:false,inplace:false,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,i){},getBoundingRect:function(){},contain:function(e,i){return this.rectContain(e,i)},traverse:function(e,i){e.call(i,this)},rectContain:function(e,m){var k=this.transformCoordToLocal(e,m);var i=this.getBoundingRect();return i.contain(k[0],k[1])},dirty:function(){this.__dirty=true;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,i){if(e!=="style"){sa.prototype.attrKV.call(this,e,i)}else{this.style.set(i)}},setStyle:function(e,i){this.style.set(e,i);this.dirty(false);return this},useStyle:function(e){this.style=new w3(e,this);this.dirty(false);return this}};lZ(GZ,sa);Ff(GZ,yh);function Ek(e){GZ.call(this,e)}Ek.prototype={constructor:Ek,type:"image",brush:function(G7,k){var m=this.style;var i=m.image;m.bind(G7,this,k);var cc=this._image=ox(i,this._image,this,this.onload);if(!cc||!Fr(cc)){return}var G5=m.x||0;var v3=m.y||0;var v=m.width;var G6=m.height;var e=cc.width/cc.height;if(v==null&&G6!=null){v=G6*e}else{if(G6==null&&v!=null){G6=v/e}else{if(v==null&&G6==null){v=cc.width;G6=cc.height}}}this.setTransform(G7);if(m.sWidth&&m.sHeight){var G4=m.sx||0;var v2=m.sy||0;G7.drawImage(cc,G4,v2,m.sWidth,m.sHeight,G5,v3,v,G6)}else{if(m.sx&&m.sy){var G4=m.sx;var v2=m.sy;var Z=v-G4;var v1=G6-v2;G7.drawImage(cc,G4,v2,Z,v1,G5,v3,v,G6)}else{G7.drawImage(cc,G5,v3,v,G6)}}if(m.text!=null){this.restoreTransform(G7);this.drawRectText(G7,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;if(!this._rect){this._rect=new BM(e.x||0,e.y||0,e.width||0,e.height||0)}return this._rect}};lZ(Ek,GZ);var CP=100000;var q=314159;var fQ=0.01;var wB=0.001;function Dd(e){return parseInt(e,10)}function R(e){if(!e){return false}if(e.__builtin__){return true}if(typeof(e.resize)!=="function"||typeof(e.refresh)!=="function"){return false}return true}var jl=new BM(0,0,0,0);var mG=new BM(0,0,0,0);function nP(k,i,e){jl.copy(k.getBoundingRect());if(k.transform){jl.applyTransform(k.transform)}mG.width=i;mG.height=e;return !jl.intersect(mG)}function Ak(m,e){if(m==e){return false}if(!m||!e||(m.length!==e.length)){return true}for(var k=0;k<m.length;k++){if(m[k]!==e[k]){return true}}}function fS(v,e){for(var k=0;k<v.length;k++){var m=v[k];m.setTransform(e);e.beginPath();m.buildPath(e,m.shape);e.clip();m.restoreTransform(e)}}function C3(k,i){var e=document.createElement("div");e.style.cssText=["position:relative","overflow:hidden","width:"+k+"px","height:"+i+"px","padding:0","margin:0","border-width:0"].join(";")+";";return e}var aR=function(v2,Z,e){this.type="canvas";var v1=!v2.nodeName||v2.nodeName.toUpperCase()==="CANVAS";this._opts=e=bY({},e||{});this.dpr=e.devicePixelRatio||hO;this._singleCanvas=v1;this.root=v2;var i=v2.style;if(i){i["-webkit-tap-highlight-color"]="transparent";i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none";v2.innerHTML=""}this.storage=Z;var m=this._zlevelList=[];var v=this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;if(!v1){this._width=this._getSize(0);this._height=this._getSize(1);var v3=this._domRoot=C3(this._width,this._height);v2.appendChild(v3)}else{var k=v2.width;var G4=v2.height;if(e.width!=null){k=e.width}if(e.height!=null){G4=e.height}this.dpr=e.devicePixelRatio||1;v2.width=k*this.dpr;v2.height=G4*this.dpr;this._width=k;this._height=G4;var cc=new eb(v2,this,this.dpr);cc.__builtin__=true;cc.initContext();v[q]=cc;m.push(q);this._domRoot=v2}this._hoverlayer=null;this._hoverElements=[]};aR.prototype={constructor:aR,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(e){var cc=this.storage.getDisplayList(true);var v=this._zlevelList;this._redrawId=Math.random();this._paintList(cc,e,this._redrawId);for(var m=0;m<v.length;m++){var v1=v[m];var k=this._layers[v1];if(!k.__builtin__&&k.refresh){var Z=m===0?this._backgroundColor:null;k.refresh(Z)}}this.refreshHover();return this},addHover:function(e,i){if(e.__hoverMir){return}var k=new e.constructor({style:e.style,shape:e.shape});k.__from=e;e.__hoverMir=k;k.setStyle(i);this._hoverElements.push(k)},removeHover:function(k){var m=k.__hoverMir;var i=this._hoverElements;var e=eB(i,m);if(e>=0){i.splice(e,1)}k.__hoverMir=null},clearHover:function(m){var e=this._hoverElements;for(var k=0;k<e.length;k++){var v=e[k].__from;if(v){v.__hoverMir=null}}e.length=0},refreshHover:function(){var k=this._hoverElements;var e=k.length;var cc=this._hoverlayer;cc&&cc.clear();if(!e){return}pK(k,this.storage.displayableSortFunc);if(!cc){cc=this._hoverlayer=this.getLayer(CP)}var Z={};cc.ctx.save();for(var m=0;m<e;){var v=k[m];var v1=v.__from;if(!(v1&&v1.__zr)){k.splice(m,1);v1.__hoverMir=null;e--;continue}m++;if(!v1.invisible){v.transform=v1.transform;v.invTransform=v1.invTransform;v.__clipPaths=v1.__clipPaths;this._doPaintEl(v,cc,true,Z)}}cc.ctx.restore()},getHoverLayer:function(){return this.getLayer(CP)},_paintList:function(m,i,k){if(this._redrawId!==k){return}i=i||false;this._updateLayerStatus(m);var v=this._doPaintList(m,i);if(this._needsManuallyCompositing){this._compositeManually()}if(!v){var e=this;mX(function(){e._paintList(m,i,k)})}},_compositeManually:function(){var i=this.getLayer(q).ctx;var k=this._domRoot.width;var e=this._domRoot.height;i.clearRect(0,0,k,e);this.eachBuiltinLayer(function(m){if(m.virtual){i.drawImage(m.dom,0,0,k,e)}})},_doPaintList:function(Hc,G6){var Hb=[];for(var v3=0;v3<this._zlevelList.length;v3++){var e=this._zlevelList[v3];var Hd=this._layers[e];if(Hd.__builtin__&&Hd!==this._hoverlayer&&(Hd.__dirty||G6)){Hb.push(Hd)}}var G4=true;for(var G9=0;G9<Hb.length;G9++){var Hd=Hb[G9];var G8=Hd.ctx;var m={};G8.save();var v1=G6?Hd.__startIndex:Hd.__drawIndex;var G7=!G6&&Hd.incremental&&Date.now;var G5=G7&&Date.now();var Z=Hd.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(Hd.__startIndex===Hd.__endIndex){Hd.clear(false,Z)}else{if(v1===Hd.__startIndex){var cc=Hc[v1];if(!cc.incremental||!cc.notClear||G6){Hd.clear(false,Z)}}}if(v1===-1){console.error("For some unknown reason. drawIndex is -1");v1=Hd.__startIndex}for(var Ha=v1;Ha<Hd.__endIndex;Ha++){var v=Hc[Ha];this._doPaintEl(v,Hd,G6,m);v.__dirty=false;if(G7){var v2=Date.now()-G5;if(v2>15){break}}}Hd.__drawIndex=Ha;if(Hd.__drawIndex<Hd.__endIndex){G4=false}if(m.prevElClipPaths){G8.restore()}G8.restore()}if(r6.wxa){ow(this._layers,function(i){if(i&&i.ctx&&i.ctx.draw){i.ctx.draw()}})}return G4},_doPaintEl:function(Z,k,v1,v){var i=k.ctx;var e=Z.transform;if((k.__dirty||v1)&&!Z.invisible&&Z.style.opacity!==0&&!(e&&!e[0]&&!e[3])&&!(Z.culling&&nP(Z,this._width,this._height))){var cc=Z.__clipPaths;if(!v.prevElClipPaths||Ak(cc,v.prevElClipPaths)){if(v.prevElClipPaths){k.ctx.restore();v.prevElClipPaths=null;v.prevEl=null}if(cc){i.save();fS(cc,i);v.prevElClipPaths=cc}}Z.beforeBrush&&Z.beforeBrush(i);Z.brush(i,v.prevEl||null);v.prevEl=Z;Z.afterBrush&&Z.afterBrush(i)}},getLayer:function(e,k){if(this._singleCanvas&&!this._needsManuallyCompositing){e=q}var i=this._layers[e];if(!i){i=new eb("zr_"+e,this,this.dpr);i.zlevel=e;i.__builtin__=true;if(this._layerConfig[e]){vb(i,this._layerConfig[e],true)}if(k){i.virtual=k}this.insertLayer(e,i);i.initContext()}return i},insertLayer:function(Z,v1){var e=this._layers;var m=this._zlevelList;var v2=m.length;var k=null;var v=-1;var v3=this._domRoot;if(e[Z]){Fl("ZLevel "+Z+" has been used already");return}if(!R(v1)){Fl("Layer of zlevel "+Z+" is not valid");return}if(v2>0&&Z>m[0]){for(v=0;v<v2-1;v++){if(m[v]<Z&&m[v+1]>Z){break}}k=e[m[v]]}m.splice(v+1,0,Z);e[Z]=v1;if(!v1.virtual){if(k){var cc=k.dom;if(cc.nextSibling){v3.insertBefore(v1.dom,cc.nextSibling)}else{v3.appendChild(v1.dom)}}else{if(v3.firstChild){v3.insertBefore(v1.dom,v3.firstChild)}else{v3.appendChild(v1.dom)}}}},eachLayer:function(e,m){var v=this._zlevelList;var Z;var k;for(k=0;k<v.length;k++){Z=v[k];e.call(m,this._layers[Z],Z)}},eachBuiltinLayer:function(e,v){var Z=this._zlevelList;var m;var cc;var k;for(k=0;k<Z.length;k++){cc=Z[k];m=this._layers[cc];if(m.__builtin__){e.call(v,m,cc)}}},eachOtherLayer:function(e,v){var Z=this._zlevelList;var m;var cc;var k;for(k=0;k<Z.length;k++){cc=Z[k];m=this._layers[cc];if(!m.__builtin__){e.call(v,m,cc)}}},getLayers:function(){return this._layers},_updateLayerStatus:function(v1){this.eachBuiltinLayer(function(i,v3){i.__dirty=i.__used=false});function cc(i){if(v){if(v.__endIndex!==i){v.__dirty=true}v.__endIndex=i}}if(this._singleCanvas){for(var m=1;m<v1.length;m++){var Z=v1[m];if(Z.zlevel!==v1[m-1].zlevel||Z.incremental){this._needsManuallyCompositing=true;break}}}var v=null;var v2=0;for(var m=0;m<v1.length;m++){var Z=v1[m];var e=Z.zlevel;var k;if(Z.incremental){k=this.getLayer(e+wB,this._needsManuallyCompositing);k.incremental=true;v2=1}else{k=this.getLayer(e+(v2>0?fQ:0),this._needsManuallyCompositing)}if(!k.__builtin__){Fl("ZLevel "+e+" has been used by unkown layer "+k.id)}if(k!==v){k.__used=true;if(k.__startIndex!==m){k.__dirty=true}k.__startIndex=m;if(!k.incremental){k.__drawIndex=m}else{k.__drawIndex=-1}cc(m);v=k}if(Z.__dirty){k.__dirty=true;if(k.incremental&&k.__drawIndex<0){k.__drawIndex=m}}}cc(m);this.eachBuiltinLayer(function(i,v3){if(!i.__used&&i.getElementCount()>0){i.__dirty=true;i.__startIndex=i.__endIndex=i.__drawIndex=0}if(i.__dirty&&i.__drawIndex<0){i.__drawIndex=i.__startIndex}})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,m){if(m){var k=this._layerConfig;if(!k[e]){k[e]=m}else{vb(k[e],m,true)}for(var cc=0;cc<this._zlevelList.length;cc++){var Z=this._zlevelList[cc];if(Z===e||Z===e+fQ){var v=this._layers[Z];vb(v,k[e],true)}}}},delLayer:function(e){var m=this._layers;var k=this._zlevelList;var i=m[e];if(!i){return}i.dom.parentNode.removeChild(i.dom);delete m[e];k.splice(eB(k,e),1)},resize:function(k,i){if(!this._domRoot.style){if(k==null||i==null){return}this._width=k;this._height=i;this.getLayer(q).resize(k,i)}else{var e=this._domRoot;e.style.display="none";var m=this._opts;k!=null&&(m.width=k);i!=null&&(m.height=i);k=this._getSize(0);i=this._getSize(1);e.style.display="";if(this._width!=k||i!=this._height){e.style.width=k+"px";e.style.height=i+"px";for(var v in this._layers){if(this._layers.hasOwnProperty(v)){this._layers[v].resize(k,i)}}ow(this._progressiveLayers,function(Z){Z.resize(k,i)});this.refresh(true)}this._width=k;this._height=i}return this},clearLayer:function(e){var i=this._layers[e];if(i){i.clear()}},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){e=e||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[q].dom}var k=new eb("image",this,e.pixelRatio||this.dpr);k.initContext();k.clear(false,e.backgroundColor||this._backgroundColor);if(e.pixelRatio<=this.dpr){this.refresh();var m=k.dom.width;var v1=k.dom.height;var v3=k.ctx;this.eachLayer(function(i){if(i.__builtin__){v3.drawImage(i.dom,0,0,m,v1)}else{if(i.renderToCanvas){k.ctx.save();i.renderToCanvas(k.ctx);k.ctx.restore()}}})}else{var v2={};var Z=this.storage.getDisplayList(true);for(var cc=0;cc<Z.length;cc++){var v=Z[cc];this._doPaintEl(v,k,true,v2)}}return k.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(v){var v1=this._opts;var m=["width","height"][v];var k=["clientWidth","clientHeight"][v];var Z=["paddingLeft","paddingTop"][v];var e=["paddingRight","paddingBottom"][v];if(v1[m]!=null&&v1[m]!=="auto"){return parseFloat(v1[m])}var i=this.root;var cc=document.defaultView.getComputedStyle(i);return((i[k]||Dd(cc[m])||Dd(i.style[m]))-(Dd(cc[Z])||0)-(Dd(cc[e])||0))|0},pathToImage:function(v3,e){e=e||this.dpr;var v=document.createElement("canvas");var G7=v.getContext("2d");var m=v3.getBoundingRect();var G9=v3.style;var Hb=G9.shadowBlur*e;var G5=G9.shadowOffsetX*e;var G4=G9.shadowOffsetY*e;var i=G9.hasStroke()?G9.lineWidth:0;var G8=Math.max(i/2,-G5+Hb);var Ha=Math.max(i/2,G5+Hb);var k=Math.max(i/2,-G4+Hb);var cc=Math.max(i/2,G4+Hb);var G6=m.width+G8+Ha;var v2=m.height+k+cc;v.width=G6*e;v.height=v2*e;G7.scale(e,e);G7.clearRect(0,0,G6,v2);G7.dpr=e;var v1={position:v3.position,rotation:v3.rotation,scale:v3.scale};v3.position=[G8-m.x,k-m.y];v3.rotation=0;v3.scale=[1,1];v3.updateTransform();if(v3){v3.brush(G7)}var Z=Ek;var Hc=new Z({style:{x:0,y:0,image:v}});if(v1.position!=null){Hc.position=v3.position=v1.position}if(v1.rotation!=null){Hc.rotation=v3.rotation=v1.rotation}if(v1.scale!=null){Hc.scale=v3.scale=v1.scale}return Hc}};var ch=(typeof window!=="undefined")&&!!window.addEventListener;var Bx=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function g2(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function AY(m,v,i,k){i=i||{};if(k||!r6.canvasSupported){ss(m,v,i)}else{if(r6.browser.firefox&&v.layerX!=null&&v.layerX!==v.offsetX){i.zrX=v.layerX;i.zrY=v.layerY}else{if(v.offsetX!=null){i.zrX=v.offsetX;i.zrY=v.offsetY}else{ss(m,v,i)}}}return i}function ss(k,v,i){var m=g2(k);i.zrX=v.clientX-m.left;i.zrY=v.clientY-m.top}function Ag(Z,cc,v){cc=cc||window.event;if(cc.zrX!=null){return cc}var m=cc.type;var i=m&&m.indexOf("touch")>=0;if(!i){AY(Z,cc,cc,v);cc.zrDelta=(cc.wheelDelta)?cc.wheelDelta/120:-(cc.detail||0)/3}else{var v1=m!="touchend"?cc.targetTouches[0]:cc.changedTouches[0];v1&&AY(Z,v1,cc,v)}var k=cc.button;if(cc.which==null&&k!==undefined&&Bx.test(cc.type)){cc.which=(k&1?1:(k&2?3:(k&4?2:0)))}return cc}function fc(k,e,i){if(ch){k.addEventListener(e,i)}else{k.attachEvent("on"+e,i)}}function pP(k,e,i){if(ch){k.removeEventListener(e,i)}else{k.detachEvent("on"+e,i)}}var FC=ch?function(i){i.preventDefault();i.stopPropagation();i.cancelBubble=true}:function(i){i.returnValue=false;i.cancelBubble=true};function dH(i){return i.which>1}var xd=function(e){e=e||{};this.stage=e.stage||{};this.onframe=e.onframe||function(){};this._clips=[];this._running=false;this._time;this._pausedTime;this._pauseStart;this._paused=false;E1.call(this)};xd.prototype={constructor:xd,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;var k=e.getClips();for(var m=0;m<k.length;m++){this.addClip(k[m])}},removeClip:function(i){var e=eB(this._clips,i);if(e>=0){this._clips.splice(e,1)}},removeAnimator:function(e){var k=e.getClips();for(var m=0;m<k.length;m++){this.removeClip(k[m])}e.animation=null},_update:function(){var v=new Date().getTime()-this._pausedTime;var G4=v-this._time;var k=this._clips;var v1=k.length;var m=[];var v3=[];for(var cc=0;cc<v1;cc++){var Z=k[cc];var v2=Z.step(v,G4);if(v2){m.push(v2);v3.push(Z)}}for(var cc=0;cc<v1;){if(k[cc]._needsRemove){k[cc]=k[v1-1];k.pop();v1--}else{cc++}}v1=m.length;for(var cc=0;cc<v1;cc++){v3[cc].fire(m[cc])}this._time=v;this.onframe(G4);this.trigger("frame",G4);if(this.stage.update){this.stage.update()}},_startLoop:function(){var e=this;this._running=true;function i(){if(e._running){mX(i);!e._paused&&e._update()}}mX(i)},start:function(){this._time=new Date().getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=false},pause:function(){if(!this._paused){this._pauseStart=new Date().getTime();this._paused=true}},resume:function(){if(this._paused){this._pausedTime+=(new Date().getTime())-this._pauseStart;this._paused=false}},clear:function(){this._clips=[]},isFinished:function(){return !this._clips.length},animate:function(k,i){i=i||{};var e=new gz(k,i.loop,i.getter,i.setter);this.addAnimator(e);return e}};Ff(xd,E1);var an=function(){this._track=[]};an.prototype={constructor:an,recognize:function(i,k,e){this._doTrack(i,k,e);return this._recognize(i)},clear:function(){this._track.length=0;return this},_doTrack:function(e,cc,v3){var v=e.touches;if(!v){return}var v2={points:[],touches:[],target:cc,event:e};for(var m=0,Z=v.length;m<Z;m++){var k=v[m];var v1=AY(v3,k,{});v2.points.push([v1.zrX,v1.zrY]);v2.touches.push(k)}this._track.push(v2)},_recognize:function(i){for(var e in W){if(W.hasOwnProperty(e)){var k=W[e](this._track,i);if(k){return k}}}}};function dm(k){var i=k[1][0]-k[0][0];var e=k[1][1]-k[0][1];return Math.sqrt(i*i+e*e)}function hQ(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var W={pinch:function(k,Z){var i=k.length;if(!i){return}var cc=(k[i-1]||{}).points;var m=(k[i-2]||{}).points||cc;if(m&&m.length>1&&cc&&cc.length>1){var v=dm(cc)/dm(m);!isFinite(v)&&(v=1);Z.pinchScale=v;var e=hQ(cc);Z.pinchX=e[0];Z.pinchY=e[1];return{type:"pinch",target:k[0].target,event:Z}}}};var iD=300;var iq=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var nw=["touchstart","touchend","touchmove"];var fI={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var l1=De(iq,function(i){var e=i.replace("mouse","pointer");return fI[e]?e:i});function xg(e){return(e==="mousewheel"&&r6.browser.firefox)?"DOMMouseScroll":e}function p(i,m,e){var v=i._gestureMgr;e==="start"&&v.clear();var Z=v.recognize(m,i.handler.findHover(m.zrX,m.zrY,null).target,i.dom);e==="end"&&v.clear();if(Z){var k=Z.type;m.gestureEvent=k;i.handler.dispatchToElement({target:Z.target},k,Z.event)}}function pY(e){e._touching=true;clearTimeout(e._touchTimer);e._touchTimer=setTimeout(function(){e._touching=false},700)}var Co={mousemove:function(e){e=Ag(this.dom,e);this.trigger("mousemove",e)},mouseout:function(i){i=Ag(this.dom,i);var e=i.toElement||i.relatedTarget;if(e!=this.dom){while(e&&e.nodeType!=9){if(e===this.dom){return}e=e.parentNode}}this.trigger("mouseout",i)},touchstart:function(e){e=Ag(this.dom,e);e.zrByTouch=true;this._lastTouchMoment=new Date();p(this,e,"start");Co.mousemove.call(this,e);Co.mousedown.call(this,e);pY(this)},touchmove:function(e){e=Ag(this.dom,e);e.zrByTouch=true;p(this,e,"change");Co.mousemove.call(this,e);pY(this)},touchend:function(e){e=Ag(this.dom,e);e.zrByTouch=true;p(this,e,"end");Co.mouseup.call(this,e);if(+new Date()-this._lastTouchMoment<iD){Co.click.call(this,e)}pY(this)},pointerdown:function(e){Co.mousedown.call(this,e)},pointermove:function(e){if(!A1(e)){Co.mousemove.call(this,e)}},pointerup:function(e){Co.mouseup.call(this,e)},pointerout:function(e){if(!A1(e)){Co.mouseout.call(this,e)}}};function A1(i){var e=i.pointerType;return e==="pen"||e==="touch"}ow(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Co[e]=function(i){i=Ag(this.dom,i);this.trigger(e,i)}});function fP(e){ow(nw,function(k){e._handlers[k]=j0(Co[k],e)});ow(l1,function(k){e._handlers[k]=j0(Co[k],e)});ow(iq,function(k){e._handlers[k]=i(Co[k],e)});function i(m,k){return function(){if(k._touching){return}return m.apply(k,arguments)}}}function jL(i){E1.call(this);this.dom=i;this._touching=false;this._touchTimer;this._gestureMgr=new an();this._handlers={};fP(this);if(r6.pointerEventsSupported){e(l1,this)}else{if(r6.touchEventsSupported){e(nw,this)}e(iq,this)}function e(m,k){ow(m,function(v){fc(i,xg(v),k._handlers[v])},k)}}var jT=jL.prototype;jT.dispose=function(){var m=iq.concat(nw);for(var k=0;k<m.length;k++){var e=m[k];pP(this.dom,xg(e),this._handlers[e])}};jT.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};Ff(jL,E1);
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var q1=!r6.canvasSupported;var uC={canvas:aR};var gi={};var sf="4.0.3";function m7(k,e){var i=new jw(dg(),k,e);gi[i.id]=i;return i}function BJ(i){if(i){i.dispose()}else{for(var e in gi){if(gi.hasOwnProperty(e)){gi[e].dispose()}}gi={}}return this}function wV(e){return gi[e]}function wc(i,e){uC[i]=e}function id(e){delete gi[e]}var jw=function(k,v,i){i=i||{};this.dom=v;this.id=k;var v3=this;var Z=new dl();var cc=i.renderer;if(q1){if(!uC.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}cc="vml"}else{if(!cc||!uC[cc]){cc="canvas"}}var v1=new uC[cc](v,Z,i,k);this.storage=Z;this.painter=v1;var m=(!r6.node&&!r6.worker)?new jL(v1.getViewportRoot()):null;this.handler=new em(Z,v1,m,v1.root);this.animation=new xd({stage:{update:j0(this.flush,this)}});this.animation.start();this._needsRefresh;var e=Z.delFromStorage;var v2=Z.addToStorage;Z.delFromStorage=function(G4){e.call(Z,G4);G4&&G4.removeSelfFromZr(v3)};Z.addToStorage=function(G4){v2.call(Z,G4);G4.addSelfToZr(v3)}};jw.prototype={constructor:jw,getId:function(){return this.id},add:function(e){this.storage.addRoot(e);this._needsRefresh=true},remove:function(e){this.storage.delRoot(e);this._needsRefresh=true},configLayer:function(i,e){if(this.painter.configLayer){this.painter.configLayer(i,e)}this._needsRefresh=true},setBackgroundColor:function(e){if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(e)}this._needsRefresh=true},refreshImmediately:function(){this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false},refresh:function(){this._needsRefresh=true},flush:function(){var e;if(this._needsRefresh){e=true;this.refreshImmediately()}if(this._needsRefreshHover){e=true;this.refreshHoverImmediately()}e&&this.trigger("rendered")},addHover:function(i,e){if(this.painter.addHover){this.painter.addHover(i,e);this.refreshHover()}},removeHover:function(e){if(this.painter.removeHover){this.painter.removeHover(e);this.refreshHover()}},clearHover:function(){if(this.painter.clearHover){this.painter.clearHover();this.refreshHover()}},refreshHover:function(){this._needsRefreshHover=true},refreshHoverImmediately:function(){this._needsRefreshHover=false;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{};this.painter.resize(e.width,e.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(k,i){return this.painter.pathToImage(k,i)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,i){return this.handler.findHover(e,i)},on:function(e,k,i){this.handler.on(e,k,i)},off:function(e,i){this.handler.off(e,i)},trigger:function(e,i){this.handler.trigger(e,i)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;id(this.id)}};var k1=(Object.freeze||Object)({version:sf,init:m7,dispose:BJ,getInstance:wV,registerPainter:wc});var ov=ow;var sT=sU;var G3=Fw;var tO="series\0";function lW(e){return e instanceof Array?e:e==null?[]:[e]}function CB(v,m,cc){if(v){v[m]=v[m]||{};v.emphasis=v.emphasis||{};v.emphasis[m]=v.emphasis[m]||{};for(var k=0,e=cc.length;k<e;k++){var Z=cc[k];if(!v.emphasis[m].hasOwnProperty(Z)&&v[m].hasOwnProperty(Z)){v.emphasis[m][Z]=v[m][Z]}}}}var Ap=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function w7(e){return(sT(e)&&!G3(e)&&!(e instanceof Date))?e.value:e}function nA(e){return sT(e)&&!(e instanceof Array)}function c2(k,i){i=(i||[]).slice();var e=De(k||[],function(v,m){return{exist:v}});ov(i,function(m,v){if(!sT(m)){return}for(var Z=0;Z<e.length;Z++){if(!e[Z].option&&m.id!=null&&e[Z].exist.id===m.id+""){e[Z].option=m;i[v]=null;return}}for(var Z=0;Z<e.length;Z++){var cc=e[Z].exist;if(!e[Z].option&&(cc.id==null||m.id==null)&&m.name!=null&&!Gq(m)&&!Gq(cc)&&cc.name===m.name+""){e[Z].option=m;i[v]=null;return}}});ov(i,function(m,v){if(!sT(m)){return}var Z=0;for(;Z<e.length;Z++){var cc=e[Z].exist;if(!e[Z].option&&!Gq(cc)&&m.id==null){e[Z].option=m;break}}if(Z>=e.length){e.push({option:m})}});return e}function zb(i){var e=BN();ov(i,function(v,k){var m=v.exist;m&&e.set(m.id,v)});ov(i,function(v,k){var m=v.option;bK(!m||m.id==null||!e.get(m.id)||e.get(m.id)===v,"id duplicates: "+(m&&m.id));m&&m.id!=null&&e.set(m.id,v);!v.keyInfo&&(v.keyInfo={})});ov(i,function(Z,k){var v=Z.exist;var m=Z.option;var v1=Z.keyInfo;if(!sT(m)){return}v1.name=m.name!=null?m.name+"":v?v.name:tO+k;if(v){v1.id=v.id}else{if(m.id!=null){v1.id=m.id+""}else{var cc=0;do{v1.id="\0"+v1.name+"\0"+cc++}while(e.get(v1.id))}}e.set(v1.id,Z)})}function qa(e){var i=e.name;return !!(i&&i.indexOf(tO))}function Gq(e){return sT(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function co(v,m){var k={};var e={};Z(v||[],k);Z(m||[],e,k);return[i(k),i(e)];function Z(G4,Ha,G5){for(var v3=0,G6=G4.length;v3<G6;v3++){var G8=G4[v3].seriesId;var v1=lW(G4[v3].dataIndex);var cc=G5&&G5[G8];for(var v2=0,G9=v1.length;v2<G9;v2++){var G7=v1[v2];if(cc&&cc[G7]){cc[G7]=null}else{(Ha[G8]||(Ha[G8]={}))[G7]=1}}}}function i(v2,G4){var cc=[];for(var v1 in v2){if(v2.hasOwnProperty(v1)&&v2[v1]!=null){if(G4){cc.push(+v1)}else{var v3=i(v2[v1],true);v3.length&&cc.push({seriesId:v1,dataIndex:v3})}}}return cc}}function wp(e,i){if(i.dataIndexInside!=null){return i.dataIndexInside}else{if(i.dataIndex!=null){return Fw(i.dataIndex)?De(i.dataIndex,function(k){return e.indexOfRawIndex(k)}):e.indexOfRawIndex(i.dataIndex)}else{if(i.name!=null){return Fw(i.name)?De(i.name,function(k){return e.indexOfName(k)}):e.indexOfName(i.name)}}}}function fw(){var e="__\0ec_inner_"+h+++"_"+Math.random().toFixed(5);return function(i){return i[e]||(i[e]={})}}var h=0;function m8(i,v,k){if(vi(v)){var m={};m[v+"Index"]=0;v=m}var Z=k&&k.defaultMainType;if(Z&&!nY(v,Z+"Index")&&!nY(v,Z+"Id")&&!nY(v,Z+"Name")){v[Z+"Index"]=0}var e={};ov(v,function(G4,v1){var G4=v[v1];if(v1==="dataIndex"||v1==="dataIndexInside"){e[v1]=G4;return}var v3=v1.match(/^(\w+)(Index|Id|Name)$/)||[];var G6=v3[1];var cc=(v3[2]||"").toLowerCase();if(!G6||!cc||G4==null||(cc==="index"&&G4==="none")||(k&&k.includeMainTypes&&eB(k.includeMainTypes,G6)<0)){return}var v2={mainType:G6};if(cc!=="index"||G4!=="all"){v2[cc]=G4}var G5=i.queryComponents(v2);e[G6+"Models"]=G5;e[G6+"Model"]=G5[0]});return e}function nY(e,i){return e&&e.hasOwnProperty(i)}function bS(k,e,i){k.setAttribute?k.setAttribute(e,i):(k[e]=i)}function uY(i,e){return i.getAttribute?i.getAttribute(e):i[e]}var GF=".";var iM="___EC__COMPONENT__CONTAINER___";function oA(i){var e={main:"",sub:""};if(i){i=i.split(GF);e.main=i[0]||"";e.sub=i[1]||""}return e}function tS(e){bK(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function zN(i,e){i.$constructor=i;i.extend=function(m){if(nK){ow(e,function(Z){if(!m[Z]){console.warn("Method `"+Z+"` should be implemented"+(m.type?" in "+m.type:"")+".")}})}var k=this;var v=function(){if(!m.$constructor){k.apply(this,arguments)}else{m.$constructor.apply(this,arguments)}};bY(v.prototype,m);v.extend=this.extend;v.superCall=kg;v.superApply=xI;lZ(v,this);v.superClass=k;return v}}var cl=0;function ze(e){var i=["__\0is_clz",cl++,Math.random().toFixed(3)].join("_");e.prototype[i]=true;if(nK){bK(!e.isInstance,'The method "is" can not be defined.')}e.isInstance=function(k){return !!(k&&k[i])}}function kg(k,e){var i=hS(arguments,2);return this.superClass.prototype[e].apply(k,i)}function xI(k,e,i){return this.superClass.prototype[e].apply(k,i)}function xw(e,i){i=i||{};var v={};e.registerClass=function(v1,cc){if(cc){tS(cc);cc=oA(cc);if(!cc.sub){if(nK){if(v[cc.main]){console.warn(cc.main+" exists.")}}v[cc.main]=v1}else{if(cc.sub!==iM){var Z=m(cc);Z[cc.sub]=v1}}}return v1};e.getClass=function(Z,v1,v2){var cc=v[Z];if(cc&&cc[iM]){cc=v1?cc[v1]:null}if(v2&&!cc){throw new Error(!v1?Z+".type should be specified.":"Component "+Z+"."+(v1||"")+" not exists. Load it first.")}return cc};e.getClassesByMainType=function(cc){cc=oA(cc);var Z=[];var v1=v[cc.main];if(v1&&v1[iM]){ow(v1,function(v3,v2){v2!==iM&&Z.push(v3)})}else{Z.push(v1)}return Z};e.hasClass=function(Z){Z=oA(Z);return !!v[Z.main]};e.getAllClassMainTypes=function(){var Z=[];ow(v,function(v1,cc){Z.push(cc)});return Z};e.hasSubTypes=function(Z){Z=oA(Z);var cc=v[Z.main];return cc&&cc[iM]};e.parseClassType=oA;function m(cc){var Z=v[cc.main];if(!Z||!Z[iM]){Z=v[cc.main]={};Z[iM]=true}return Z}if(i.registerWhenExtend){var k=e.extend;if(k){e.extend=function(Z){var cc=k.call(this,Z);return e.registerClass(cc,Z.type)}}}return e}var xX=function(k){for(var e=0;e<k.length;e++){if(!k[e][1]){k[e][1]=k[e][0]}}return function(m,v3,Z){var cc={};for(var v=0;v<k.length;v++){var v1=k[v][1];if((v3&&eB(v3,v1)>=0)||(Z&&eB(Z,v1)<0)){continue}var v2=m.getShallow(v1);if(v2!=null){cc[k[v][0]]=v2}}return cc}};var jV=xX([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var c7={getLineStyle:function(k){var i=jV(this,k);var e=this.getLineDash(i.lineWidth);e&&(i.lineDash=e);return i},getLineDash:function(i){if(i==null){i=1}var m=this.get("type");var k=Math.max(i,2);var e=i*4;return(m==="solid"||m==null)?null:(m==="dashed"?[e,e]:[k,k])}};var S=xX([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);var fJ={getAreaStyle:function(i,e){return S(this,i,e)}};var v0=Math.pow;var g6=Math.sqrt;var k0=1e-8;var BC=0.0001;var bF=g6(3);var bN=1/3;var bs=FU();var br=FU();var bp=FU();function Fc(e){return e>-k0&&e<k0}function uR(e){return e>k0||e<-k0}function aT(Z,v,m,k,e){var i=1-e;return i*i*(i*Z+3*e*v)+e*e*(e*k+3*i*m)}function gG(Z,v,m,k,e){var i=1-e;return 3*(((v-Z)*i+2*(m-v)*e)*i+(k-m)*e*e)}function cX(Z,v,m,i,Hj,G4){var Hi=i+3*(v-m)-Z;var Hh=3*(m-v*2+Z);var Hg=3*(v-Z);var He=Z-Hj;var Hc=Hh*Hh-3*Hi*Hg;var Hb=Hh*Hg-9*Hi*He;var Ha=Hg*Hg-3*Hh*He;var Hd=0;if(Fc(Hc)&&Fc(Hb)){if(Fc(Hh)){G4[0]=0}else{var G9=-Hg/Hh;if(G9>=0&&G9<=1){G4[Hd++]=G9}}}else{var e=Hb*Hb-4*Hc*Ha;if(Fc(e)){var G7=Hb/Hc;var G9=-Hh/Hi+G7;var G8=-G7/2;if(G9>=0&&G9<=1){G4[Hd++]=G9}if(G8>=0&&G8<=1){G4[Hd++]=G8}}else{if(e>0){var k=g6(e);var v2=Hc*Hh+1.5*Hi*(-Hb+k);var v1=Hc*Hh+1.5*Hi*(-Hb-k);if(v2<0){v2=-v0(-v2,bN)}else{v2=v0(v2,bN)}if(v1<0){v1=-v0(-v1,bN)}else{v1=v0(v1,bN)}var G9=(-Hh-(v2+v1))/(3*Hi);if(G9>=0&&G9<=1){G4[Hd++]=G9}}else{var cc=(2*Hc*Hh-3*Hi*Hb)/(2*g6(Hc*Hc*Hc));var G5=Math.acos(cc)/3;var v3=g6(Hc);var Hf=Math.cos(G5);var G9=(-Hh-2*v3*Hf)/(3*Hi);var G8=(-Hh+v3*(Hf+bF*Math.sin(G5)))/(3*Hi);var G6=(-Hh+v3*(Hf-bF*Math.sin(G5)))/(3*Hi);if(G9>=0&&G9<=1){G4[Hd++]=G9}if(G8>=0&&G8<=1){G4[Hd++]=G8}if(G6>=0&&G6<=1){G4[Hd++]=G6}}}}return Hd}function Dl(G5,G4,v3,v2,v){var cc=6*v3-12*G4+6*G5;var v1=9*G4+3*v2-3*G5-9*v3;var Z=3*G4-3*G5;var e=0;if(Fc(v1)){if(uR(cc)){var m=-Z/cc;if(m>=0&&m<=1){v[e++]=m}}}else{var i=cc*cc-4*v1*Z;if(Fc(i)){v[0]=-cc/(2*v1)}else{if(i>0){var G6=g6(i);var m=(-cc+G6)/(2*v1);var k=(-cc-G6)/(2*v1);if(m>=0&&m<=1){v[e++]=m}if(k>=0&&k<=1){v[e++]=k}}}}return e}function f9(v3,v2,v1,cc,G4,i){var k=(v2-v3)*G4+v3;var e=(v1-v2)*G4+v2;var m=(cc-v1)*G4+v1;var G5=(e-k)*G4+k;var Z=(m-e)*G4+e;var v=(Z-G5)*G4+G5;i[0]=v3;i[1]=k;i[2]=G5;i[3]=v;i[4]=v;i[5]=Z;i[6]=m;i[7]=cc}function qh(G9,v,G8,m,G7,k,G6,e,cc,Z,G5){var v1;var Hc=0.005;var Hb=Infinity;var v2;var v3;var He;var Hd;bs[0]=cc;bs[1]=Z;for(var Ha=0;Ha<1;Ha+=0.05){br[0]=aT(G9,G8,G7,G6,Ha);br[1]=aT(v,m,k,e,Ha);He=cj(bs,br);if(He<Hb){v1=Ha;Hb=He}}Hb=Infinity;for(var G4=0;G4<32;G4++){if(Hc<BC){break}v2=v1-Hc;v3=v1+Hc;br[0]=aT(G9,G8,G7,G6,v2);br[1]=aT(v,m,k,e,v2);He=cj(br,bs);if(v2>=0&&He<Hb){v1=v2;Hb=He}else{bp[0]=aT(G9,G8,G7,G6,v3);bp[1]=aT(v,m,k,e,v3);Hd=cj(bp,bs);if(v3<=1&&Hd<Hb){v1=v3;Hb=Hd}else{Hc*=0.5}}}if(G5){G5[0]=aT(G9,G8,G7,G6,v1);G5[1]=aT(v,m,k,e,v1)}return g6(Hb)}function j8(v,m,k,e){var i=1-e;return i*(i*v+2*e*m)+e*e*k}function uH(m,k,i,e){return 2*((1-e)*(k-m)+e*(i-k))}function rp(G5,v3,v2,i,G4){var v1=G5-2*v3+v2;var cc=2*(v3-G5);var Z=G5-i;var e=0;if(Fc(v1)){if(uR(cc)){var v=-Z/cc;if(v>=0&&v<=1){G4[e++]=v}}}else{var k=cc*cc-4*v1*Z;if(Fc(k)){var v=-cc/(2*v1);if(v>=0&&v<=1){G4[e++]=v}}else{if(k>0){var G6=g6(k);var v=(-cc+G6)/(2*v1);var m=(-cc-G6)/(2*v1);if(v>=0&&v<=1){G4[e++]=v}if(m>=0&&m<=1){G4[e++]=m}}}}return e}function vt(m,k,i){var e=m+i-2*k;if(e===0){return 0.5}else{return(m-k)/e}}function DB(v1,cc,Z,k,i){var m=(cc-v1)*k+v1;var v=(Z-cc)*k+cc;var e=(v-m)*k+m;i[0]=v1;i[1]=m;i[2]=e;i[3]=e;i[4]=v;i[5]=Z}function Eb(G7,m,G6,k,G5,e,Z,v,G4){var cc;var Ha=0.005;var G9=Infinity;bs[0]=Z;bs[1]=v;for(var G8=0;G8<1;G8+=0.05){br[0]=j8(G7,G6,G5,G8);br[1]=j8(m,k,e,G8);var Hc=cj(bs,br);if(Hc<G9){cc=G8;G9=Hc}}G9=Infinity;for(var v3=0;v3<32;v3++){if(Ha<BC){break}var v1=cc-Ha;var v2=cc+Ha;br[0]=j8(G7,G6,G5,v1);br[1]=j8(m,k,e,v1);var Hc=cj(br,bs);if(v1>=0&&Hc<G9){cc=v1;G9=Hc}else{bp[0]=j8(G7,G6,G5,v2);bp[1]=j8(m,k,e,v2);var Hb=cj(bp,bs);if(v2<=1&&Hb<G9){cc=v2;G9=Hb}else{Ha*=0.5}}}if(G4){G4[0]=j8(G7,G6,G5,cc);G4[1]=j8(m,k,e,cc)}return g6(G9)}var je=Math.min;var zS=Math.max;var FJ=Math.sin;var zl=Math.cos;var gd=Math.PI*2;var b=FU();var ht=FU();var es=FU();function n7(v1,cc,v2){if(v1.length===0){return}var k=v1[0];var m=k[0];var v3=k[0];var Z=k[1];var e=k[1];var v;for(v=1;v<v1.length;v++){k=v1[v];m=je(m,k[0]);v3=zS(v3,k[0]);Z=je(Z,k[1]);e=zS(e,k[1])}cc[0]=m;cc[1]=Z;v2[0]=v3;v2[1]=e}function nL(k,Z,e,v,m,i){m[0]=je(k,e);m[1]=je(Z,v);i[0]=zS(k,e);i[1]=zS(Z,v)}var rf=[];var BR=[];function ay(v,G9,m,G7,k,G4,e,v2,G6,Ha){var G8=Dl;var cc=aT;var v1;var Z=G8(v,m,k,e,rf);G6[0]=Infinity;G6[1]=Infinity;Ha[0]=-Infinity;Ha[1]=-Infinity;for(v1=0;v1<Z;v1++){var G5=cc(v,m,k,e,rf[v1]);G6[0]=je(G5,G6[0]);Ha[0]=zS(G5,Ha[0])}Z=G8(G9,G7,G4,v2,BR);for(v1=0;v1<Z;v1++){var v3=cc(G9,G7,G4,v2,BR[v1]);G6[1]=je(v3,G6[1]);Ha[1]=zS(v3,Ha[1])}G6[0]=je(v,G6[0]);Ha[0]=zS(v,Ha[0]);G6[0]=je(e,G6[0]);Ha[0]=zS(e,Ha[0]);G6[1]=je(G9,G6[1]);Ha[1]=zS(G9,Ha[1]);G6[1]=je(v2,G6[1]);Ha[1]=zS(v2,Ha[1])}function iK(m,G6,k,G4,e,v2,G5,G7){var i=vt;var cc=j8;var Z=zS(je(i(m,k,e),1),0);var v=zS(je(i(G6,G4,v2),1),0);var v3=cc(m,k,e,Z);var v1=cc(G6,G4,v2,v);G5[0]=je(m,e,v3);G5[1]=je(G6,v2,v1);G7[0]=zS(m,e,v3);G7[1]=zS(G6,v2,v1)}function qs(G4,v2,i,e,v1,m,v,v3,G7){var G6=Ax;var k=C4;var G5=Math.abs(v1-m);if(G5%gd<0.0001&&G5>0.0001){v3[0]=G4-i;v3[1]=v2-e;G7[0]=G4+i;G7[1]=v2+e;return}b[0]=zl(v1)*i+G4;b[1]=FJ(v1)*e+v2;ht[0]=zl(m)*i+G4;ht[1]=FJ(m)*e+v2;G6(v3,b,ht);k(G7,b,ht);v1=v1%(gd);if(v1<0){v1=v1+gd}m=m%(gd);if(m<0){m=m+gd}if(v1>m&&!v){m+=gd}else{if(v1<m&&v){v1+=gd}}if(v){var cc=m;m=v1;v1=cc}for(var Z=0;Z<m;Z+=Math.PI/2){if(Z>v1){es[0]=zl(Z)*i+G4;es[1]=FJ(Z)*e+v2;G6(v3,es,v3);k(G7,es,G7)}}}var gT={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var Al=[];var h7=[];var uM=[];var at=[];var jf=Math.min;var zT=Math.max;var zn=Math.cos;var FL=Math.sin;var g7=Math.sqrt;var p4=Math.abs;var uW=typeof Float32Array!="undefined";var jI=function(e){this._saveData=!(e||false);if(this._saveData){this.data=[]}this._ctx=null};jI.prototype={constructor:jI,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(i,e){this._ux=p4(1/hO/i)||0;this._uy=p4(1/hO/e)||0},getContext:function(){return this._ctx},beginPath:function(e){this._ctx=e;e&&e.beginPath();e&&(this.dpr=e.dpr);if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}return this},moveTo:function(e,i){this.addData(gT.M,e,i);this._ctx&&this._ctx.moveTo(e,i);this._x0=e;this._y0=i;this._xi=e;this._yi=i;return this},lineTo:function(e,k){var i=p4(e-this._xi)>this._ux||p4(k-this._yi)>this._uy||this._len<5;this.addData(gT.L,e,k);if(this._ctx&&i){this._needsDash()?this._dashedLineTo(e,k):this._ctx.lineTo(e,k)}if(i){this._xi=e;this._yi=k}return this},bezierCurveTo:function(m,Z,i,v,e,k){this.addData(gT.C,m,Z,i,v,e,k);if(this._ctx){this._needsDash()?this._dashedBezierTo(m,Z,i,v,e,k):this._ctx.bezierCurveTo(m,Z,i,v,e,k)}this._xi=e;this._yi=k;return this},quadraticCurveTo:function(i,m,e,k){this.addData(gT.Q,i,m,e,k);if(this._ctx){this._needsDash()?this._dashedQuadraticTo(i,m,e,k):this._ctx.quadraticCurveTo(i,m,e,k)}this._xi=e;this._yi=k;return this},arc:function(e,Z,m,k,i,v){this.addData(gT.A,e,Z,m,m,k,i-k,0,v?0:1);this._ctx&&this._ctx.arc(e,Z,m,k,i,v);this._xi=zn(i)*m+e;this._yi=FL(i)*m+e;return this},arcTo:function(k,v,i,m,e){if(this._ctx){this._ctx.arcTo(k,v,i,m,e)}return this},rect:function(e,m,i,k){this._ctx&&this._ctx.rect(e,m,i,k);this.addData(gT.R,e,m,i,k);return this},closePath:function(){this.addData(gT.Z);var e=this._ctx;var i=this._x0;var k=this._y0;if(e){this._needsDash()&&this._dashedLineTo(i,k);e.closePath()}this._xi=i;this._yi=k;return this},fill:function(e){e&&e.fill();this.toStatic()},stroke:function(e){e&&e.stroke();this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e;this._dashIdx=0;var m=0;for(var k=0;k<e.length;k++){m+=e[k]}this._dashSum=m}return this},setLineDashOffset:function(e){this._dashOffset=e;return this},len:function(){return this._len},setData:function(m){var k=m.length;if(!(this.data&&this.data.length==k)&&uW){this.data=new Float32Array(k)}for(var e=0;e<k;e++){this.data[e]=m[e]}this._len=k},appendPath:function(v1){if(!(v1 instanceof Array)){v1=[v1]}var Z=v1.length;var m=0;var v2=this._len;for(var v=0;v<Z;v++){m+=v1[v].len()}if(uW&&(this.data instanceof Float32Array)){this.data=new Float32Array(v2+m)}for(var v=0;v<Z;v++){var cc=v1[v].data;for(var e=0;e<cc.length;e++){this.data[v2++]=cc[e]}}this._len=v2},addData:function(m){if(!this._saveData){return}var k=this.data;if(this._len+arguments.length>k.length){this._expandData();k=this.data}for(var e=0;e<arguments.length;e++){k[this._len++]=arguments[e]}this._prevCmd=m},_expandData:function(){if(!(this.data instanceof Array)){var k=[];for(var e=0;e<this._len;e++){k[e]=this.data[e]}this.data=k}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,G4){var cc=this._dashSum;var Z=this._dashOffset;var v=this._lineDash;var G8=this._ctx;var i=this._xi;var G6=this._yi;var G9=e-i;var G7=G4-G6;var m=g7(G9*G9+G7*G7);var v3=i;var v2=G6;var v1;var k=v.length;var G5;G9/=m;G7/=m;if(Z<0){Z=cc+Z}Z%=cc;v3-=Z*G9;v2-=Z*G7;while((G9>0&&v3<=e)||(G9<0&&v3>=e)||(G9==0&&((G7>0&&v2<=G4)||(G7<0&&v2>=G4)))){G5=this._dashIdx;v1=v[G5];v3+=G9*v1;v2+=G7*v1;this._dashIdx=(G5+1)%k;if((G9>0&&v3<i)||(G9<0&&v3>i)||(G7>0&&v2<G6)||(G7<0&&v2>G6)){continue}G8[G5%2?"moveTo":"lineTo"](G9>=0?jf(v3,e):zT(v3,e),G7>=0?jf(v2,G4):zT(v2,G4))}G9=v3-e;G7=v2-G4;this._dashOffset=-g7(G9*G9+G7*G7)},_dashedBezierTo:function(He,k,Hd,i,Hc,e){var Hb=this._dashSum;var cc=this._dashOffset;var v=this._lineDash;var Ha=this._ctx;var Hf=this._xi;var m=this._yi;var G6;var G5;var G4;var G7=aT;var v2=0;var G8=this._dashIdx;var G9=v.length;var v3;var v1;var Z=0;if(cc<0){cc=Hb+cc}cc%=Hb;for(G6=0;G6<1;G6+=0.1){G5=G7(Hf,He,Hd,Hc,G6+0.1)-G7(Hf,He,Hd,Hc,G6);G4=G7(m,k,i,e,G6+0.1)-G7(m,k,i,e,G6);v2+=g7(G5*G5+G4*G4)}for(;G8<G9;G8++){Z+=v[G8];if(Z>cc){break}}G6=(Z-cc)/v2;while(G6<=1){v3=G7(Hf,He,Hd,Hc,G6);v1=G7(m,k,i,e,G6);G8%2?Ha.moveTo(v3,v1):Ha.lineTo(v3,v1);G6+=v[G8]/v2;G8=(G8+1)%G9}(G8%2!==0)&&Ha.lineTo(Hc,e);G5=Hc-v3;G4=e-v1;this._dashOffset=-g7(G5*G5+G4*G4)},_dashedQuadraticTo:function(m,Z,i,v){var e=i;var k=v;i=(i+2*m)/3;v=(v+2*Z)/3;m=(this._xi+2*m)/3;Z=(this._yi+2*Z)/3;this._dashedBezierTo(m,Z,i,v,e,k)},toStatic:function(){var e=this.data;if(e instanceof Array){e.length=this._len;if(uW){this.data=new Float32Array(e)}}},getBoundingRect:function(){Al[0]=Al[1]=uM[0]=uM[1]=Number.MAX_VALUE;h7[0]=h7[1]=at[0]=at[1]=-Number.MAX_VALUE;var G5=this.data;var G8=0;var v3=0;var v=0;var Ha=0;for(var G6=0;G6<G5.length;){var v1=G5[G6++];if(G6==1){G8=G5[G6];v3=G5[G6+1];v=G8;Ha=v3}switch(v1){case gT.M:v=G5[G6++];Ha=G5[G6++];G8=v;v3=Ha;uM[0]=v;uM[1]=Ha;at[0]=v;at[1]=Ha;break;case gT.L:nL(G8,v3,G5[G6],G5[G6+1],uM,at);G8=G5[G6++];v3=G5[G6++];break;case gT.C:ay(G8,v3,G5[G6++],G5[G6++],G5[G6++],G5[G6++],G5[G6],G5[G6+1],uM,at);G8=G5[G6++];v3=G5[G6++];break;case gT.Q:iK(G8,v3,G5[G6++],G5[G6++],G5[G6],G5[G6+1],uM,at);G8=G5[G6++];v3=G5[G6++];break;case gT.A:var G4=G5[G6++];var v2=G5[G6++];var m=G5[G6++];var e=G5[G6++];var G7=G5[G6++];var Z=G5[G6++]+G7;var G9=G5[G6++];var cc=1-G5[G6++];if(G6==1){v=zn(G7)*m+G4;Ha=FL(G7)*e+v2}qs(G4,v2,m,e,G7,Z,cc,uM,at);G8=zn(Z)*m+G4;v3=FL(Z)*e+v2;break;case gT.R:v=G8=G5[G6++];Ha=v3=G5[G6++];var k=G5[G6++];var Hb=G5[G6++];nL(v,Ha,v+k,Ha+Hb,uM,at);break;case gT.Z:G8=v;v3=Ha;break}Ax(Al,Al,uM);C4(h7,h7,at)}if(G6===0){Al[0]=Al[1]=h7[0]=h7[1]=0}return new BM(Al[0],Al[1],h7[0]-Al[0],h7[1]-Al[1])},rebuildPath:function(Hb){var Hh=this.data;var Hf,v;var G9,Hk;var G6,G5;var v3=this._ux;var v1=this._uy;var e=this._len;for(var Hd=0;Hd<e;){var Hc=Hh[Hd++];if(Hd==1){G9=Hh[Hd];Hk=Hh[Hd+1];Hf=G9;v=Hk}switch(Hc){case gT.M:Hf=G9=Hh[Hd++];v=Hk=Hh[Hd++];Hb.moveTo(G9,Hk);break;case gT.L:G6=Hh[Hd++];G5=Hh[Hd++];if(p4(G6-G9)>v3||p4(G5-Hk)>v1||Hd===e-1){Hb.lineTo(G6,G5);G9=G6;Hk=G5}break;case gT.C:Hb.bezierCurveTo(Hh[Hd++],Hh[Hd++],Hh[Hd++],Hh[Hd++],Hh[Hd++],Hh[Hd++]);G9=Hh[Hd-2];Hk=Hh[Hd-1];break;case gT.Q:Hb.quadraticCurveTo(Hh[Hd++],Hh[Hd++],Hh[Hd++],Hh[Hd++]);G9=Hh[Hd-2];Hk=Hh[Hd-1];break;case gT.A:var m=Hh[Hd++];var k=Hh[Hd++];var cc=Hh[Hd++];var Z=Hh[Hd++];var G4=Hh[Hd++];var He=Hh[Hd++];var Hg=Hh[Hd++];var v2=Hh[Hd++];var G8=(cc>Z)?cc:Z;var Hj=(cc>Z)?1:cc/Z;var Hi=(cc>Z)?Z/cc:1;var G7=Math.abs(cc-Z)>0.001;var Ha=G4+He;if(G7){Hb.translate(m,k);Hb.rotate(Hg);Hb.scale(Hj,Hi);Hb.arc(0,0,G8,G4,Ha,1-v2);Hb.scale(1/Hj,1/Hi);Hb.rotate(-Hg);Hb.translate(-m,-k)}else{Hb.arc(m,k,G8,G4,Ha,1-v2)}if(Hd==1){Hf=zn(G4)*cc+m;v=FL(G4)*Z+k}G9=zn(Ha)*cc+m;Hk=FL(Ha)*Z+k;break;case gT.R:Hf=G9=Hh[Hd];v=Hk=Hh[Hd+1];Hb.rect(Hh[Hd++],Hh[Hd++],Hh[Hd++],Hh[Hd++]);break;case gT.Z:Hb.closePath();G9=Hf;Hk=v}}}};jI.CMD=gT;function p9(i,G4,e,v2,v,v3,v1){if(v===0){return false}var k=v;var cc=0;var Z=i;if((v1>G4+k&&v1>v2+k)||(v1<G4-k&&v1<v2-k)||(v3>i+k&&v3>e+k)||(v3<i-k&&v3<e-k)){return false}if(i!==e){cc=(G4-v2)/(i-e);Z=(i*v2-e*G4)/(i-e)}else{return Math.abs(v3-i)<=k/2}var m=cc*v3-v1+Z;var G5=m*m/(cc*cc+1);return G5<=k/2*k/2}function p8(m,G6,k,G5,i,v3,e,v1,Z,G4,v2){if(Z===0){return false}var v=Z;if((v2>G6+v&&v2>G5+v&&v2>v3+v&&v2>v1+v)||(v2<G6-v&&v2<G5-v&&v2<v3-v&&v2<v1-v)||(G4>m+v&&G4>k+v&&G4>i+v&&G4>e+v)||(G4<m-v&&G4<k-v&&G4<i-v&&G4<e-v)){return false}var cc=qh(m,G6,k,G5,i,v3,e,v1,G4,v2,null);return cc<=v/2}function p7(k,G4,i,v2,e,v1,v,v3,cc){if(v===0){return false}var m=v;if((cc>G4+m&&cc>v2+m&&cc>v1+m)||(cc<G4-m&&cc<v2-m&&cc<v1-m)||(v3>k+m&&v3>i+m&&v3>e+m)||(v3<k-m&&v3<i-m&&v3<e-m)){return false}var Z=Eb(k,G4,i,v2,e,v1,v3,cc,null);return Z<=m/2}var FQ=Math.PI*2;function Em(e){e%=FQ;if(e<0){e+=FQ}return e}var FR=Math.PI*2;function p5(cc,Z,e,v3,i,m,v2,G6,G5){if(v2===0){return false}var k=v2;G6-=cc;G5-=Z;var G4=Math.sqrt(G6*G6+G5*G5);if((G4-k>e)||(G4+k<e)){return false}if(Math.abs(v3-i)%FR<0.0001){return true}if(m){var v1=v3;v3=Em(i);i=Em(v1)}else{v3=Em(v3);i=Em(i)}if(v3>i){i+=FR}var v=Math.atan2(G5,G6);if(v<0){v+=FR}return(v>=v3&&v<=i)||(v+FR>=v3&&v+FR<=i)}function lX(k,v1,i,Z,cc,v){if((v>v1&&v>Z)||(v<v1&&v<Z)){return 0}if(Z===v1){return 0}var m=Z<v1?1:-1;var v2=(v-v1)/(Z-v1);if(v2===1||v2===0){m=Z<v1?0.5:-0.5}var e=v2*(i-k)+k;return e>cc?m:0}var EK=jI.CMD;var FS=Math.PI*2;var kY=0.0001;function jU(i,e){return Math.abs(i-e)<kY}var Bz=[-1,-1,-1];var vV=[-1,-1];function pd(){var e=vV[0];vV[0]=vV[1];vV[1]=e}function iT(Hd,Z,Hb,v,Ha,m,G9,k,v2,v1){if((v1>Z&&v1>v&&v1>m&&v1>k)||(v1<Z&&v1<v&&v1<m&&v1<k)){return 0}var e=cX(Z,v,m,k,v1,Bz);if(e===0){return 0}else{var v3=0;var G7=-1;var cc,G6;for(var G8=0;G8<e;G8++){var G4=Bz[G8];var G5=(G4===0||G4===1)?0.5:1;var Hc=aT(Hd,Hb,Ha,G9,G4);if(Hc<v2){continue}if(G7<0){G7=Dl(Z,v,m,k,vV);if(vV[1]<vV[0]&&G7>1){pd()}cc=aT(Z,v,m,k,vV[0]);if(G7>1){G6=aT(Z,v,m,k,vV[1])}}if(G7==2){if(G4<vV[0]){v3+=cc<Z?G5:-G5}else{if(G4<vV[1]){v3+=G6<cc?G5:-G5}else{v3+=k<G6?G5:-G5}}}else{if(G4<vV[0]){v3+=cc<Z?G5:-G5}else{v3+=k<cc?G5:-G5}}}return v3}}function ql(v,G8,m,G4,e,v2,G5,v1){if((v1>G8&&v1>G4&&v1>v2)||(v1<G8&&v1<G4&&v1<v2)){return 0}var cc=rp(G8,G4,v2,v1,Bz);if(cc===0){return 0}else{var G9=vt(G8,G4,v2);if(G9>=0&&G9<=1){var G7=0;var v3=j8(G8,G4,v2,G9);for(var Z=0;Z<cc;Z++){var G6=(Bz[Z]===0||Bz[Z]===1)?0.5:1;var k=j8(v,m,e,Bz[Z]);if(k<G5){continue}if(Bz[Z]<G9){G7+=v3<G8?G6:-G6}else{G7+=v2<v3?G6:-G6}}return G7}else{var G6=(Bz[0]===0||Bz[0]===1)?0.5:1;var k=j8(v,m,e,Bz[0]);if(k<G5){return 0}return v2<G8?G6:-G6}}}function Cl(v2,v1,e,G5,m,Z,G7,G6){G6-=v1;if(G6>e||G6<-e){return 0}var G4=Math.sqrt(e*e-G6*G6);Bz[0]=-G4;Bz[1]=G4;var G9=Math.abs(G5-m);if(G9<0.0001){return 0}if(G9%FS<0.0001){G5=0;m=FS;var v=Z?1:-1;if(G7>=Bz[0]+v2&&G7<=Bz[1]+v2){return v}else{return 0}}if(Z){var G4=G5;G5=Em(m);m=Em(G4)}else{G5=Em(G5);m=Em(m)}if(G5>m){m+=FS}var G8=0;for(var v3=0;v3<2;v3++){var k=Bz[v3];if(k+v2>G7){var cc=Math.atan2(G6,k);var v=Z?1:-1;if(cc<0){cc=FS+cc}if((cc>=G5&&cc<=m)||(cc+FS>=G5&&cc+FS<=m)){if(cc>Math.PI/2&&cc<Math.PI*1.5){v=-v}G8+=v}}}return G8}function AS(Hj,e,Hf,G5,G4){var G6=0;var G8=0;var Hi=0;var Hg=0;var cc=0;for(var Hb=0;Hb<Hj.length;){var Ha=Hj[Hb++];if(Ha===EK.M&&Hb>1){if(!Hf){G6+=lX(G8,Hi,Hg,cc,G5,G4)}}if(Hb==1){G8=Hj[Hb];Hi=Hj[Hb+1];Hg=G8;cc=Hi}switch(Ha){case EK.M:Hg=Hj[Hb++];cc=Hj[Hb++];G8=Hg;Hi=cc;break;case EK.L:if(Hf){if(p9(G8,Hi,Hj[Hb],Hj[Hb+1],e,G5,G4)){return true}}else{G6+=lX(G8,Hi,Hj[Hb],Hj[Hb+1],G5,G4)||0}G8=Hj[Hb++];Hi=Hj[Hb++];break;case EK.C:if(Hf){if(p8(G8,Hi,Hj[Hb++],Hj[Hb++],Hj[Hb++],Hj[Hb++],Hj[Hb],Hj[Hb+1],e,G5,G4)){return true}}else{G6+=iT(G8,Hi,Hj[Hb++],Hj[Hb++],Hj[Hb++],Hj[Hb++],Hj[Hb],Hj[Hb+1],G5,G4)||0}G8=Hj[Hb++];Hi=Hj[Hb++];break;case EK.Q:if(Hf){if(p7(G8,Hi,Hj[Hb++],Hj[Hb++],Hj[Hb],Hj[Hb+1],e,G5,G4)){return true}}else{G6+=ql(G8,Hi,Hj[Hb++],Hj[Hb++],Hj[Hb],Hj[Hb+1],G5,G4)||0}G8=Hj[Hb++];Hi=Hj[Hb++];break;case EK.A:var Z=Hj[Hb++];var m=Hj[Hb++];var v2=Hj[Hb++];var v1=Hj[Hb++];var v3=Hj[Hb++];var He=Hj[Hb++];var Hh=Hj[Hb++];var k=1-Hj[Hb++];var Hd=Math.cos(v3)*v2+Z;var v=Math.sin(v3)*v1+m;if(Hb>1){G6+=lX(G8,Hi,Hd,v,G5,G4)}else{Hg=Hd;cc=v}var Hc=(G5-Z)*v1/v2+Z;if(Hf){if(p5(Z,m,v1,v3,v3+He,k,e,Hc,G4)){return true}}else{G6+=Cl(Z,m,v1,v3,v3+He,k,Hc,G4)}G8=Math.cos(v3+He)*v2+Z;Hi=Math.sin(v3+He)*v1+m;break;case EK.R:Hg=G8=Hj[Hb++];cc=Hi=Hj[Hb++];var G9=Hj[Hb++];var G7=Hj[Hb++];var Hd=Hg+G9;var v=cc+G7;if(Hf){if(p9(Hg,cc,Hd,cc,e,G5,G4)||p9(Hd,cc,Hd,v,e,G5,G4)||p9(Hd,v,Hg,v,e,G5,G4)||p9(Hg,v,Hg,cc,e,G5,G4)){return true}}else{G6+=lX(Hd,cc,Hd,v,G5,G4);G6+=lX(Hg,v,Hg,cc,G5,G4)}break;case EK.Z:if(Hf){if(p9(G8,Hi,Hg,cc,e,G5,G4)){return true}}else{G6+=lX(G8,Hi,Hg,cc,G5,G4)}G8=Hg;Hi=cc;break}}if(!Hf&&!jU(Hi,cc)){G6+=lX(G8,Hi,Hg,cc,G5,G4)||0}return G6!==0}function mI(i,e,k){return AS(i,0,false,e,k)}function eL(k,i,e,m){return AS(k,i,true,e,m)}var pI=ol.prototype.getCanvasPattern;var uj=Math.abs;var Gh=new jI(true);function lT(e){GZ.call(this,e);this.path=null}lT.prototype={constructor:lT,type:"path",__dirtyPath:true,strokeContainThreshold:5,brush:function(G8,e){var k=this.style;var G9=this.path||Gh;var Ha=k.hasStroke();var v3=k.hasFill();var G6=k.fill;var G7=k.stroke;var i=v3&&!!(G6.colorStops);var v2=Ha&&!!(G7.colorStops);var Z=v3&&!!(G6.image);var v=Ha&&!!(G7.image);k.bind(G8,this,e);this.setTransform(G8);if(this.__dirty){var G4;if(i){G4=G4||this.getBoundingRect();this._fillGradient=k.getGradient(G8,G6,G4)}if(v2){G4=G4||this.getBoundingRect();this._strokeGradient=k.getGradient(G8,G7,G4)}}if(i){G8.fillStyle=this._fillGradient}else{if(Z){G8.fillStyle=pI.call(G6,G8)}}if(v2){G8.strokeStyle=this._strokeGradient}else{if(v){G8.strokeStyle=pI.call(G7,G8)}}var cc=k.lineDash;var v1=k.lineDashOffset;var G5=!!G8.setLineDash;var m=this.getGlobalScale();G9.setScale(m[0],m[1]);if(this.__dirtyPath||(cc&&!G5&&Ha)){G9.beginPath(G8);if(cc&&!G5){G9.setLineDash(cc);G9.setLineDashOffset(v1)}this.buildPath(G9,this.shape,false);if(this.path){this.__dirtyPath=false}}else{G8.beginPath();this.path.rebuildPath(G8)}v3&&G9.fill(G8);if(cc&&G5){G8.setLineDash(cc);G8.lineDashOffset=v1}Ha&&G9.stroke(G8);if(cc&&G5){G8.setLineDash([])}if(k.text!=null){this.restoreTransform(G8);this.drawRectText(G8,this.getBoundingRect())}},buildPath:function(e,i,k){},createPathProxy:function(){this.path=new jI()},getBoundingRect:function(){var v=this._rect;var m=this.style;var Z=!v;if(Z){var cc=this.path;if(!cc){cc=this.path=new jI()}if(this.__dirtyPath){cc.beginPath();this.buildPath(cc,this.shape,false)}v=cc.getBoundingRect()}this._rect=v;if(m.hasStroke()){var k=this._rectWithStroke||(this._rectWithStroke=v.clone());if(this.__dirty||Z){k.copy(v);var e=m.lineWidth;var i=m.strokeNoScale?this.getLineScale():1;if(!m.hasFill()){e=Math.max(e,this.strokeContainThreshold||4)}if(i>1e-10){k.width+=e/i;k.height+=e/i;k.x-=e/i/2;k.y-=e/i/2}}return k}return v},contain:function(i,v1){var cc=this.transformCoordToLocal(i,v1);var v=this.getBoundingRect();var m=this.style;i=cc[0];v1=cc[1];if(v.contain(i,v1)){var Z=this.path.data;if(m.hasStroke()){var e=m.lineWidth;var k=m.strokeNoScale?this.getLineScale():1;if(k>1e-10){if(!m.hasFill()){e=Math.max(e,this.strokeContainThreshold)}if(eL(Z,e/k,i,v1)){return true}}}if(m.hasFill()){return mI(Z,i,v1)}}return false},dirty:function(e){if(e==null){e=true}if(e){this.__dirtyPath=e;this._rect=null}this.__dirty=true;this.__zr&&this.__zr.refresh();if(this.__clipTarget){this.__clipTarget.dirty()}},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,i){if(e==="shape"){this.setShape(i);this.__dirtyPath=true;this._rect=null}else{GZ.prototype.attrKV.call(this,e,i)}},setShape:function(k,m){var e=this.shape;if(e){if(sU(k)){for(var i in k){if(k.hasOwnProperty(i)){e[i]=k[i]}}}else{e[k]=m}this.dirty(true)}return this},getLineScale:function(){var e=this.transform;return e&&uj(e[0]-1)>1e-10&&uj(e[3]-1)>1e-10?Math.sqrt(uj(e[0]*e[3]-e[2]*e[1])):1}};lT.extend=function(k){var e=function(v){lT.call(this,v);if(k.style){this.style.extendFrom(k.style,false)}var cc=k.shape;if(cc){this.shape=this.shape||{};var Z=this.shape;for(var m in cc){if(!Z.hasOwnProperty(m)&&cc.hasOwnProperty(m)){Z[m]=cc[m]}}}k.init&&k.init.call(this,v)};lZ(e,lT);for(var i in k){if(i!=="style"&&i!=="shape"){e.prototype[i]=k[i]}}return e};lZ(lT,GZ);var EJ=jI.CMD;var AP=[[],[],[]];var g5=Math.sqrt;var td=Math.atan2;var rV=function(G7,Ha){var Hg=G7.data;var Hd;var v3;var He;var Hc;var Hb;var G9;var Z=EJ.M;var G5=EJ.C;var cc=EJ.L;var e=EJ.R;var G8=EJ.A;var v=EJ.Q;for(He=0,Hc=0;He<Hg.length;){Hd=Hg[He++];Hc=He;v3=0;switch(Hd){case Z:v3=1;break;case cc:v3=1;break;case G5:v3=3;break;case v:v3=2;break;case G8:var v2=Ha[4];var v1=Ha[5];var G6=g5(Ha[0]*Ha[0]+Ha[1]*Ha[1]);var G4=g5(Ha[2]*Ha[2]+Ha[3]*Ha[3]);var Hf=td(-Ha[1]/G4,Ha[0]/G6);Hg[He]*=G6;Hg[He++]+=v2;Hg[He]*=G4;Hg[He++]+=v1;Hg[He++]*=G6;Hg[He++]*=G4;Hg[He++]+=Hf;Hg[He++]+=Hf;He+=2;Hc=He;break;case e:G9[0]=Hg[He++];G9[1]=Hg[He++];aZ(G9,G9,Ha);Hg[Hc++]=G9[0];Hg[Hc++]=G9[1];G9[0]+=Hg[He++];G9[1]+=Hg[He++];aZ(G9,G9,Ha);Hg[Hc++]=G9[0];Hg[Hc++]=G9[1]}for(Hb=0;Hb<v3;Hb++){var G9=AP[Hb];G9[0]=Hg[He++];G9[1]=Hg[He++];aZ(G9,G9,Ha);Hg[Hc++]=G9[0];Hg[Hc++]=G9[1]}}};var F9=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];var yV=Math.sqrt;var AK=Math.sin;var yO=Math.cos;var eW=Math.PI;var fU=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])};var cx=function(i,e){return(i[0]*e[0]+i[1]*e[1])/(fU(i)*fU(e))};var jS=function(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(cx(i,e))};function oW(He,m,Hd,i,Hb,v3,v2,v1,Z,Hc,Ha){var Hi=Z*(eW/180);var G5=yO(Hi)*(He-Hd)/2+AK(Hi)*(m-i)/2;var Hf=-1*AK(Hi)*(He-Hd)/2+yO(Hi)*(m-i)/2;var G8=(G5*G5)/(v2*v2)+(Hf*Hf)/(v1*v1);if(G8>1){v2*=yV(G8);v1*=yV(G8)}var Hh=(Hb===v3?-1:1)*yV((((v2*v2)*(v1*v1))-((v2*v2)*(Hf*Hf))-((v1*v1)*(G5*G5)))/((v2*v2)*(Hf*Hf)+(v1*v1)*(G5*G5)))||0;var cc=Hh*v2*Hf/v1;var G9=Hh*-v1*G5/v2;var k=(He+Hd)/2+yO(Hi)*cc-AK(Hi)*G9;var e=(m+i)/2+AK(Hi)*cc+yO(Hi)*G9;var G4=jS([1,0],[(G5-cc)/v2,(Hf-G9)/v1]);var G7=[(G5-cc)/v2,(Hf-G9)/v1];var G6=[(-1*G5-cc)/v2,(-1*Hf-G9)/v1];var Hg=jS(G7,G6);if(cx(G7,G6)<=-1){Hg=eW}if(cx(G7,G6)>=1){Hg=0}if(v3===0&&Hg>0){Hg=Hg-2*eW}if(v3===1&&Hg<0){Hg=Hg+2*eW}Ha.addData(Hc,k,e,v2,v1,G4,Hg,Hi,v3)}function k4(Hk){if(!Hk){return[]}var Z=Hk.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");var G6;for(G6=0;G6<F9.length;G6++){Z=Z.replace(new RegExp(F9[G6],"g"),"|"+F9[G6])}var e=Z.split("|");var v2=0;var v1=0;var v3=new jI();var He=jI.CMD;var G8;for(G6=1;G6<e.length;G6++){var G7=e[G6];var Hg=G7.charAt(0);var Hj=0;var G4=G7.slice(1).replace(/e,-/g,"e-").split(",");var G9;if(G4.length>0&&G4[0]===""){G4.shift()}for(var Ha=0;Ha<G4.length;Ha++){G4[Ha]=parseFloat(G4[Ha])}while(Hj<G4.length&&!isNaN(G4[Hj])){if(isNaN(G4[0])){break}var Hi;var Hh;var v;var m;var Hf;var G5;var cc;var Hd=v2;var k=v1;switch(Hg){case"l":v2+=G4[Hj++];v1+=G4[Hj++];G9=He.L;v3.addData(G9,v2,v1);break;case"L":v2=G4[Hj++];v1=G4[Hj++];G9=He.L;v3.addData(G9,v2,v1);break;case"m":v2+=G4[Hj++];v1+=G4[Hj++];G9=He.M;v3.addData(G9,v2,v1);Hg="l";break;case"M":v2=G4[Hj++];v1=G4[Hj++];G9=He.M;v3.addData(G9,v2,v1);Hg="L";break;case"h":v2+=G4[Hj++];G9=He.L;v3.addData(G9,v2,v1);break;case"H":v2=G4[Hj++];G9=He.L;v3.addData(G9,v2,v1);break;case"v":v1+=G4[Hj++];G9=He.L;v3.addData(G9,v2,v1);break;case"V":v1=G4[Hj++];G9=He.L;v3.addData(G9,v2,v1);break;case"C":G9=He.C;v3.addData(G9,G4[Hj++],G4[Hj++],G4[Hj++],G4[Hj++],G4[Hj++],G4[Hj++]);v2=G4[Hj-2];v1=G4[Hj-1];break;case"c":G9=He.C;v3.addData(G9,G4[Hj++]+v2,G4[Hj++]+v1,G4[Hj++]+v2,G4[Hj++]+v1,G4[Hj++]+v2,G4[Hj++]+v1);v2+=G4[Hj-2];v1+=G4[Hj-1];break;case"S":Hi=v2;Hh=v1;var Hb=v3.len();var Hc=v3.data;if(G8===He.C){Hi+=v2-Hc[Hb-4];Hh+=v1-Hc[Hb-3]}G9=He.C;Hd=G4[Hj++];k=G4[Hj++];v2=G4[Hj++];v1=G4[Hj++];v3.addData(G9,Hi,Hh,Hd,k,v2,v1);break;case"s":Hi=v2;Hh=v1;var Hb=v3.len();var Hc=v3.data;if(G8===He.C){Hi+=v2-Hc[Hb-4];Hh+=v1-Hc[Hb-3]}G9=He.C;Hd=v2+G4[Hj++];k=v1+G4[Hj++];v2+=G4[Hj++];v1+=G4[Hj++];v3.addData(G9,Hi,Hh,Hd,k,v2,v1);break;case"Q":Hd=G4[Hj++];k=G4[Hj++];v2=G4[Hj++];v1=G4[Hj++];G9=He.Q;v3.addData(G9,Hd,k,v2,v1);break;case"q":Hd=G4[Hj++]+v2;k=G4[Hj++]+v1;v2+=G4[Hj++];v1+=G4[Hj++];G9=He.Q;v3.addData(G9,Hd,k,v2,v1);break;case"T":Hi=v2;Hh=v1;var Hb=v3.len();var Hc=v3.data;if(G8===He.Q){Hi+=v2-Hc[Hb-4];Hh+=v1-Hc[Hb-3]}v2=G4[Hj++];v1=G4[Hj++];G9=He.Q;v3.addData(G9,Hi,Hh,v2,v1);break;case"t":Hi=v2;Hh=v1;var Hb=v3.len();var Hc=v3.data;if(G8===He.Q){Hi+=v2-Hc[Hb-4];Hh+=v1-Hc[Hb-3]}v2+=G4[Hj++];v1+=G4[Hj++];G9=He.Q;v3.addData(G9,Hi,Hh,v2,v1);break;case"A":v=G4[Hj++];m=G4[Hj++];Hf=G4[Hj++];G5=G4[Hj++];cc=G4[Hj++];Hd=v2,k=v1;v2=G4[Hj++];v1=G4[Hj++];G9=He.A;oW(Hd,k,v2,v1,G5,cc,v,m,Hf,G9,v3);break;case"a":v=G4[Hj++];m=G4[Hj++];Hf=G4[Hj++];G5=G4[Hj++];cc=G4[Hj++];Hd=v2,k=v1;v2+=G4[Hj++];v1+=G4[Hj++];G9=He.A;oW(Hd,k,v2,v1,G5,cc,v,m,Hf,G9,v3);break}}if(Hg==="z"||Hg==="Z"){G9=He.Z;v3.addData(G9)}G8=G9}v3.toStatic();return v3}function FN(k,i){var e=k4(k);i=i||{};i.buildPath=function(v){if(v.setData){v.setData(e.data);var m=v.getContext();if(m){v.rebuildPath(m)}}else{var m=v;e.rebuildPath(m)}};i.applyTransform=function(v){rV(e,v);this.dirty(true)};return i}function e7(i,e){return new lT(FN(i,e))}function b3(i,e){return lT.extend(FN(i,e))}function l5(m,cc){var v1=[];var k=m.length;for(var Z=0;Z<k;Z++){var v=m[Z];if(!v.path){v.createPathProxy()}if(v.__dirtyPath){v.buildPath(v.path,v.shape,true)}v1.push(v.path)}var e=new lT(cc);e.createPathProxy();e.buildPath=function(v2){v2.appendPath(v1);var i=v2.getContext();if(i){v2.rebuildPath(i)}};return e}var iC=function(e){GZ.call(this,e)};iC.prototype={constructor:iC,type:"text",brush:function(e,i){var k=this.style;this.__dirty&&oD(k,true);k.fill=k.stroke=k.shadowBlur=k.shadowColor=k.shadowOffsetX=k.shadowOffsetY=null;var m=k.text;m!=null&&(m+="");k.bind(e,this,i);if(!Ds(m,k)){return}this.setTransform(e);zH(this,e,m,k);this.restoreTransform(e)},getBoundingRect:function(){var i=this.style;this.__dirty&&oD(i,true);if(!this._rect){var m=i.text;m!=null?(m+=""):(m="");var k=Fg(i.text+"",i.font,i.textAlign,i.textVerticalAlign,i.textPadding,i.rich);k.x+=i.x||0;k.y+=i.y||0;if(v7(i.textStroke,i.textStrokeWidth)){var e=i.textStrokeWidth;k.x-=e/2;k.y-=e/2;k.width+=e;k.height+=e}this._rect=k}return this._rect}};lZ(iC,GZ);var Fx=lT.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,i,k){if(k){e.moveTo(i.cx+i.r,i.cy)}e.arc(i.cx,i.cy,i.r,0,Math.PI*2,true)}});var AF=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var mN=function(e){return(r6.browser.ie&&r6.browser.version>=11)?function(){var v3=this.__clipPaths;var v1=this.style;var v;if(v3){for(var Z=0;Z<v3.length;Z++){var v2=v3[Z];var k=v2&&v2.shape;var cc=v2&&v2.type;if(k&&((cc==="sector"&&k.startAngle===k.endAngle)||(cc==="rect"&&(!k.width||!k.height)))){for(var m=0;m<AF.length;m++){AF[m][2]=v1[AF[m][0]];v1[AF[m][0]]=AF[m][1]}v=true;break}}}e.apply(this,arguments);if(v){for(var m=0;m<AF.length;m++){v1[AF[m][0]]=AF[m][2]}}}:e};var sI=lT.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},brush:mN(lT.prototype.brush),buildPath:function(G4,Z){var v3=Z.cx;var v1=Z.cy;var m=Math.max(Z.r0||0,0);var e=Math.max(Z.r,0);var v=Z.startAngle;var k=Z.endAngle;var i=Z.clockwise;var v2=Math.cos(v);var cc=Math.sin(v);G4.moveTo(v2*m+v3,cc*m+v1);G4.lineTo(v2*e+v3,cc*e+v1);G4.arc(v3,v1,e,v,k,!i);G4.lineTo(Math.cos(k)*m+v3,Math.sin(k)*m+v1);if(m!==0){G4.arc(v3,v1,m,k,v,i)}G4.closePath()}});var rg=lT.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(i,k){var e=k.cx;var v=k.cy;var m=Math.PI*2;i.moveTo(e+k.r,v);i.arc(e,v,k.r,0,m,false);i.moveTo(e+k.r0,v);i.arc(e,v,k.r0,0,m,true)}});function mM(v1,cc,v,m,v2,i,e){var Z=(v-v1)*0.5;var k=(m-cc)*0.5;return(2*(cc-v)+Z+k)*e+(-3*(cc-v)-2*Z-k)*i+Z*v2+cc}var hK=function(G8,e){var G6=G8.length;var v1=[];var Z=0;for(var cc=1;cc<G6;cc++){Z+=zg(G8[cc-1],G8[cc])}var k=Z/2;k=k<G6?G6:k;for(var cc=0;cc<k;cc++){var v2=cc/(k-1)*(e?G6:G6-1);var G5=Math.floor(v2);var G4=v2-G5;var Ha;var G9=G8[G5%G6];var G7;var v3;if(!e){Ha=G8[G5===0?G5:G5-1];G7=G8[G5>G6-2?G6-1:G5+1];v3=G8[G5>G6-3?G6-1:G5+2]}else{Ha=G8[(G5-1+G6)%G6];G7=G8[(G5+1)%G6];v3=G8[(G5+2)%G6]}var v=G4*G4;var m=G4*v;v1.push([mM(Ha[0],G9[0],G7[0],v3[0],G4,v,m),mM(Ha[1],G9[1],G7[1],v3[1],G4,v,m)])}return v1};var uw=function(Ha,G6,Hf,e){var G4=[];var G5=[];var v2=[];var Z=[];var G9;var Hc;var G7,v3;if(e){G7=[Infinity,Infinity];v3=[-Infinity,-Infinity];for(var Hb=0,m=Ha.length;Hb<m;Hb++){Ax(G7,G7,Ha[Hb]);C4(v3,v3,Ha[Hb])}Ax(G7,G7,e[0]);C4(v3,v3,e[1])}for(var Hb=0,m=Ha.length;Hb<m;Hb++){var G8=Ha[Hb];if(Hf){G9=Ha[Hb?Hb-1:m-1];Hc=Ha[(Hb+1)%m]}else{if(Hb===0||Hb===m-1){G4.push(t4(Ha[Hb]));continue}else{G9=Ha[Hb-1];Hc=Ha[Hb+1]}}AQ(G5,Hc,G9);Gr(G5,G5,G6);var k=zg(G8,G9);var Hg=zg(G8,Hc);var cc=k+Hg;if(cc!==0){k/=cc;Hg/=cc}Gr(v2,G5,-k);Gr(Z,G5,Hg);var He=tM([],G8,v2);var Hd=tM([],G8,Z);if(e){C4(He,He,G7);Ax(He,He,v3);C4(Hd,Hd,G7);Ax(Hd,Hd,v3)}G4.push(He);G4.push(Hd)}if(Hf){G4.push(G4.shift())}return G4};function xZ(G5,v3,cc){var G4=v3.points;var e=v3.smooth;if(G4&&G4.length>=2){if(e&&e!=="spline"){var G6=uw(G4,e,cc,v3.smoothConstraint);G5.moveTo(G4[0][0],G4[0][1]);var v2=G4.length;for(var v1=0;v1<(cc?v2:v2-1);v1++){var Z=G6[v1*2];var v=G6[v1*2+1];var k=G4[(v1+1)%v2];G5.bezierCurveTo(Z[0],Z[1],v[0],v[1],k[0],k[1])}}else{if(e==="spline"){G4=hK(G4,cc)}G5.moveTo(G4[0][0],G4[0][1]);for(var v1=1,m=G4.length;v1<m;v1++){G5.lineTo(G4[v1][0],G4[v1][1])}}cc&&G5.closePath()}}var hV=lT.extend({type:"polygon",shape:{points:null,smooth:false,smoothConstraint:null},buildPath:function(e,i){xZ(e,i,true)}});var zf=lT.extend({type:"polyline",shape:{points:null,smooth:false,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,i){xZ(e,i,false)}});var DD=lT.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(k,m){var i=m.x;var Z=m.y;var v=m.width;var e=m.height;if(!m.r){k.rect(i,Z,v,e)}else{sq(k,m)}k.closePath();return}});var yK=lT.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,k){var m=k.x1;var Z=k.y1;var i=k.x2;var v=k.y2;var cc=k.percent;if(cc===0){return}e.moveTo(m,Z);if(cc<1){i=m*(1-cc)+i*cc;v=Z*(1-cc)+v*cc}e.lineTo(i,v)},pointAt:function(i){var e=this.shape;return[e.x1*(1-i)+e.x2*i,e.y1*(1-i)+e.y2*i]}});var aP=[];function dB(i,k,e){var m=i.cpx2;var v=i.cpy2;if(m===null||v===null){return[(e?gG:aT)(i.x1,i.cpx1,i.cpx2,i.x2,k),(e?gG:aT)(i.y1,i.cpy1,i.cpy2,i.y2,k)]}else{return[(e?uH:j8)(i.x1,i.cpx1,i.x2,k),(e?uH:j8)(i.y1,i.cpy1,i.y2,k)]}}var gJ=lT.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(G4,cc){var i=cc.x1;var v3=cc.y1;var e=cc.x2;var v2=cc.y2;var v1=cc.cpx1;var m=cc.cpy1;var Z=cc.cpx2;var k=cc.cpy2;var v=cc.percent;if(v===0){return}G4.moveTo(i,v3);if(Z==null||k==null){if(v<1){DB(i,v1,e,v,aP);v1=aP[1];e=aP[2];DB(v3,m,v2,v,aP);m=aP[1];v2=aP[2]}G4.quadraticCurveTo(v1,m,e,v2)}else{if(v<1){f9(i,v1,Z,e,v,aP);v1=aP[1];Z=aP[2];e=aP[3];f9(v3,m,k,v2,v,aP);m=aP[1];k=aP[2];v2=aP[3]}G4.bezierCurveTo(v1,m,Z,k,e,v2)}},pointAt:function(e){return dB(this.shape,e,false)},tangentAt:function(e){var i=dB(this.shape,e,true);return vP(i,i)}});var pc=lT.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},style:{stroke:"#000",fill:null},buildPath:function(v3,v){var v2=v.cx;var cc=v.cy;var e=Math.max(v.r,0);var m=v.startAngle;var k=v.endAngle;var i=v.clockwise;var v1=Math.cos(m);var Z=Math.sin(m);v3.moveTo(v1*e+v2,Z*e+cc);v3.arc(v2,cc,e,m,k,!i)}});var ja=lT.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){var k=this.__dirtyPath;var m=this.shape.paths;for(var e=0;e<m.length;e++){k=k||m[e].__dirtyPath}this.__dirtyPath=k;this.__dirty=this.__dirty||k},beforeBrush:function(){this._updatePathDirty();var m=this.shape.paths||[];var k=this.getGlobalScale();for(var e=0;e<m.length;e++){if(!m[e].path){m[e].createPathProxy()}m[e].path.setScale(k[0],k[1])}},buildPath:function(e,k){var v=k.paths||[];for(var m=0;m<v.length;m++){v[m].buildPath(e,v[m].shape,true)}},afterBrush:function(){var k=this.shape.paths||[];for(var e=0;e<k.length;e++){k[e].__dirtyPath=false}},getBoundingRect:function(){this._updatePathDirty();return lT.prototype.getBoundingRect.call(this)}});var lu=function(e){this.colorStops=e||[]};lu.prototype={constructor:lu,addColorStop:function(i,e){this.colorStops.push({offset:i,color:e})}};var tP=function(e,Z,k,m,i,v){this.x=e==null?0:e;this.y=Z==null?0:Z;this.x2=k==null?1:k;this.y2=m==null?0:m;this.type="linear";this.global=v||false;lu.call(this,i)};tP.prototype={constructor:tP};lZ(tP,lu);var oh=function(e,v,k,i,m){this.x=e==null?0.5:e;this.y=v==null?0.5:v;this.r=k==null?0.5:k;this.type="radial";this.global=m||false;lu.call(this,i)};oh.prototype={constructor:oh};lZ(oh,lu);function yU(e){GZ.call(this,e);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=true}yU.prototype.incremental=true;yU.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=false};yU.prototype.addDisplayable=function(e,i){if(i){this._temporaryDisplayables.push(e)}else{this._displayables.push(e)}this.dirty()};yU.prototype.addDisplayables=function(m,k){k=k||false;for(var e=0;e<m.length;e++){this.addDisplayable(m[e],k)}};yU.prototype.eachPendingDisplayable=function(e){for(var k=this._cursor;k<this._displayables.length;k++){e&&e(this._displayables[k])}for(var k=0;k<this._temporaryDisplayables.length;k++){e&&e(this._temporaryDisplayables[k])}};yU.prototype.update=function(){this.updateTransform();for(var k=this._cursor;k<this._displayables.length;k++){var e=this._displayables[k];e.parent=this;e.update();e.parent=null}for(var k=0;k<this._temporaryDisplayables.length;k++){var e=this._temporaryDisplayables[k];e.parent=this;e.update();e.parent=null}};yU.prototype.brush=function(e,v){for(var m=this._cursor;m<this._displayables.length;m++){var k=this._temporaryDisplayables[m];k.beforeBrush&&k.beforeBrush(e);k.brush(e,m===this._cursor?null:this._displayables[m-1]);k.afterBrush&&k.afterBrush(e)}this._cursor=m;for(var m=0;m<this._temporaryDisplayables.length;m++){var k=this._temporaryDisplayables[m];k.beforeBrush&&k.beforeBrush(e);k.brush(e,m===0?null:this._temporaryDisplayables[m-1]);k.afterBrush&&k.afterBrush(e)}this._temporaryDisplayables=[];this.notClear=true};var FY=[];yU.prototype.getBoundingRect=function(){if(!this._rect){var v=new BM(Infinity,Infinity,-Infinity,-Infinity);for(var m=0;m<this._displayables.length;m++){var k=this._displayables[m];var e=k.getBoundingRect().clone();if(k.needLocalTransform()){e.applyTransform(k.getLocalTransform(FY))}v.union(e)}this._rect=v}return this._rect};yU.prototype.contain=function(e,cc){var Z=this.transformCoordToLocal(e,cc);var v=this.getBoundingRect();if(v.contain(Z[0],Z[1])){for(var m=0;m<this._displayables.length;m++){var k=this._displayables[m];if(k.contain(e,cc)){return true}}}return false};lZ(yU,GZ);var B=Math.round;var zU=Math.max;var jg=Math.min;var zJ={};function Gi(e){return lT.extend(e)}function qA(i,e){return b3(i,e)}function Ah(Z,m,k,i){var v=e7(Z,m);var e=v.getBoundingRect();if(k){if(i==="center"){k=Af(k,e)}d4(v,k)}return v}function Fk(e,k,i){var m=new Ek({style:{image:e,x:k.x,y:k.y,width:k.width,height:k.height},onload:function(v){if(i==="center"){var Z={width:v.width,height:v.height};m.setStyle(Af(k,Z))}}});return m}function Af(Z,m){var k=m.width/m.height;var v=Z.height*k;var i;if(v<=Z.width){i=Z.height}else{v=Z.width;i=v/k}var e=Z.x+Z.width/2;var cc=Z.y+Z.height/2;return{x:e-v/2,y:cc-i/2,width:v,height:i}}var qm=l5;function d4(v,i){if(!v.applyTransform){return}var k=v.getBoundingRect();var e=k.calculateTransform(i);v.applyTransform(e)}function de(k){var i=k.shape;var e=k.style.lineWidth;if(B(i.x1*2)===B(i.x2*2)){i.x1=i.x2=Fo(i.x1,e,true)}if(B(i.y1*2)===B(i.y2*2)){i.y1=i.y2=Fo(i.y1,e,true)}return k}function ij(Z){var m=Z.shape;var e=Z.style.lineWidth;var v=m.x;var k=m.y;var i=m.width;var cc=m.height;m.x=Fo(m.x,e,true);m.y=Fo(m.y,e,true);m.width=Math.max(Fo(v+i,e,false)-m.x,i===0?0:1);m.height=Math.max(Fo(k+cc,e,false)-m.y,cc===0?0:1);return Z}function Fo(i,e,k){var m=B(i*2);return(m+B(e))%2===0?m/2:(m+(k?1:-1))/2}function h6(e){return e!=null&&e!="none"}function zq(e){return typeof e==="string"?mq(e,-0.1):e}function Er(i){if(i.__hoverStlDirty){var v=i.style.stroke;var m=i.style.fill;var k=i.__hoverStl;k.fill=k.fill||(h6(m)?zq(m):null);k.stroke=k.stroke||(h6(v)?zq(v):null);var Z={};for(var e in k){if(k[e]!=null){Z[e]=i.style[e]}}i.__normalStl=Z;i.__hoverStlDirty=false}}function we(i){if(i.__isHover){return}Er(i);if(i.useHoverLayer){i.__zr&&i.__zr.addHover(i,i.__hoverStl)}else{var e=i.style;var k=e.insideRollbackOpt;k&&ck(e);e.extendFrom(i.__hoverStl);if(k){jM(e,e.insideOriginalTextPosition,k);if(e.textFill==null){e.textFill=k.autoColor}}i.dirty(false);i.z2+=1}i.__isHover=true}function el(i){if(!i.__isHover){return}var e=i.__normalStl;if(i.useHoverLayer){i.__zr&&i.__zr.removeHover(i)}else{e&&i.setStyle(e);i.z2-=1}i.__isHover=false}function Eq(e){e.type==="group"?e.traverse(function(i){if(i.type!=="group"){we(i)}}):we(e)}function wo(e){e.type==="group"?e.traverse(function(i){if(i.type!=="group"){el(i)}}):el(e)}function lY(i,e){i.__hoverStl=i.hoverStyle||e||{};i.__hoverStlDirty=true;if(i.__isHover){Er(i)}}function hJ(i){if(this.__hoverSilentOnTouch&&i.zrByTouch){return}!this.__isEmphasis&&Eq(this)}function f8(i){if(this.__hoverSilentOnTouch&&i.zrByTouch){return}!this.__isEmphasis&&wo(this)}function Dw(){this.__isEmphasis=true;Eq(this)}function uh(){this.__isEmphasis=false;wo(this)}function xz(i,k,e){i.__hoverSilentOnTouch=e&&e.hoverSilentOnTouch;i.type==="group"?i.traverse(function(m){if(m.type!=="group"){lY(m,k)}}):lY(i,k);i.on("mouseover",hJ).on("mouseout",f8);i.on("emphasis",Dw).on("normal",uh)}function AG(e,k,Z,v2,i,G7,G5){i=i||zJ;var v=i.labelFetcher;var v1=i.labelDataIndex;var v3=i.labelDimIndex;var G4=Z.getShallow("show");var G8=v2.getShallow("show");var G6;if(G4||G8){if(v){G6=v.getFormattedLabel(v1,"normal",null,v3)}if(G6==null){G6=D0(i.defaultText)?i.defaultText(v1,i):i.defaultText}}var cc=G4?G6:null;var m=G8?jP(v?v.getFormattedLabel(v1,"emphasis",null,v3):null,G6):null;if(cc!=null||m!=null){oB(e,Z,G7,i);oB(k,v2,G5,i,true)}e.text=cc;k.text=m}function oB(v,e,m,k,i){BO(v,e,k,i);m&&bY(v,m);v.host&&v.host.dirty&&v.host.dirty(false);return v}function C2(v,m,k){var i={isRectText:true};var e;if(k===false){e=true}else{i.autoColor=k}BO(v,m,i,e);v.host&&v.host.dirty&&v.host.dirty(false)}function BO(v1,v3,k,v){k=k||zJ;if(k.isRectText){var G5=v3.getShallow("position")||(v?null:"inside");G5==="outside"&&(G5="top");v1.textPosition=G5;v1.textOffset=v3.getShallow("offset");var m=v3.getShallow("rotate");m!=null&&(m*=Math.PI/180);v1.textRotation=m;v1.textDistance=jP(v3.getShallow("distance"),v?null:5)}var cc=v3.ecModel;var Z=cc&&cc.option.textStyle;var v2=vD(v3);var e;if(v2){e={};for(var i in v2){if(v2.hasOwnProperty(i)){var G4=v3.getModel(["rich",i]);yJ(e[i]={},G4,Z,k,v)}}}v1.rich=e;yJ(v1,v3,Z,k,v,true);if(k.forceRich&&!k.textStyle){k.textStyle={}}return v1}function vD(m){var e;while(m&&m!==m.ecModel){var i=(m.option||zJ).rich;if(i){e=e||{};for(var k in i){if(i.hasOwnProperty(k)){e[k]=1}}}m=m.parentModel}return e}function yJ(cc,i,v,m,k,e){v=!k&&v||zJ;cc.textFill=jZ(i.getShallow("color"),m)||v.color;cc.textStroke=jZ(i.getShallow("textBorderColor"),m)||v.textBorderColor;cc.textStrokeWidth=jP(i.getShallow("textBorderWidth"),v.textBorderWidth);if(!k){if(e){var Z=cc.textPosition;cc.insideRollback=jM(cc,Z,m);cc.insideOriginalTextPosition=Z;cc.insideRollbackOpt=m}if(cc.textFill==null){cc.textFill=m.autoColor}}cc.fontStyle=i.getShallow("fontStyle")||v.fontStyle;cc.fontWeight=i.getShallow("fontWeight")||v.fontWeight;cc.fontSize=i.getShallow("fontSize")||v.fontSize;cc.fontFamily=i.getShallow("fontFamily")||v.fontFamily;cc.textAlign=i.getShallow("align");cc.textVerticalAlign=i.getShallow("verticalAlign")||i.getShallow("baseline");cc.textLineHeight=i.getShallow("lineHeight");cc.textWidth=i.getShallow("width");cc.textHeight=i.getShallow("height");cc.textTag=i.getShallow("tag");if(!e||!m.disableBox){cc.textBackgroundColor=jZ(i.getShallow("backgroundColor"),m);cc.textPadding=i.getShallow("padding");cc.textBorderColor=jZ(i.getShallow("borderColor"),m);cc.textBorderWidth=i.getShallow("borderWidth");cc.textBorderRadius=i.getShallow("borderRadius");cc.textBoxShadowColor=i.getShallow("shadowColor");cc.textBoxShadowBlur=i.getShallow("shadowBlur");cc.textBoxShadowOffsetX=i.getShallow("shadowOffsetX");cc.textBoxShadowOffsetY=i.getShallow("shadowOffsetY")}cc.textShadowColor=i.getShallow("textShadowColor")||v.textShadowColor;cc.textShadowBlur=i.getShallow("textShadowBlur")||v.textShadowBlur;cc.textShadowOffsetX=i.getShallow("textShadowOffsetX")||v.textShadowOffsetX;cc.textShadowOffsetY=i.getShallow("textShadowOffsetY")||v.textShadowOffsetY}function jZ(e,i){return e!=="auto"?e:(i&&i.autoColor)?i.autoColor:null}function jM(v,m,k){var i=k.useInsideStyle;var e;if(v.textFill==null&&i!==false&&(i===true||(k.isRectText&&m&&typeof m==="string"&&m.indexOf("inside")>=0))){e={textFill:null,textStroke:v.textStroke,textStrokeWidth:v.textStrokeWidth};v.textFill="#fff";if(v.textStroke==null){v.textStroke=k.autoColor;v.textStrokeWidth==null&&(v.textStrokeWidth=2)}}return e}function ck(i){var e=i.insideRollback;if(e){i.textFill=e.textFill;i.textStroke=e.textStroke;i.textStrokeWidth=e.textStrokeWidth}}function jC(i,e){var k=e||e.getModel("textStyle");return Fi([i.fontStyle||k&&k.getShallow("fontStyle")||"",i.fontWeight||k&&k.getShallow("fontWeight")||"",(i.fontSize||k&&k.getShallow("fontSize")||12)+"px",i.fontFamily||k&&k.getShallow("fontFamily")||"sans-serif"].join(" "))}function hI(G4,i,cc,v,v1,k){if(typeof v1==="function"){k=v1;v1=null}var v3=v&&v.isAnimationEnabled();if(v3){var v2=G4?"Update":"";var m=v.getShallow("animationDuration"+v2);var e=v.getShallow("animationEasing"+v2);var Z=v.getShallow("animationDelay"+v2);if(typeof Z==="function"){Z=Z(v1,v.getAnimationDelayParams?v.getAnimationDelayParams(i,v1):null)}if(typeof m==="function"){m=m(v1)}m>0?i.animateTo(cc,m,Z||0,e,k,!!k):(i.stopAnimation(),i.attr(cc),k&&k())}else{i.stopAnimation();i.attr(cc);k&&k()}}function og(m,k,v,i,e){hI(true,m,k,v,i,e)}function ji(m,k,v,i,e){hI(false,m,k,v,i,e)}function aJ(k,i){var e=ln([]);while(k&&k!==i){j(e,k.getLocalTransform(),e);k=k.parent}return e}function ve(k,e,i){if(e&&!r0(e)){e=bI.getLocalTransform(e)}if(i){e=fs([],e)}return aZ([],k,e)}function nr(Z,i,k){var e=(i[4]===0||i[5]===0||i[0]===0)?1:Math.abs(2*i[4]/i[0]);var v=(i[4]===0||i[5]===0||i[2]===0)?1:Math.abs(2*i[4]/i[2]);var m=[Z==="left"?-e:Z==="right"?e:0,Z==="top"?-v:Z==="bottom"?v:0];m=ve(m,i,k);return Math.abs(m[0])>Math.abs(m[1])?(m[0]>0?"right":"left"):(m[1]>0?"bottom":"top")}function C(k,i,Z,e){if(!k||!i){return}function v(v2){var v1={};v2.traverse(function(v3){if(!v3.isGroup&&v3.anid){v1[v3.anid]=v3}});return v1}function cc(v1){var v2={position:t4(v1.position),rotation:v1.rotation};if(v1.shape){v2.shape=bY({},v1.shape)}return v2}var m=v(k);i.traverse(function(v2){if(!v2.isGroup&&v2.anid){var v1=m[v2.anid];if(v1){var v3=cc(v2);v2.attr(cc(v1));og(v2,v3,Z,v2.dataIndex)}}})}function n3(e,i){return De(e,function(m){var k=m[0];k=zU(k,i.x);k=jg(k,i.x+i.width);var v=m[1];v=zU(v,i.y);v=jg(v,i.y+i.height);return[k,v]})}function ux(v,m){var e=zU(v.x,m.x);var i=jg(v.x+v.width,m.x+m.width);var Z=zU(v.y,m.y);var k=jg(v.y+v.height,m.y+m.height);if(i>=e&&k>=Z){return{x:e,y:Z,width:i-e,height:k-Z}}}function E0(e,i,m){i=bY({rectHover:true},i);var k=i.style={strokeNoScale:true};m=m||{x:-1,y:-1,width:2,height:2};if(e){return e.indexOf("image://")===0?(k.image=e.slice(8),Ch(k,m),new Ek(i)):(Ah(e.replace("path://",""),i,m,"center"))}}var xr=(Object.freeze||Object)({extendShape:Gi,extendPath:qA,makePath:Ah,makeImage:Fk,mergePath:qm,resizePath:d4,subPixelOptimizeLine:de,subPixelOptimizeRect:ij,subPixelOptimize:Fo,setHoverStyle:xz,setLabelStyle:AG,setTextStyle:oB,setText:C2,getFont:jC,updateProps:og,initProps:ji,getTransform:aJ,applyTransform:ve,transformDirection:nr,groupTransition:C,clipPointsByRect:n3,clipRectByRect:ux,createIcon:E0,Group:Bd,Image:Ek,Text:iC,Circle:Fx,Sector:sI,Ring:rg,Polygon:hV,Polyline:zf,Rect:DD,Line:yK,BezierCurve:gJ,Arc:pc,IncrementalDisplayable:yU,CompoundPath:ja,LinearGradient:tP,RadialGradient:oh,BoundingRect:BM});var er=["textStyle","color"];var J={getTextColor:function(i){var e=this.ecModel;return this.getShallow("color")||((!i&&e)?e.get(er):null)},getFont:function(){return jC({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return Fg(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};var hz=xX([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);var GA={getItemStyle:function(m,i){var k=hz(this,m,i);var e=this.getBorderLineDash();e&&(k.lineDash=e);return k},getBorderLineDash:function(){var e=this.get("borderType");return(e==="solid"||e==null)?null:(e==="dashed"?[5,5]:[1,1])}};var db=Ff;var p6=fw();function fg(k,i,e){this.parentModel=i;this.ecModel=e;this.option=k}fg.prototype={constructor:fg,init:null,mergeOption:function(e){vb(this.option,e,true)},get:function(i,e){if(i==null){return this.option}return uk(this.option,this.parsePath(i),!e&&zB(this,i))},getShallow:function(k,e){var m=this.option;var v=m==null?m:m[k];var i=!e&&zB(this,k);if(v==null&&i){v=i.getShallow(k)}return v},getModel:function(m,e){var k=m==null?this.option:uk(this.option,m=this.parsePath(m));var i;e=e||((i=zB(this,m))&&i.getModel(m));return new fg(k,e,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var e=this.constructor;return new e(B8(this.option))},setReadOnly:function(e){},parsePath:function(e){if(typeof e==="string"){e=e.split(".")}return e},customizeGetParent:function(e){p6(this).getParent=e},isAnimationEnabled:function(){if(!r6.node){if(this.option.animation!=null){return !!this.option.animation}else{if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}}};function uk(v,m,e){for(var k=0;k<m.length;k++){if(!m[k]){continue}v=(v&&typeof v==="object")?v[m[k]]:null;if(v==null){break}}if(v==null&&e){v=e.get(m)}return v}function zB(i,k){var e=p6(i).getParent;return e?e.call(i,k):i.parentModel}zN(fg);ze(fg);db(fg,c7);db(fg,fJ);db(fg,J);db(fg,GA);var z1=0;function lG(e){return[(e||""),z1++,Math.random().toFixed(5)].join("_")}function x2(e){var i={};e.registerSubTypeDefaulter=function(m,k){m=oA(m);i[m.main]=k};e.determineSubType=function(k,v){var m=v.type;if(!m){var Z=oA(k).main;if(e.hasSubTypes(k)&&i[Z]){m=i[Z](v)}}return m};return e}function Dn(m,k){m.topologicalTravel=function(G5,Z,G8,v1){if(!G5.length){return}var Hb=i(Z);var G9=Hb.graph;var G6=Hb.noEntryList;var G4={};ow(G5,function(Hc){G4[Hc]=true});while(G6.length){var Ha=G6.pop();var v2=G9[Ha];var v3=!!G4[Ha];if(v3){G8.call(v1,Ha,v2.originalDeps.slice());delete G4[Ha]}ow(v2.successor,v3?G7:cc)}ow(G4,function(){throw new Error("Circle dependency may exists")});function cc(Hc){G9[Hc].entryCount--;if(G9[Hc].entryCount===0){G6.push(Hc)}}function G7(Hc){G4[Hc]=true;cc(Hc)}};function i(v1){var cc={};var Z=[];ow(v1,function(v2){var v3=e(cc,v2);var G5=v3.originalDeps=k(v2);var G4=v(G5,v1);v3.entryCount=G4.length;if(v3.entryCount===0){Z.push(v2)}ow(G4,function(G6){if(eB(v3.predecessor,G6)<0){v3.predecessor.push(G6)}var G7=e(cc,G6);if(eB(G7.successor,G6)<0){G7.successor.push(v2)}})});return{graph:cc,noEntryList:Z}}function e(cc,Z){if(!cc[Z]){cc[Z]={predecessor:[],successor:[]}}return cc[Z]}function v(cc,v1){var Z=[];ow(cc,function(v2){eB(v1,v2)>=0&&Z.push(v2)});return Z}}var Ex=0.0001;function gW(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function DM(Z,m,i,v){var k=m[1]-m[0];var e=i[1]-i[0];if(k===0){return e===0?i[0]:(i[0]+i[1])/2}if(v){if(k>0){if(Z<=m[0]){return i[0]}else{if(Z>=m[1]){return i[1]}}}else{if(Z>=m[0]){return i[0]}else{if(Z<=m[1]){return i[1]}}}}else{if(Z===m[0]){return i[0]}if(Z===m[1]){return i[1]}}return(Z-m[0])/k*e+i[0]}function yW(i,e){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}if(typeof i==="string"){if(gW(i).match(/%$/)){return parseFloat(i)/100*e}return parseFloat(i)}return i==null?NaN:+i}function EE(e,i,k){if(i==null){i=10}i=Math.min(Math.max(0,i),20);e=(+e).toFixed(i);return k?e:+e}function ou(e){e.sort(function(k,i){return k-i});return e}function n9(m){m=+m;if(isNaN(m)){return 0}var k=1;var i=0;while(Math.round(m*k)/k!==m){k*=10;i++}return i}function tf(v){var m=v.toString();var k=m.indexOf("e");if(k>0){var e=+m.slice(k+1);return e<0?-e:0}else{var i=m.indexOf(".");return i<0?0:m.length-1-i}}function xl(Z,cc){var v=Math.log;var k=Math.LN10;var i=Math.floor(v(Z[1]-Z[0])/k);var m=Math.round(v(Math.abs(cc[1]-cc[0]))/k);var e=Math.min(Math.max(-i+m,0),20);return !isFinite(e)?20:e}function au(k,G6,cc){if(!k[G6]){return 0}var v3=wm(k,function(i,G9){return i+(isNaN(G9)?0:G9)},0);if(v3===0){return 0}var e=Math.pow(10,cc);var G5=De(k,function(i){return(isNaN(i)?0:i)/v3*e*100});var G8=e*100;var m=De(G5,function(i){return Math.floor(i)});var Z=wm(m,function(i,G9){return i+G9},0);var G7=De(G5,function(G9,i){return G9-m[i]});while(Z<G8){var G4=Number.NEGATIVE_INFINITY;var v2=null;for(var v=0,v1=G7.length;v<v1;++v){if(G7[v]>G4){G4=G7[v];v2=v}}++m[v2];G7[v2]=0;++Z}return m[G6]/e}var x7=9007199254740991;function qH(i){var e=Math.PI*2;return(i%e+e)%e}function tY(e){return e>-Ex&&e<Ex}var o3=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function u2(k){if(k instanceof Date){return k}else{if(typeof k==="string"){var i=o3.exec(k);if(!i){return new Date(NaN)}if(!i[8]){return new Date(+i[1],+(i[2]||1)-1,+i[3]||1,+i[4]||0,+(i[5]||0),+i[6]||0,+i[7]||0)}else{var e=+i[4]||0;if(i[8].toUpperCase()!=="Z"){e-=i[8].slice(0,3)}return new Date(Date.UTC(+i[1],+(i[2]||1)-1,+i[3]||1,e,+(i[5]||0),+i[6]||0,+i[7]||0))}}else{if(k==null){return new Date(NaN)}}}return new Date(Math.round(k))}function rb(e){return Math.pow(10,gR(e))}function gR(e){return Math.floor(Math.log(e)/Math.LN10)}function X(Z,i){var v=gR(Z);var e=Math.pow(10,v);var m=Z/e;var k;if(i){if(m<1.5){k=1}else{if(m<2.5){k=2}else{if(m<4){k=3}else{if(m<7){k=5}else{k=10}}}}}else{if(m<1){k=1}else{if(m<2){k=2}else{if(m<3){k=3}else{if(m<5){k=5}else{k=10}}}}}Z=k*e;return v>=-20?+Z.toFixed(v<0?-v:0):Z}function V(cc){cc.sort(function(v3,i){return Z(v3,i,0)?-1:1});var v1=-Infinity;var v=1;for(var m=0;m<cc.length;){var k=cc[m].interval;var v2=cc[m].close;for(var e=0;e<2;e++){if(k[e]<=v1){k[e]=v1;v2[e]=!e?1-v:1}v1=k[e];v=v2[e]}if(k[0]===k[1]&&v2[0]*v2[1]!==1){cc.splice(m,1)}else{m++}}return cc;function Z(v3,i,G4){return v3.interval[G4]<i.interval[G4]||(v3.interval[G4]===i.interval[G4]&&((v3.close[G4]-i.close[G4]===(!G4?1:-1))||(!G4&&Z(v3,i,1))))}}function lc(e){return e-parseFloat(e)>=0}var mJ=(Object.freeze||Object)({linearMap:DM,parsePercent:yW,round:EE,asc:ou,getPrecision:n9,getPrecisionSafe:tf,getPixelPrecision:xl,getPercentWithPrecision:au,MAX_SAFE_INTEGER:x7,remRadian:qH,isRadianAroundZero:tY,parseDate:u2,quantity:rb,nice:X,reformIntervals:V,isNumeric:lc});function jK(e){if(isNaN(e)){return"-"}e=(e+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?("."+e[1]):"")}function qq(e,i){e=(e||"").toLowerCase().replace(/-(.)/g,function(m,k){return k.toUpperCase()});if(i&&e){e=e.charAt(0).toUpperCase()+e.slice(1)}return e}var An=Cw;function l3(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var hl=["a","b","c","d","e","f","g"];var l=function(i,e){return"{"+i+(e==null?"":e)+"}"};function en(v3,G4,v2){if(!Fw(G4)){G4=[G4]}var v=G4.length;if(!v){return""}var v1=G4[0].$vars||[];for(var Z=0;Z<v1.length;Z++){var cc=hl[Z];v3=v3.replace(l(cc),l(cc,0))}for(var G5=0;G5<v;G5++){for(var m=0;m<v1.length;m++){var e=G4[G5][v1[m]];v3=v3.replace(l(hl[m],G5),v2?l3(e):e)}}return v3}function Ep(e,k,i){ow(k,function(v,m){e=e.replace("{"+m+"}",i?l3(v):v)});return e}function yD(i,m){i=vi(i)?{color:i,extraCssText:m}:(i||{});var e=i.color;var k=i.type;var m=i.extraCssText;if(!e){return""}return k==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+l3(e)+";"+(m||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+l3(e)+";"+(m||"")+'"></span>'}function E7(i,e){i+="";return"0000".substr(0,e-i.length)+i}function mp(cc,G5,e){if(cc==="week"||cc==="month"||cc==="quarter"||cc==="half-year"||cc==="year"){cc="MM-dd\nyyyy"}var k=u2(G5);var G4=e?"UTC":"";var v3=k["get"+G4+"FullYear"]();var v1=k["get"+G4+"Month"]()+1;var v2=k["get"+G4+"Date"]();var Z=k["get"+G4+"Hours"]();var i=k["get"+G4+"Minutes"]();var G6=k["get"+G4+"Seconds"]();var v=k["get"+G4+"Milliseconds"]();cc=cc.replace("MM",E7(v1,2)).replace("M",v1).replace("yyyy",v3).replace("yy",v3%100).replace("dd",E7(v2,2)).replace("d",v2).replace("hh",E7(Z,2)).replace("h",Z).replace("mm",E7(i,2)).replace("m",i).replace("ss",E7(G6,2)).replace("s",G6).replace("SSS",E7(v,3));return cc}function sr(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}var gY=aX;var ut=Fg;var fC=(Object.freeze||Object)({addCommas:jK,toCamelCase:qq,normalizeCssArray:An,encodeHTML:l3,formatTpl:en,formatTplSimple:Ep,getTooltipMarker:yD,formatTime:mp,capitalFirst:sr,truncateText:gY,getTextRect:ut});var ot=ow;var qD=["left","right","top","bottom","width","height"];var kC=[["width","left","right"],["height","top","bottom"]];function L(k,Z,v1,v,m){var e=0;var cc=0;if(v==null){v=Infinity}if(m==null){m=Infinity}var i=0;Z.eachChild(function(G4,G9){var G7=G4.position;var G8=G4.getBoundingRect();var v3=Z.childAt(G9+1);var v2=v3&&v3.getBoundingRect();var Hb;var Ha;if(k==="horizontal"){var G6=G8.width+(v2?(-v2.x+G8.x):0);Hb=e+G6;if(Hb>v||G4.newline){e=0;Hb=G6;cc+=i+v1;i=G8.height}else{i=Math.max(i,G8.height)}}else{var G5=G8.height+(v2?(-v2.y+G8.y):0);Ha=cc+G5;if(Ha>m||G4.newline){e+=i+v1;cc=0;Ha=G5;i=G8.width}else{i=Math.max(i,G8.width)}}if(G4.newline){return}G7[0]=e;G7[1]=cc;k==="horizontal"?(e=Hb+v1):(cc=Ha+v1)})}var e4=L;var pu=rH(L,"vertical");var i6=rH(L,"horizontal");function l7(e,cc,k){var Z=cc.width;var v2=cc.height;var v1=yW(e.x,Z);var v=yW(e.y,v2);var i=yW(e.x2,Z);var m=yW(e.y2,v2);(isNaN(v1)||isNaN(parseFloat(e.x)))&&(v1=0);(isNaN(i)||isNaN(parseFloat(e.x2)))&&(i=Z);(isNaN(v)||isNaN(parseFloat(e.y)))&&(v=0);(isNaN(m)||isNaN(parseFloat(e.y2)))&&(m=v2);k=An(k||0);return{width:Math.max(i-v1-k[1]-k[3],0),height:Math.max(m-v-k[0]-k[2],0)}}function kx(k,G4,Z){Z=An(Z||0);var v3=G4.width;var G8=G4.height;var v=yW(k.left,v3);var v2=yW(k.top,G8);var G5=yW(k.right,v3);var i=yW(k.bottom,G8);var m=yW(k.width,v3);var G6=yW(k.height,G8);var G7=Z[2]+Z[0];var cc=Z[1]+Z[3];var e=k.aspect;if(isNaN(m)){m=v3-G5-cc-v}if(isNaN(G6)){G6=G8-i-G7-v2}if(e!=null){if(isNaN(m)&&isNaN(G6)){if(e>v3/G8){m=v3*0.8}else{G6=G8*0.8}}if(isNaN(m)){m=e*G6}if(isNaN(G6)){G6=m/e}}if(isNaN(v)){v=v3-G5-m-cc}if(isNaN(v2)){v2=G8-i-G6-G7}switch(k.left||k.right){case"center":v=v3/2-m/2-Z[3];break;case"right":v=v3-m-cc;break}switch(k.top||k.bottom){case"middle":case"center":v2=G8/2-G6/2-Z[0];break;case"bottom":v2=G8-G6-G7;break}v=v||0;v2=v2||0;if(isNaN(m)){m=v3-cc-v-(G5||0)}if(isNaN(G6)){G6=G8-G7-v2-(i||0)}var v1=new BM(v+Z[3],v2+Z[0],m,G6);v1.margin=Z;return v1}function zF(k,e,v2,Z,i){var cc=!i||!i.hv||i.hv[0];var G4=!i||!i.hv||i.hv[1];var G6=i&&i.boundingMode||"all";if(!cc&&!G4){return}var v1;if(G6==="raw"){v1=k.type==="group"?new BM(0,0,+e.width||0,+e.height||0):k.getBoundingRect()}else{v1=k.getBoundingRect();if(k.needLocalTransform()){var m=k.getLocalTransform();v1=v1.clone();v1.applyTransform(m)}}e=kx(Ch({width:v1.width,height:v1.height},e),v2,Z);var v3=k.position;var G7=cc?e.x-v1.x:0;var G5=G4?e.y-v1.y:0;k.attr("position",G6==="raw"?[G7,G5]:[v3[0]+G7,v3[1]+G5])}function ms(i,e){return i[kC[e][0]]!=null||(i[kC[e][1]]!=null&&i[kC[e][2]]!=null)}function g0(i,v,m){!sU(m)&&(m={});var v1=m.ignoreSize;!Fw(v1)&&(v1=[v1,v1]);var cc=v3(kC[0],0);var k=v3(kC[1],1);e(kC[0],i,cc);e(kC[1],i,k);function v3(Ha,G4){var G8={};var G9=0;var Hb={};var G6=0;var Hc=2;ot(Ha,function(Hd){Hb[Hd]=i[Hd]});ot(Ha,function(Hd){Z(v,Hd)&&(G8[Hd]=Hb[Hd]=v[Hd]);v2(G8,Hd)&&G9++;v2(Hb,Hd)&&G6++});if(v1[G4]){if(v2(v,Ha[1])){Hb[Ha[2]]=null}else{if(v2(v,Ha[2])){Hb[Ha[1]]=null}}return Hb}if(G6===Hc||!G9){return Hb}else{if(G9>=Hc){return G8}else{for(var G7=0;G7<Ha.length;G7++){var G5=Ha[G7];if(!Z(G8,G5)&&Z(i,G5)){G8[G5]=i[G5];break}}return G8}}}function Z(G5,G4){return G5.hasOwnProperty(G4)}function v2(G5,G4){return G5[G4]!=null&&G5[G4]!=="auto"}function e(G6,G5,G4){ot(G6,function(G7){G5[G7]=G4[G7]})}}function gO(e){return EB({},e)}function EB(i,e){e&&i&&ot(qD,function(k){e.hasOwnProperty(k)&&(i[k]=e[k])});return i}var lQ={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};var hG=fw();var aI=fg.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(k,i,e,m){fg.call(this,k,i,e,m);this.uid=lG("ec_cpt_model")},init:function(k,i,e,m){this.mergeDefaultAndTheme(k,e)},mergeDefaultAndTheme:function(i,e){var m=this.layoutMode;var v=m?gO(i):{};var k=e.getTheme();vb(i,k.get(this.mainType));vb(i,this.getDefaultOption());if(m){g0(i,v,m)}},mergeOption:function(e,k){vb(this.option,e,true);var i=this.layoutMode;if(i){g0(this.option,e,i)}},optionUpdated:function(e,i){},getDefaultOption:function(){var e=hG(this);if(!e.defaultOption){var v=[];var m=this.constructor;while(m){var cc=m.prototype.defaultOption;cc&&v.push(cc);m=m.superClass}var k={};for(var Z=v.length-1;Z>=0;Z--){k=vb(k,v[Z],true)}e.defaultOption=k}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",true),id:this.get(e+"Id",true)})}});xw(aI,{registerWhenExtend:true});x2(aI);Dn(aI,gE);function gE(e){var i=[];ow(aI.getClassesByMainType(e),function(k){i=i.concat(k.prototype.dependencies||[])});i=De(i,function(k){return oA(k).main});if(e!=="dataset"&&eB(i,"dataset")<=0){i.unshift("dataset")}return i}Ff(aI,lQ);var sJ="";if(typeof navigator!=="undefined"){sJ=navigator.platform||""}var Fn={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:sJ.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:false};var hF=fw();function cP(k,e){var v=k.length;for(var m=0;m<v;m++){if(k[m].length>e){return k[m]}}return k[v-1]}var x8={clearColorPalette:function(){hF(this).colorIdx=0;hF(this).colorNameMap={}},getColorFromPalette:function(e,v2,m){v2=v2||this;var cc=hF(v2);var v3=cc.colorIdx||0;var v=cc.colorNameMap=cc.colorNameMap||{};if(v.hasOwnProperty(e)){return v[e]}var Z=lW(this.get("color",true));var v1=this.get("colorLayer",true);var k=((m==null||!v1)?Z:cP(v1,m));k=k||Z;if(!k||!k.length){return}var i=k[v3];if(e){v[e]=i}cc.colorIdx=(v3+1)%k.length;return i}};function ru(i){var m=i.get("coordinateSystem");var e={coordSysName:m,coordSysDims:[],axisMap:BN(),categoryAxisMap:BN()};var k=Bt[m];if(k){k(i,e,e.axisMap,e.categoryAxisMap);return e}}var Bt={cartesian2d:function(i,e,v,Z){var k=i.getReferringComponents("xAxis")[0];var m=i.getReferringComponents("yAxis")[0];if(nK){if(!k){throw new Error('xAxis "'+gg(i.get("xAxisIndex"),i.get("xAxisId"),0)+'" not found')}if(!m){throw new Error('yAxis "'+gg(i.get("xAxisIndex"),i.get("yAxisId"),0)+'" not found')}}e.coordSysDims=["x","y"];v.set("x",k);v.set("y",m);if(bT(k)){Z.set("x",k);e.firstCategoryDimIndex=0}if(bT(m)){Z.set("y",m);e.firstCategoryDimIndex=1}},singleAxis:function(i,e,m,v){var k=i.getReferringComponents("singleAxis")[0];if(nK){if(!k){throw new Error("singleAxis should be specified.")}}e.coordSysDims=["single"];m.set("single",k);if(bT(k)){v.set("single",k);e.firstCategoryDimIndex=0}},polar:function(i,e,Z,cc){var m=i.getReferringComponents("polar")[0];var v=m.findAxisModel("radiusAxis");var k=m.findAxisModel("angleAxis");if(nK){if(!k){throw new Error("angleAxis option not found")}if(!v){throw new Error("radiusAxis option not found")}}e.coordSysDims=["radius","angle"];Z.set("radius",v);Z.set("angle",k);if(bT(v)){cc.set("radius",v);e.firstCategoryDimIndex=0}if(bT(k)){cc.set("angle",k);e.firstCategoryDimIndex=1}},geo:function(i,e,k,m){e.coordSysDims=["lng","lat"]},parallel:function(k,i,Z,cc){var e=k.ecModel;var v=e.getComponent("parallel",k.get("parallelIndex"));var m=i.coordSysDims=v.dimensions.slice();ow(v.parallelAxisIndex,function(v3,v1){var v2=e.getComponent("parallelAxis",v3);var G4=m[v1];Z.set(G4,v2);if(bT(v2)&&i.firstCategoryDimIndex==null){cc.set(G4,v2);i.firstCategoryDimIndex=v1}})}};function bT(e){return e.get("type")==="category"}var fp="original";var hL="arrayRows";var y8="objectRows";var F0="keyedColumns";var gS="unknown";var vx="typedArray";var kG="column";var bj="row";function pE(e){this.fromDataset=e.fromDataset;this.data=e.data||(e.sourceFormat===F0?{}:[]);this.sourceFormat=e.sourceFormat||gS;this.seriesLayoutBy=e.seriesLayoutBy||kG;this.dimensionsDefine=e.dimensionsDefine;this.encodeDefine=e.encodeDefine&&BN(e.encodeDefine);this.startIndex=e.startIndex||0;this.dimensionsDetectCount=e.dimensionsDetectCount}pE.seriesDataToSource=function(e){return new pE({data:e,sourceFormat:GG(e)?vx:fp,fromDataset:false})};ze(pE);var hD=fw();function wz(v1){var cc=v1.option.source;var v=gS;if(GG(cc)){v=vx}else{if(Fw(cc)){for(var m=0,e=cc.length;m<e;m++){var Z=cc[m];if(Z==null){continue}else{if(Fw(Z)){v=hL;break}else{if(sU(Z)){v=y8;break}}}}}else{if(sU(cc)){for(var k in cc){if(cc.hasOwnProperty(k)&&r0(cc[k])){v=F0;break}}}else{if(cc!=null){throw new Error("Invalid data")}}}}hD(v1).sourceFormat=v}function j6(e){return hD(e).source}function gU(e){hD(e).datasetMap=BN()}function ks(m){var cc=m.option;var v=cc.data;var e=GG(v)?vx:fp;var Z=false;var i=cc.seriesLayoutBy;var v2=cc.sourceHeader;var k=cc.dimensions;var G4=op(m);if(G4){var v3=G4.option;v=v3.source;e=hD(G4).sourceFormat;Z=true;i=i||v3.seriesLayoutBy;v2==null&&(v2=v3.sourceHeader);k=k||v3.dimensions}var G5=z7(v,e,i,v2,k);var v1=cc.encode;if(!v1&&G4){v1=F8(m,G4,v,e,i,G5)}hD(m).source=new pE({data:v,fromDataset:Z,seriesLayoutBy:i,sourceFormat:e,dimensionsDefine:G5.dimensionsDefine,startIndex:G5.startIndex,dimensionsDetectCount:G5.dimensionsDetectCount,encodeDefine:v1})}function z7(v,e,k,v2,m){if(!v){return{dimensionsDefine:C9(m)}}var Z;var v3;var i;if(e===hL){if(v2==="auto"||v2==null){CY(function(G4){if(G4!=null&&G4!=="-"){if(vi(G4)){v3==null&&(v3=1)}else{v3=0}}},k,v,10)}else{v3=v2?1:0}if(!m&&v3===1){m=[];CY(function(G5,G4){m[G4]=G5!=null?G5:""},k,v)}Z=m?m.length:k===bj?v.length:v[0]?v[0].length:null}else{if(e===y8){if(!m){m=zw(v);i=true}}else{if(e===F0){if(!m){m=[];i=true;ow(v,function(G5,G4){m.push(G4)})}}else{if(e===fp){var v1=w7(v[0]);Z=Fw(v1)&&v1.length||1}else{if(e===vx){if(nK){bK(!!m,"dimensions must be given if data is TypedArray.")}}}}}}var cc;if(i){ow(m,function(G5,G4){if((sU(G5)?G5.name:G5)==="name"){cc=G4}})}return{startIndex:v3,dimensionsDefine:C9(m),dimensionsDetectCount:Z,potentialNameDimIndex:cc}}function C9(e){if(!e){return}var i=BN();return De(e,function(v,k){v=bY({},sU(v)?v:{name:v});if(v.name==null){return v}v.name+="";if(v.displayName==null){v.displayName=v.name}var m=i.get(v.name);if(!m){i.set(v.name,{count:1})}else{v.name+="-"+m.count++}return v})}function CY(e,v,cc,Z){Z==null&&(Z=Infinity);if(v===bj){for(var m=0;m<cc.length&&m<Z;m++){e(cc[m]?cc[m][0]:null,m)}}else{var k=cc[0]||[];for(var m=0;m<k.length&&m<Z;m++){e(k[m],m)}}}function zw(k){var e=0;var m;while(e<k.length&&!(m=k[e++])){}if(m){var i=[];ow(m,function(Z,v){i.push(v)});return i}}function F8(G7,G6,Hc,v3,v,G5){var cc=ru(G7);var v1={};var v2=[];var Z=[];var e=G7.subType;var m=BN(["pie","map","funnel"]);var k=BN(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(cc&&k.get(e)!=null){var He=G7.ecModel;var G8=hD(He).datasetMap;var Hd=G6.uid+"_"+v;var G9=G8.get(Hd)||G8.set(Hd,{categoryWayDim:1,valueWayDim:0});ow(cc.coordSysDims,function(Hf){if(cc.firstCategoryDimIndex==null){var i=G9.valueWayDim++;v1[Hf]=i;Z.push(i)}else{if(cc.categoryAxisMap.get(Hf)){v1[Hf]=0;v2.push(0)}else{var i=G9.categoryWayDim++;v1[Hf]=i;Z.push(i)}}})}else{if(m.get(e)!=null){var G4;for(var Ha=0;Ha<5&&G4==null;Ha++){if(!r8(Hc,v3,v,G5.dimensionsDefine,G5.startIndex,Ha)){G4=Ha}}if(G4!=null){v1.value=G4;var Hb=G5.potentialNameDimIndex||Math.max(G4-1,0);Z.push(Hb);v2.push(Hb)}}}v2.length&&(v1.itemName=v2);Z.length&&(v1.seriesName=Z);return v1}function op(e){var k=e.option;var i=k.data;if(!i){return e.ecModel.getComponent("dataset",k.datasetIndex||0)}}function uI(e,i){return r8(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,i)}function r8(v3,e,v,Z,G5,G6){var G9;var cc=5;if(GG(v3)){return false}var v1;if(Z){v1=Z[G6];v1=sU(v1)?v1.name:v1}if(e===hL){if(v===bj){var G4=v3[G6];for(var v2=0;v2<(G4||[]).length&&v2<cc;v2++){if((G9=k(G4[G5+v2]))!=null){return G9}}}else{for(var v2=0;v2<v3.length&&v2<cc;v2++){var G8=v3[G5+v2];if(G8&&(G9=k(G8[G6]))!=null){return G9}}}}else{if(e===y8){if(!v1){return}for(var v2=0;v2<v3.length&&v2<cc;v2++){var G7=v3[v2];if(G7&&(G9=k(G7[v1]))!=null){return G9}}}else{if(e===F0){if(!v1){return}var G4=v3[v1];if(!G4||GG(G4)){return false}for(var v2=0;v2<G4.length&&v2<cc;v2++){if((G9=k(G4[v2]))!=null){return G9}}}else{if(e===fp){for(var v2=0;v2<v3.length&&v2<cc;v2++){var G7=v3[v2];var m=w7(G7);if(!Fw(m)){return false}if((G9=k(m[G6]))!=null){return G9}}}}}}function k(i){if(i!=null&&isFinite(i)&&i!==""){return false}else{if(vi(i)&&i!=="-"){return true}}}return false}var CU="\0_ec_inner";var ci=fg.extend({constructor:ci,init:function(k,i,m,e){m=m||{};this.option=null;this._theme=new fg(m);this._optionManager=e},setOption:function(e,i){bK(!(CU in e),"please use chart.getOption()");this._optionManager.setOption(e,i);this.resetOption(null)},resetOption:function(k){var v=false;var i=this._optionManager;if(!k||k==="recreate"){var m=i.mountOption(k==="recreate");if(!this.option||k==="recreate"){ih.call(this,m)}else{this.restoreData();this.mergeOption(m)}v=true}if(k==="timeline"||k==="media"){this.restoreData()}if(!k||k==="recreate"||k==="timeline"){var Z=i.getTimelineOption(this);Z&&(this.mergeOption(Z),v=true)}if(!k||k==="recreate"||k==="media"){var e=i.getMediaOption(this,this._api);if(e.length){ow(e,function(cc){this.mergeOption(cc,v=true)},this)}}return v},mergeOption:function(m){var k=this.option;var e=this._componentsMap;var i=[];gU(this);ow(m,function(Z,cc){if(Z==null){return}if(!aI.hasClass(cc)){k[cc]=k[cc]==null?B8(Z):vb(k[cc],Z,true)}else{if(cc){i.push(cc)}}});aI.topologicalTravel(i,aI.getAllClassMainTypes(),v,this);function v(v3,v2){var Z=lW(m[v3]);var v1=c2(e.get(v3),Z);zb(v1);ow(v1,function(G6,G4){var G5=G6.option;if(sU(G5)){G6.keyInfo.mainType=v3;G6.keyInfo.subType=eT(v3,G5,G6.exist)}});var cc=ys(e,v2);k[v3]=[];e.set(v3,[]);ow(v1,function(G5,G6){var G4=G5.exist;var G7=G5.option;bK(sU(G7)||G4,"Empty component definition");if(!G7){G4.mergeOption({},this);G4.optionUpdated({},false)}else{var G8=aI.getClass(v3,G5.keyInfo.subType,true);if(G4&&G4 instanceof G8){G4.name=G5.keyInfo.name;G4.mergeOption(G7,this);G4.optionUpdated(G7,false)}else{var G9=bY({dependentModels:cc,componentIndex:G6},G5.keyInfo);G4=new G8(G7,this,this,G9);bY(G4,G9);G4.init(G7,this,this,G9);G4.optionUpdated(null,true)}}e.get(v3)[G6]=G4;k[v3][G6]=G4.option},this);if(v3==="series"){C0(this,e.get("series"))}}this._seriesIndicesMap=BN(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=B8(this.option);ow(e,function(m,v){if(aI.hasClass(v)){var m=lW(m);for(var k=m.length-1;k>=0;k--){if(Gq(m[k])){m.splice(k,1)}}e[v]=m}});delete e[CU];return e},getTheme:function(){return this._theme},getComponent:function(k,e){var i=this._componentsMap.get(k);if(i){return i[e||0]}},queryComponents:function(m){var cc=m.mainType;if(!cc){return[]}var Z=m.index;var i=m.id;var e=m.name;var k=this._componentsMap.get(cc);if(!k||!k.length){return[]}var v2;if(Z!=null){if(!Fw(Z)){Z=[Z]}v2=qi(De(Z,function(v3){return k[v3]}),function(v3){return !!v3})}else{if(i!=null){var v=Fw(i);v2=qi(k,function(v3){return(v&&eB(i,v3.id)>=0)||(!v&&v3.id===i)})}else{if(e!=null){var v1=Fw(e);v2=qi(k,function(v3){return(v1&&eB(e,v3.name)>=0)||(!v1&&v3.name===e)})}else{v2=k.slice()}}}return nc(v2,m)},findComponents:function(cc){var m=cc.query;var Z=cc.mainType;var i=v(m);var e=i?this.queryComponents(i):this._componentsMap.get(Z);return k(nc(e,cc));function v(v3){var v2=Z+"Index";var G4=Z+"Id";var v1=Z+"Name";return v3&&(v3[v2]!=null||v3[G4]!=null||v3[v1]!=null)?{mainType:Z,index:v3[v2],id:v3[G4],name:v3[v1]}:null}function k(v1){return cc.filter?qi(v1,cc.filter):v1}},eachComponent:function(v,e,k){var i=this._componentsMap;if(typeof v==="function"){k=e;e=v;i.each(function(cc,Z){ow(cc,function(v2,v1){e.call(k,Z,v2,v1)})})}else{if(vi(v)){ow(i.get(v),e,k)}else{if(sU(v)){var m=this.findComponents(v);ow(m,e,k)}}}},getSeriesByName:function(e){var i=this._componentsMap.get("series");return qi(i,function(k){return k.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(i){var e=this._componentsMap.get("series");return qi(e,function(k){return k.subType===i})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,i){kv(this);ow(this._seriesIndices,function(m){var k=this._componentsMap.get("series")[m];e.call(i,k,m)},this)},eachRawSeries:function(e,i){ow(this._componentsMap.get("series"),e,i)},eachSeriesByType:function(k,e,i){kv(this);ow(this._seriesIndices,function(v){var m=this._componentsMap.get("series")[v];if(m.subType===k){e.call(i,m,v)}},this)},eachRawSeriesByType:function(k,e,i){return ow(this.getSeriesByType(k),e,i)},isSeriesFiltered:function(e){kv(this);return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,k){kv(this);var i=qi(this._componentsMap.get("series"),e,k);C0(this,i)},restoreData:function(k){var i=this._componentsMap;C0(this,i.get("series"));var e=[];i.each(function(v,m){e.push(m)});aI.topologicalTravel(e,aI.getAllClassMainTypes(),function(m,v){ow(i.get(m),function(Z){(m!=="series"||!nC(Z,k))&&Z.restoreData()})})}});function nC(e,m){if(m){var k=m.seiresIndex;var v=m.seriesId;var i=m.seriesName;return(k!=null&&e.componentIndex!==k)||(v!=null&&e.id!==v)||(i!=null&&e.name!==i)}}function nT(e,k){var i=e.color&&!e.colorLayer;ow(k,function(v,m){if(m==="colorLayer"&&i){return}if(!aI.hasClass(m)){if(typeof v==="object"){e[m]=!e[m]?B8(v):vb(e[m],v,false)}else{if(e[m]==null){e[m]=v}}}})}function ih(e){e=e;this.option={};this.option[CU]=1;this._componentsMap=BN({series:[]});this._seriesIndices;this._seriesIndicesMap;nT(e,this._theme.option);vb(e,Fn,false);this.mergeOption(e)}function ys(e,k){if(!Fw(k)){k=k?[k]:[]}var i={};ow(k,function(m){i[m]=(e.get(m)||[]).slice()});return i}function eT(m,i,e){var k=i.type?i.type:e?e.subType:aI.determineSubType(m,i);return k}function C0(e,i){e._seriesIndicesMap=BN(e._seriesIndices=De(i,function(k){return k.componentIndex})||[])}function nc(e,i){return i.hasOwnProperty("subType")?qi(e,function(k){return k.subType===i.subType}):e}function kv(e){if(nK){if(!e._seriesIndices){throw new Error("Option should contains series.")}}}Ff(ci,x8);var ir=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function lf(e){ow(ir,function(i){this[i]=j0(e[i],e)},this)}var CO={};function fk(){this._coordinateSystems=[]}fk.prototype={constructor:fk,create:function(e,i){var k=[];ow(CO,function(Z,m){var v=Z.create(e,i);k=k.concat(v||[])});this._coordinateSystems=k},update:function(e,i){ow(this._coordinateSystems,function(k){k.update&&k.update(e,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};fk.register=function(i,e){CO[i]=e};fk.get=function(e){return CO[e]};var or=ow;var t0=B8;var zz=De;var kQ=vb;var GC=/^(min|max)?(.+)$/;function lN(e){this._api=e;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}lN.prototype={constructor:lN,setOption:function(i,m){if(i){ow(lW(i.series),function(v){v&&v.data&&GG(v.data)&&y(v.data)})}i=t0(i,true);var e=this._optionBackup;var k=ie.call(this,i,m,!e);this._newBaseOption=k.baseOption;if(e){CR(e.baseOption,k.baseOption);if(k.timelineOptions.length){e.timelineOptions=k.timelineOptions}if(k.mediaList.length){e.mediaList=k.mediaList}if(k.mediaDefault){e.mediaDefault=k.mediaDefault}}else{this._optionBackup=k}},mountOption:function(i){var e=this._optionBackup;this._timelineOptions=zz(e.timelineOptions,t0);this._mediaList=zz(e.mediaList,t0);this._mediaDefault=t0(e.mediaDefault);this._currentMediaIndices=[];return t0(i?e.baseOption:this._newBaseOption)},getTimelineOption:function(e){var k;var i=this._timelineOptions;if(i.length){var m=e.getComponent("timeline");if(m){k=t0(i[m.getCurrentIndex()],true)}}return k},getMediaOption:function(v){var e=this._api.getWidth();var m=this._api.getHeight();var v1=this._mediaList;var cc=this._mediaDefault;var v2=[];var v3=[];if(!v1.length&&!cc){return v3}for(var k=0,Z=v1.length;k<Z;k++){if(eq(v1[k].query,e,m)){v2.push(k)}}if(!v2.length&&cc){v2=[-1]}if(v2.length&&!la(v2,this._currentMediaIndices)){v3=zz(v2,function(i){return t0(i===-1?cc.option:v1[i].option)})}this._currentMediaIndices=v2;return v3}};function ie(i,k,m){var Z=[];var v1=[];var v;var v2;var cc=i.timeline;if(i.baseOption){v2=i.baseOption}if(cc||i.options){v2=v2||{};Z=(i.options||[]).slice()}if(i.media){v2=v2||{};var e=i.media;or(e,function(v3){if(v3&&v3.option){if(v3.query){v1.push(v3)}else{if(!v){v=v3}}}})}if(!v2){v2=i}if(!v2.timeline){v2.timeline=cc}or([v2].concat(Z).concat(De(v1,function(v3){return v3.option})),function(v3){or(k,function(G4){G4(v3,m)})});return{baseOption:v2,timelineOptions:Z,mediaDefault:v,mediaList:v1}}function eq(m,i,v){var e={width:i,height:v,aspectratio:i/v};var k=true;ow(m,function(v3,v1){var cc=v1.match(GC);if(!cc||!cc[1]||!cc[2]){return}var v2=cc[1];var Z=cc[2].toLowerCase();if(!B9(e[Z],v3,v2)){k=false}});return k}function B9(k,i,e){if(e==="min"){return k>=i}else{if(e==="max"){return k<=i}else{return k===i}}}function la(i,e){return i.join(",")===e.join(",")}function CR(e,i){i=i||{};or(i,function(v,Z){if(v==null){return}var m=e[Z];if(!aI.hasClass(Z)){e[Z]=kQ(m,v,true)}else{v=lW(v);m=lW(m);var k=c2(m,v);e[Z]=zz(k,function(cc){return(cc.option&&cc.exist)?kQ(cc.exist,cc.option,true):(cc.exist||cc.option)})}})}var oq=ow;var sS=sU;var l0=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function kI(Z){var cc=Z&&Z.itemStyle;if(!cc){return}for(var v=0,e=l0.length;v<e;v++){var m=l0[v];var v1=cc.normal;var k=cc.emphasis;if(v1&&v1[m]){Z[m]=Z[m]||{};if(!Z[m].normal){Z[m].normal=v1[m]}else{vb(Z[m].normal,v1[m])}v1[m]=null}if(k&&k[m]){Z[m]=Z[m]||{};if(!Z[m].emphasis){Z[m].emphasis=k[m]}else{vb(Z[m].emphasis,k[m])}k[m]=null}}}function nv(i,e,m){if(i&&i[e]&&(i[e].normal||i[e].emphasis)){var k=i[e].normal;var v=i[e].emphasis;if(k){if(m){i[e].normal=i[e].emphasis=null;Ch(i[e],k)}else{i[e]=k}}if(v){i.emphasis=i.emphasis||{};i.emphasis[e]=v}}}function mK(e){nv(e,"itemStyle");nv(e,"lineStyle");nv(e,"areaStyle");nv(e,"label");nv(e,"labelLine");nv(e,"upperLabel");nv(e,"edgeLabel")}function uB(m,v){var cc=sS(m)&&m[v];var Z=sS(cc)&&cc.textStyle;if(Z){for(var k=0,e=Ap.length;k<e;k++){var v=Ap[k];if(Z.hasOwnProperty(v)){cc[v]=Z[v]}}}}function cv(e){if(e){mK(e);uB(e,"label");e.emphasis&&uB(e.emphasis,"label")}}function Cr(v3){if(!sS(v3)){return}kI(v3);mK(v3);uB(v3,"label");uB(v3,"upperLabel");uB(v3,"edgeLabel");if(v3.emphasis){uB(v3.emphasis,"label");uB(v3.emphasis,"upperLabel");uB(v3.emphasis,"edgeLabel")}var v2=v3.markPoint;if(v2){kI(v2);cv(v2)}var e=v3.markLine;if(e){kI(e);cv(e)}var k=v3.markArea;if(k){cv(k)}var m=v3.data;if(v3.type==="graph"){m=m||v3.nodes;var cc=v3.links||v3.edges;if(cc&&!GG(cc)){for(var v=0;v<cc.length;v++){cv(cc[v])}}ow(v3.categories,function(i){mK(i)})}if(m&&!GG(m)){for(var v=0;v<m.length;v++){cv(m[v])}}var v2=v3.markPoint;if(v2&&v2.data){var Z=v2.data;for(var v=0;v<Z.length;v++){cv(Z[v])}}var e=v3.markLine;if(e&&e.data){var v1=e.data;for(var v=0;v<v1.length;v++){if(Fw(v1[v])){cv(v1[v][0]);cv(v1[v][1])}else{cv(v1[v])}}}if(v3.type==="gauge"){uB(v3,"axisLabel");uB(v3,"title");uB(v3,"detail")}else{if(v3.type==="treemap"){nv(v3.breadcrumb,"itemStyle");ow(v3.levels,function(i){mK(i)})}}}function Az(e){return Fw(e)?e:e?[e]:[]}function sv(e){return(Fw(e)?e[0]:e)||{}}var x3=function(e,k){oq(Az(e.series),function(m){sS(m)&&Cr(m)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];k&&i.push("valueAxis","categoryAxis","logAxis","timeAxis");oq(i,function(m){oq(Az(e[m]),function(v){if(v){uB(v,"axisLabel");uB(v.axisPointer,"label")}})});oq(Az(e.parallel),function(v){var m=v&&v.parallelAxisDefault;uB(m,"axisLabel");uB(m&&m.axisPointer,"label")});oq(Az(e.calendar),function(m){nv(m,"itemStyle");uB(m,"dayLabel");uB(m,"monthLabel");uB(m,"yearLabel")});oq(Az(e.radar),function(m){uB(m,"name")});oq(Az(e.geo),function(m){if(sS(m)){cv(m);oq(Az(m.regions),function(v){cv(v)})}});oq(Az(e.timeline),function(m){cv(m);nv(m,"label");nv(m,"itemStyle");nv(m,"controlStyle",true);var v=m.data;Fw(v)&&ow(v,function(Z){if(sU(Z)){nv(Z,"label");nv(Z,"itemStyle")}})});oq(Az(e.toolbox),function(m){nv(m,"iconStyle");oq(m.feature,function(v){nv(v,"iconStyle")})});uB(sv(e.axisPointer),"label");uB(sv(e.tooltip).axisPointer,"label")};function xy(k,v){v=v.split(",");var m=k;for(var e=0;e<v.length;e++){m=m&&m[v[e]];if(m==null){break}}return m}function lL(v,cc,v1,e){cc=cc.split(",");var Z=v;var m;for(var k=0;k<cc.length-1;k++){m=cc[k];if(Z[m]==null){Z[m]={}}Z=Z[m]}if(e||Z[cc[k]]==null){Z[cc[k]]=v1}}function Aj(e){ow(np,function(i){if(i[0] in e&&!(i[1] in e)){e[i[1]]=e[i[0]]}})}var np=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var za=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var Ge=function(e,i){x3(e,i);e.series=lW(e.series);ow(e.series,function(k){if(!sU(k)){return}var v=k.type;if(v==="pie"||v==="gauge"){if(k.clockWise!=null){k.clockwise=k.clockWise}}if(v==="gauge"){var m=xy(k,"pointer.color");m!=null&&lL(k,"itemStyle.normal.color",m)}Aj(k)});if(e.dataRange){e.visualMap=e.dataRange}ow(za,function(k){var m=e[k];if(m){if(!Fw(m)){m=[m]}ow(m,function(v){Aj(v)})}})};var u9=function(e){var i=BN();e.eachSeries(function(m){var k=m.get("stack");if(k){var v=i.get(k)||i.set(k,[]);var Z=m.getData();var cc={stackResultDimension:Z.getCalculationInfo("stackResultDimension"),stackedOverDimension:Z.getCalculationInfo("stackedOverDimension"),stackedDimension:Z.getCalculationInfo("stackedDimension"),stackedByDimension:Z.getCalculationInfo("stackedByDimension"),isStackedByIndex:Z.getCalculationInfo("isStackedByIndex"),data:Z,seriesModel:m};if(!cc.stackedDimension||!(cc.isStackedByIndex||cc.stackedByDimension)){return}v.length&&Z.setCalculationInfo("stackedOnSeries",v[v.length-1].seriesModel);v.push(cc)}});i.each(pF)};function pF(e){ow(e,function(m,k){var Z=[];var i=[NaN,NaN];var v2=[m.stackResultDimension,m.stackedOverDimension];var v1=m.data;var v=m.isStackedByIndex;var cc=v1.map(v2,function(Hb,Ha,G9){var G8=v1.get(m.stackedDimension,G9);if(isNaN(G8)){return i}var Hc;var G5;if(v){G5=v1.getRawIndex(G9)}else{Hc=v1.get(m.stackedByDimension,G9)}var v3=NaN;for(var G7=k-1;G7>=0;G7--){var G4=e[G7];if(!v){G5=G4.data.rawIndexOf(G4.stackedByDimension,Hc)}if(G5>=0){var G6=G4.data.getByRawIndex(G4.stackResultDimension,G5);if((G8>=0&&G6>0)||(G8<=0&&G6<0)){G8+=G6;v3=G6;break}}}Z[0]=G8;Z[1]=v3;return Z});v1.hostModel.setData(cc);m.data=cc})}function fF(m,v){if(!pE.isInstance(m)){m=pE.seriesDataToSource(m)}this._source=m;var k=this._data=m.data;var i=m.sourceFormat;if(i===vx){if(nK){if(v==null){throw new Error("Typed array data must specify dimension size")}}this._offset=0;this._dimSize=v;this._data=k}var e=oi[i===hL?i+"_"+m.seriesLayoutBy:i];if(nK){bK(e,"Invalide sourceFormat: "+i)}bY(this,e)}var o9=fF.prototype;o9.pure=false;o9.persistent=true;o9.getSource=function(){return this._source};var oi={arrayRows_column:{pure:true,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:dN},arrayRows_row:{pure:true,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;var m=[];var v=this._data;for(var k=0;k<v.length;k++){var Z=v[k];m.push(Z?Z[e]:null)}return m},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:true,count:B1,getItem:yv,appendData:dN},keyedColumns:{pure:true,count:function(){var i=this._source.dimensionsDefine[0].name;var e=this._data[i];return e?e.length:0},getItem:function(e){var v=[];var Z=this._source.dimensionsDefine;for(var m=0;m<Z.length;m++){var k=this._data[Z[m].name];v.push(k?k[e]:null)}return v},appendData:function(e){var i=this._data;ow(e,function(Z,m){var v=i[m]||(i[m]=[]);for(var k=0;k<(Z||[]).length;k++){v.push(Z[k])}})}},original:{count:B1,getItem:yv,appendData:dN},typedArray:{persistent:false,pure:true,count:function(){return this._data?(this._data.length/this._dimSize):0},getItem:function(e){e=e-this._offset;var m=[];var v=this._dimSize*e;for(var k=0;k<this._dimSize;k++){m[k]=this._data[v+k]}return m},appendData:function(e){if(nK){bK(GG(e),"Added data must be TypedArray if data in initialization is TypedArray")}this._data=e},clean:function(){this._offset+=this.count();this._data=null}}};function B1(){return this._data.length}function yv(e){return this._data[e]}function dN(k){for(var e=0;e<k.length;e++){this._data.push(k[e])}}var gb={arrayRows:CN,objectRows:function(e,i,m,k){return m!=null?e[k]:e},keyedColumns:CN,original:function(e,i,v,m){var k=w7(e);return(v==null||!(k instanceof Array))?k:k[v]},typedArray:CN};function CN(e,i,m,k){return m!=null?e[m]:e}var ki={arrayRows:Ej,objectRows:function(e,m,i,k){return kq(e[m],this._dimensionInfos[m])},keyedColumns:Ej,original:function(e,v,i,m){var k=e&&(e.value==null?e:e.value);if(!this._rawData.pure&&nA(e)){this.hasItemOption=true}return kq((k instanceof Array)?k[m]:k,this._dimensionInfos[v])},typedArray:function(e,m,i,k){return e[k]}};function Ej(e,m,i,k){return kq(e[k],this._dimensionInfos[m])}function kq(k,i){var m=i&&i.type;if(m==="ordinal"){var e=i&&i.ordinalMeta;return e?e.parseAndCollect(k):k}if(m==="time"&&typeof k!=="number"&&k!=null&&k!=="-"){k=+u2(k)}return(k==null||k==="")?NaN:+k}function iP(v,m,v1){if(!v){return}var i=v.getRawDataItem(m);if(i==null){return}var k=v.getProvider().getSource().sourceFormat;var cc;var Z;var e=v.getDimensionInfo(v1);if(e){cc=e.name;Z=e.index}return gb[k](i,m,Z,cc)}function Fq(v,m,e){if(!v){return}var k=v.getProvider().getSource().sourceFormat;if(k!==fp&&k!==y8){return}var i=v.getRawDataItem(m);if(k===fp&&!sU(i)){i=null}if(i){return i[e]}}var B5=/\{@(.+?)\}/g;var ul={getDataParams:function(v,i){var cc=this.getData(i);var Z=this.getRawValue(v,i);var m=cc.getRawIndex(v);var k=cc.getName(v,true);var v1=cc.getRawDataItem(v);var e=cc.getItemVisual(v,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:this.mainType==="series"?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:k,dataIndex:m,data:v1,dataType:i,value:Z,color:e,marker:yD(e),$vars:["seriesName","name","value"]}},getFormattedLabel:function(Z,i,cc,v2,k){i=i||"normal";var m=this.getData(cc);var v3=m.getItemModel(Z);var e=this.getDataParams(Z,cc);if(v2!=null&&(e.value instanceof Array)){e.value=e.value[v2]}var v1=v3.get(i==="normal"?[k||"label","formatter"]:[i,k||"label","formatter"]);if(typeof v1==="function"){e.status=i;return v1(e)}else{if(typeof v1==="string"){var v=en(v1,e);return v.replace(B5,function(G5,G6){var G4=G6.length;if(G6.charAt(0)==="["&&G6.charAt(G4-1)==="]"){G6=+G6.slice(1,G4-1)}return iP(m,Z,G6)})}}},getRawValue:function(e,i){return iP(this.getData(i),e)},formatTooltip:function(){}};function Bf(e){return new sX(e)}function sX(e){e=e||{};this._reset=e.reset;this._plan=e.plan;this._count=e.count;this._onDirty=e.onDirty;this._dirty=true;this.context}var kM=sX.prototype;kM.perform=function(v2){var cc=this._upstream;var v1=v2&&v2.skip;if(this._dirty&&cc){var i=this.context;i.data=i.outputData=cc.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var m;if(this._plan&&!v1){m=this._plan(this.context)}var v3;if(this._dirty||m==="reset"){this._dirty=false;v3=yo(this,v1)}var k=v2&&v2.step;if(cc){if(nK){bK(cc._outputDueEnd!=null)}this._dueEnd=cc._outputDueEnd}else{if(nK){bK(!this._progress||this._count)}this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var e=this._dueIndex;var Z=Math.min(k!=null?this._dueIndex+k:Infinity,this._dueEnd);!v1&&(v3||e<Z)&&(this._progress({start:e,end:Z},this.context));this._dueIndex=Z;var v=this._settedOutputEnd!=null?this._settedOutputEnd:Z;if(nK){bK(v>=this._outputDueEnd)}this._outputDueEnd=v}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};kM.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};function yo(v,i){v._dueIndex=v._outputDueEnd=v._dueEnd=0;v._settedOutputEnd=null;var e;var m;if(!i&&v._reset){e=v._reset(v.context);if(e&&e.progress){m=e.forceFirstProgress;e=e.progress}}v._progress=e;var k=v._downstream;k&&k.dirty();return m}kM.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};kM.pipe=function(e){if(nK){bK(e&&!e._disposed&&e!==this)}if(this._downstream!==e||this._dirty){this._downstream=e;e._upstream=this;e.dirty()}};kM.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};kM.getUpstream=function(){return this._upstream};kM.getDownstream=function(){return this._downstream};kM.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var hB=fw();var nl=aI.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(k,i,e,v){this.seriesIndex=this.componentIndex;this.dataTask=Bf({count:pb,reset:kT});this.dataTask.context={model:this};this.mergeDefaultAndTheme(k,e);ks(this);var m=this.getInitialData(k,e);t3(m,this);this.dataTask.context.data=m;if(nK){bK(m,"getInitialData returned invalid data.")}hB(this).dataBeforeProcessed=m;oF(this)},mergeDefaultAndTheme:function(i,e){var m=this.layoutMode;var v=m?gO(i):{};var k=this.subType;if(aI.hasClass(k)){k+="Series"}vb(i,e.getTheme().get(this.subType));vb(i,this.getDefaultOption());CB(i,"label",["show"]);this.fillDataTextStyle(i.data);if(m){g0(i,v,m)}},mergeOption:function(i,e){i=vb(this.option,i,true);this.fillDataTextStyle(i.data);var m=this.layoutMode;if(m){g0(this.option,i,m)}ks(this);var k=this.getInitialData(i,e);t3(k,this);this.dataTask.dirty();this.dataTask.context.data=k;hB(this).dataBeforeProcessed=k;oF(this)},fillDataTextStyle:function(m){if(m){var k=["show"];for(var e=0;e<m.length;e++){if(m[e]&&m[e].label){CB(m[e],"label",k)}}}},getInitialData:function(){},appendData:function(i){var e=this.getRawData();e.appendData(i.data)},getData:function(i){var e=mk(this);if(e){var k=e.context.data;return i==null?k:k.getLinkedData(i)}else{return hB(this).data}},setData:function(k){var e=mk(this);if(e){var i=e.context;if(i.data!==k&&e.isOverallFilter){e.setOutputEnd(k.count())}i.outputData=k;if(e!==this.dataTask){i.data=k}}hB(this).data=k},getSource:function(){return j6(this)},getRawData:function(){return hB(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(G5,k,G6){function v3(Hb){var Ha=wm(Hb,function(Hf,Hg,He){var Hd=Z.getDimensionInfo(He);return Hf|=Hd&&Hd.tooltip!==false&&Hd.displayName!=null},0);var G9=[];v1.length?ow(v1,function(Hd){Hc(iP(Z,G5,Hd),Hd)}):ow(Hb,Hc);function Hc(Hh,Hf){var Hd=Z.getDimensionInfo(Hf);if(!Hd||Hd.otherDims.tooltip===false){return}var Hi=Hd.type;var Hg=yD({color:m,type:"subItem"});var He=(Ha?Hg+l3(Hd.displayName||"-")+": ":"")+l3(Hi==="ordinal"?Hh+"":Hi==="time"?(k?"":mp("yyyy/MM/dd hh:mm:ss",Hh)):jK(Hh));He&&G9.push(He)}return(Ha?"<br/>":"")+G9.join(Ha?"<br/>":", ")}function cc(G9){return l3(jK(G9))}var Z=this.getData();var v1=Z.mapDimension("defaultedTooltip",true);var G7=v1.length;var G8=this.getRawValue(G5);var i=Fw(G8);var m=Z.getItemVisual(G5,"color");if(sU(m)&&m.colorStops){m=(m.colorStops[0]||{}).color}m=m||"transparent";var v=(G7>1||(i&&!G7))?v3(G8):G7?cc(iP(Z,G5,v1[0])):cc(i?G8[0]:G8);var v2=yD(m);var e=Z.getName(G5);var G4=this.name;if(!qa(this)){G4=""}G4=G4?l3(G4)+(!k?"<br/>":": "):"";return !k?G4+v2+(e?l3(e)+": "+v:v):v2+G4+v},isAnimationEnabled:function(){if(r6.node){return false}var e=this.getShallow("animation");if(e){if(this.getData().count()>this.getShallow("animationThreshold")){e=false}}return e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(m,v,i){var e=this.ecModel;var k=x8.getColorFromPalette.call(this,m,v,i);if(!k){k=e.getColorFromPalette(m,v,i)}return k},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,true)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});Ff(nl,ul);Ff(nl,x8);function oF(e){var i=e.name;if(!qa(e)){e.name=lg(e)||i}}function lg(i){var m=i.getRawData();var k=m.mapDimension("seriesName",true);var e=[];ow(k,function(Z){var v=m.getDimensionInfo(Z);v.displayName&&e.push(v.displayName)});return e.join(" ")}function pb(e){return e.model.getRawData().count()}function kT(i){var e=i.model;e.setData(e.getRawData().cloneShallow());return dy}function dy(i,e){if(i.end>e.outputData.count()){e.model.getRawData().cloneShallow(e.outputData)}}function t3(i,e){ow(i.CHANGABLE_METHODS,function(k){i.wrapMethod(k,rH(fh,e))})}function fh(i){var e=mk(i);if(e){e.setOutputEnd(this.count())}}function mk(i){var m=(i.ecModel||{}).scheduler;var k=m&&m.getPipeline(i.uid);if(k){var e=k.currentTask;if(e){var v=e.agentStubMap;if(v){e=v.get(i.uid)}}return e}}var r3=function(){this.group=new Bd();this.uid=lG("viewComponent")};r3.prototype={constructor:r3,init:function(e,i){},render:function(i,e,k,m){},dispose:function(){}};var jz=r3.prototype;jz.updateView=jz.updateLayout=jz.updateVisual=function(i,e,k,m){};zN(r3);xw(r3,{registerWhenExtend:true});var Dr=function(){var e=fw();return function(k){var i=e(k);var cc=k.pipelineContext;var v1=i.large;var v=i.canProgressiveRender;var m=i.large=cc.large;var Z=i.canProgressiveRender=cc.canProgressiveRender;return !!((v1^m)||(v^Z))&&"reset"}};var hy=fw();var DI=Dr();function dw(){this.group=new Bd();this.uid=lG("viewChart");this.renderTask=Bf({plan:aa,reset:ld});this.renderTask.context={view:this}}dw.prototype={type:"chart",init:function(e,i){},render:function(i,e,k,m){},highlight:function(i,e,k,m){Ci(i.getData(),m,"emphasis")},downplay:function(i,e,k,m){Ci(i.getData(),m,"normal")},remove:function(e,i){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var o1=dw.prototype;o1.updateView=o1.updateLayout=o1.updateVisual=function(i,e,k,m){this.render(i,e,k,m)};function uS(k,m){if(k){k.trigger(m);if(k.type==="group"){for(var e=0;e<k.childCount();e++){uS(k.childAt(e),m)}}}}function Ci(k,m,i){var e=wp(k,m);if(e!=null){ow(lW(e),function(v){uS(k.getItemGraphicEl(v),i)})}else{k.eachItemGraphicEl(function(v){uS(v,i)})}}zN(dw,["dispose"]);xw(dw,{registerWhenExtend:true});dw.markUpdateMethod=function(i,e){hy(i).updateMethod=e};function aa(e){return DI(e.model)}function ld(e){var i=e.model;var m=e.ecModel;var v=e.api;var v2=e.payload;var cc=i.pipelineContext.canProgressiveRender;var Z=e.view;var k=v2&&hy(v2).updateMethod;var v1=cc?"incrementalPrepareRender":(k&&Z[k])?k:"render";if(v1!=="render"){Z[v1](i,m,v,v2)}return rw[v1]}var rw={incrementalPrepareRender:{progress:function(i,e){e.view.incrementalRender(i,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:true,progress:function(i,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};var dV="\0__throttleOriginMethod";var j3="\0__throttleRate";var zL="\0__throttleType";function eM(v2,Z,G5){var k;var G4=0;var i=0;var e=null;var v3;var G6;var cc;var v1;Z=Z||0;function v(){i=(new Date()).getTime();e=null;v2.apply(G6,cc||[])}var m=function(){k=(new Date()).getTime();G6=this;cc=arguments;var G8=v1||Z;var G7=v1||G5;v1=null;v3=k-(G7?G4:i)-G8;clearTimeout(e);if(G7){e=setTimeout(v,G8)}else{if(v3>=0){v()}else{e=setTimeout(v,-v3)}}G4=k};m.clear=function(){if(e){clearTimeout(e);e=null}};m.debounceNextCall=function(G7){v1=G7};return m}function mh(Z,v,m,v1){var k=Z[v];if(!k){return}var e=k[dV]||k;var cc=k[zL];var i=k[j3];if(i!==m||cc!==v1){if(m==null||!v1){return(Z[v]=e)}k=Z[v]=eM(e,m,v1==="debounce");k[dV]=e;k[zL]=v1;k[j3]=m}return k}function cB(k,i){var e=k[i];if(e&&e[dV]){k[i]=e[dV]}}var BG={createOnAllSeries:true,performRawSeries:true,reset:function(m,e){var Z=m.getData();var k=(m.visualColorAccessPath||"itemStyle.color").split(".");var i=m.get(k)||m.getColorFromPalette(m.name,null,e.getSeriesCount());Z.setVisual("color",i);if(!e.isSeriesFiltered(m)){if(typeof i==="function"&&!(i instanceof lu)){Z.each(function(cc){Z.setItemVisual(cc,"color",i(m.getDataParams(cc)))})}var v=function(v3,cc){var v2=v3.getItemModel(cc);var v1=v2.get(k,true);if(v1!=null){v3.setItemVisual(cc,"color",v1)}};return{dataEach:Z.hasItemOption?v:null}}}};var Br={toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var hW=function(v,v1){var Z=v1.getModel("aria");if(!Z.get("show")){return}else{if(Z.get("description")){v.setAttribute("aria-label",Z.get("description"));return}}var i=0;v1.eachSeries(function(Ha,G9){++i},this);var G7=Z.get("data.maxCount")||10;var G8=Z.get("series.maxCount")||10;var e=Math.min(i,G8);var G4;if(i<1){return}else{var G6=m();if(G6){G4=k(G5("general.withTitle"),{title:G6})}else{G4=G5("general.withoutTitle")}var v3=[];var cc=i>1?"series.multiple.prefix":"series.single.prefix";G4+=k(G5(cc),{seriesCount:i});v1.eachSeries(function(Ha,Hi){if(Hi<e){var Hf;var Hg=Ha.get("name");var Hb="series."+(i>1?"multiple":"single")+".";Hf=G5(Hg?Hb+"withName":Hb+"withoutName");Hf=k(Hf,{seriesId:Ha.seriesIndex,seriesName:Ha.get("name"),seriesType:v2(Ha.subType)});var Hc=Ha.getData();window.data=Hc;if(Hc.count()>G7){Hf+=k(G5("data.partialData"),{displayCnt:G7})}else{Hf+=G5("data.allData")}var He=[];for(var Hd=0;Hd<Hc.count();Hd++){if(Hd<G7){var G9=Hc.getName(Hd);var Hh=iP(Hc,Hd);He.push(k(G9?G5("data.withName"):G5("data.withoutName"),{name:G9,value:Hh}))}}Hf+=He.join(G5("data.separator.middle"))+G5("data.separator.end");v3.push(Hf)}});G4+=v3.join(G5("series.multiple.separator.middle"))+G5("series.multiple.separator.end");v.setAttribute("aria-label",G4)}function k(Hb,Ha){if(typeof Hb!=="string"){return Hb}var G9=Hb;ow(Ha,function(Hd,Hc){G9=G9.replace(new RegExp("\\{\\s*"+Hc+"\\s*\\}","g"),Hd)});return G9}function G5(Hd){var Hb=Z.get(Hd);if(Hb==null){var Hc=Hd.split(".");var G9=Br.aria;for(var Ha=0;Ha<Hc.length;++Ha){G9=G9[Hc[Ha]]}return G9}else{return Hb}}function m(){var G9=v1.getModel("title").option;if(G9&&G9.length){G9=G9[0]}return G9&&G9.text}function v2(G9){return Br.series.typeNames[G9]||""}};var xP=Math.PI;var tU=function(m,v){v=v||{};Ch(v,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var e=new DD({style:{fill:v.maskColor},zlevel:v.zlevel,z:10000});var k=new pc({shape:{startAngle:-xP/2,endAngle:-xP/2+0.1,r:10},style:{stroke:v.color,lineCap:"round",lineWidth:5},zlevel:v.zlevel,z:10001});var i=new DD({style:{fill:"none",text:v.text,textPosition:"right",textDistance:10,textFill:v.textColor},zlevel:v.zlevel,z:10001});k.animateShape(true).when(1000,{endAngle:xP*3/2}).start("circularInOut");k.animateShape(true).when(1000,{startAngle:xP*3/2}).delay(300).start("circularInOut");var Z=new Bd();Z.add(k);Z.add(i);Z.add(e);Z.resize=function(){var cc=m.getWidth()/2;var v2=m.getHeight()/2;k.setShape({cx:cc,cy:v2});var v1=k.shape.r;i.setShape({x:cc-v1,y:v2-v1,width:v1*2,height:v1*2});e.setShape({x:0,y:0,width:m.getWidth(),height:m.getHeight()})};Z.resize();return Z};function DO(k,m,e,i){this.ecInstance=k;this.api=m;this.unfinished;this._dataProcessorHandlers=e.slice();this._visualHandlers=i.slice();this._stageTaskMap=BN()}var e1=DO.prototype;e1.getPerformArgs=function(k,e){if(!k.__pipeline){return}var m=this._pipelineMap.get(k.__pipeline.id);var i=m.context;var v=!e&&m.progressiveEnabled&&(!i||i.canProgressiveRender)&&k.__idxInPipeline>m.bockIndex;return{step:v?m.step:null}};e1.getPipeline=function(e){return this._pipelineMap.get(e)};e1.updateStreamModes=function(k,i){var m=this._pipelineMap.get(k.uid);var cc=k.getData();var Z=cc.count();var e=m.progressiveEnabled&&i.incrementalPrepareRender&&Z>=m.threshold;var v=k.get("large")&&Z>=k.get("largeThreshold");k.pipelineContext=m.context={canProgressiveRender:e,large:v}};e1.restorePipelines=function(e){var i=this;var k=i._pipelineMap=BN();e.eachSeries(function(m){var v=m.getProgressive();var Z=m.uid;k.set(Z,{id:Z,head:null,tail:null,threshold:m.getProgressiveThreshold(),progressiveEnabled:v&&!(m.preventIncremental&&m.preventIncremental()),bockIndex:-1,step:v||700,count:0});pT(i,m,m.dataTask)})};e1.prepareStageTasks=function(){var i=this._stageTaskMap;var e=this.ecInstance.getModel();var k=this.api;ow([this._dataProcessorHandlers,this._visualHandlers],function(m){ow(m,function(Z){var v=i.get(Z.uid)||i.set(Z.uid,[]);Z.reset&&fn(this,Z,v,e,k);Z.overallReset&&m0(this,Z,v,e,k)},this)},this)};e1.prepareView=function(i,m,e,Z){var k=i.renderTask;var v=k.context;v.model=m;v.ecModel=e;v.api=Z;k.__block=!i.incrementalPrepareRender;pT(this,m,k)};e1.performDataProcessorTasks=function(e,i){vF(this,this._dataProcessorHandlers,e,i,{block:true})};e1.performVisualTasks=function(e,k,i){vF(this,this._visualHandlers,e,k,i)};function vF(k,m,e,v,i){i=i||{};var cc;ow(m,function(G8,v3){if(i.visualType&&i.visualType!==G8.visualType){return}var v2=k._stageTaskMap.get(G8.uid);var v1=v2.seriesTaskMap;var G4=v2.overallTask;if(G4){var G7;var G5=G4.agentStubMap;G5.each(function(G9){if(Z(i,G9)){G9.dirty();G7=true}});G7&&G4.dirty();jQ(G4,v);var G6=k.getPerformArgs(G4,i.block);G5.each(function(G9){G9.perform(G6)});cc|=G4.perform(G6)}else{if(v1){v1.each(function(G9,Hb){if(Z(i,G9)){G9.dirty()}var Ha=k.getPerformArgs(G9,i.block);Ha.skip=!G8.performRawSeries&&e.isSeriesFiltered(G9.context.model);jQ(G9,v);cc|=G9.perform(Ha)})}}});function Z(v2,v1){return v2.setDirty&&(!v2.dirtyMap||v2.dirtyMap.get(v1.__pipeline.id))}k.unfinished|=cc}e1.performSeriesTasks=function(e){var i;e.eachSeries(function(k){i|=k.dataTask.perform()});this.unfinished|=i};e1.plan=function(){this._pipelineMap.each(function(i){var e=i.tail;do{if(e.__block){i.bockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var jQ=e1.updatePayload=function(e,i){i!=="remain"&&(e.context.payload=i)};function fn(v,k,cc,v1,v2){var e=cc.seriesTaskMap||(cc.seriesTaskMap=BN());var m=k.seriesType;var v3=k.getTargetSeries;if(k.createOnAllSeries){v1.eachRawSeries(Z)}else{if(m){v1.eachRawSeriesByType(m,Z)}else{if(v3){v3(v1,v2).each(Z)}}}function Z(G5){var G6=G5.uid;var G4=e.get(G6)||e.set(G6,Bf({plan:lD,reset:wQ,count:Bl}));G4.context={model:G5,ecModel:v1,api:v2,useClearVisual:k.isVisual&&!k.isLayout,plan:k.plan,reset:k.reset,scheduler:v};pT(v,G5,G4)}var i=v._pipelineMap;e.each(function(G4,G5){if(!i.get(G5)){G4.dispose();e.removeKey(G5)}})}function m0(v,k,Z,cc,v1){var v2=Z.overallTask=Z.overallTask||Bf({reset:jJ});v2.context={ecModel:cc,api:v1,overallReset:k.overallReset,scheduler:v};var e=v2.agentStubMap=v2.agentStubMap||BN();var m=k.seriesType;var G4=k.getTargetSeries;var G5=true;var v3=k.isOverallFilter;if(m){cc.eachRawSeriesByType(m,G6)}else{if(G4){G4(cc,v1).each(G6)}else{G5=false;ow(cc.getSeries(),G6)}}function G6(G7){var G9=G7.uid;var G8=e.get(G9)||e.set(G9,Bf({reset:wH,onDirty:Bn}));G8.context={model:G7,overallProgress:G5,isOverallFilter:v3};G8.agent=v2;G8.__block=G5;pT(v,G7,G8)}var i=v._pipelineMap;e.each(function(G7,G8){if(!i.get(G8)){G7.dispose();e.removeKey(G8)}})}function jJ(e){e.overallReset(e.ecModel,e.api,e.payload)}function wH(i,e){return i.overallProgress&&Ai}function Ai(){this.agent.dirty();this.getDownstream().dirty()}function Bn(){this.agent&&this.agent.dirty()}function lD(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function wQ(e){if(e.useClearVisual){e.data.clearAllVisual()}var i=e.resetDefines=lW(e.reset(e.model,e.ecModel,e.api,e.payload));if(i.length){return wT}}function wT(v1,v){var Z=v.data;var cc=v.resetDefines;for(var e=0;e<cc.length;e++){var v2=cc[e];if(v2&&v2.dataEach){for(var m=v1.start;m<v1.end;m++){v2.dataEach(Z,m)}}else{if(v2&&v2.progress){v2.progress(v1,Z)}}}}function Bl(e){return e.data.count()}function pT(m,i,e){var v=i.uid;var k=m._pipelineMap.get(v);!k.head&&(k.head=e);k.tail&&k.tail.pipe(e);k.tail=e;e.__idxInPipeline=k.count++;e.__pipeline=k}DO.wrapStageHandler=function(i,e){if(D0(i)){i={overallReset:i,seriesType:N(i)}}i.uid=lG("stageHandler");e&&(i.visualType=e);return i};function N(i){d1=null;try{i(dM,ko)}catch(k){}return d1}var dM={};var ko={};var d1;rY(dM,ci);rY(ko,lf);dM.eachSeriesByType=dM.eachRawSeriesByType=function(e){d1=e};dM.eachComponent=function(e){if(e.mainType==="series"&&e.subType){d1=e.subType}};function rY(k,e){for(var i in e.prototype){k[i]=U}}var nu=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var bu={color:nu,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],nu]};var fX="#eee";var BS=function(){return{axisLine:{lineStyle:{color:fX}},axisTick:{lineStyle:{color:fX}},axisLabel:{textStyle:{color:fX}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:fX}}}};var dj=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"];var pJ={color:dj,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:fX},crossStyle:{color:fX}}},legend:{textStyle:{color:fX}},textStyle:{color:fX},title:{textStyle:{color:fX}},toolbox:{iconStyle:{normal:{borderColor:fX}}},dataZoom:{textStyle:{color:fX}},visualMap:{textStyle:{color:fX}},timeline:{lineStyle:{color:fX},itemStyle:{normal:{color:dj[1]}},label:{normal:{textStyle:{color:fX}}},controlStyle:{normal:{color:fX,borderColor:fX}}},timeAxis:BS(),logAxis:BS(),valueAxis:BS(),categoryAxis:BS(),line:{symbol:"circle"},graph:{color:dj},gauge:{title:{textStyle:{color:fX}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};pJ.categoryAxis.splitLine.show=false;
/*!
 * ECharts, a free, powerful charting and visualization library.
 *
 * Copyright (c) 2017, Baidu Inc.
 * All rights reserved.
 *
 * LICENSE
 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
 */
var ag=bK;var BV=ow;var od=D0;var jD=sU;var sk=aI.parseClassType;var GQ="4.0.4";var qc={zrender:"4.0.3"};var lM=1;var h0=1000;var qZ=5000;var am=1000;var oz=2000;var xx=3000;var Es=4000;var eN=5000;var Bb={PROCESSOR:{FILTER:h0,STATISTIC:qZ},VISUAL:{LAYOUT:am,GLOBAL:oz,CHART:xx,COMPONENT:Es,BRUSH:eN}};var l6="__flagInMainProcess";var qC="__optionUpdated";var fR=/^[a-zA-Z0-9_]+$/;function FE(e){return function(i,m,k){i=i&&i.toLowerCase();E1.prototype[e].call(this,i,m,k)}}function BW(){E1.call(this)}BW.prototype.on=FE("on");BW.prototype.off=FE("off");BW.prototype.one=FE("one");Ff(BW,E1);function th(cc,k,i){i=i||{};if(typeof k==="string"){k=GD[k]}this.id;this.group;this._dom=cc;var v="canvas";if(nK){v=(typeof window==="undefined"?global:window).__ECHARTS__DEFAULT__RENDERER__||v}var Z=this._zr=m7(cc,{renderer:i.renderer||v,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=eM(j0(Z.flush,Z),17);var k=B8(k);k&&Ge(k,true);this._theme=k;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new fk();var e=this._api=kF(this);function m(v2,v1){return v2.__prio-v1.__prio}pK(c1,m);pK(ig,m);this._scheduler=new DO(this,e,ig,c1);E1.call(this);this._messageCenter=new BW();this._initEvents();this.resize=j0(this.resize,this);this._pendingActions=[];Z.animation.on("frame",this._onframe,this);ma(Z,this);y(this)}var Eh=th.prototype;Eh._onframe=function(){if(this._disposed){return}var k=this._scheduler;if(this[qC]){var i=this[qC].silent;this[l6]=true;w0(this);zr.update.call(this);this[l6]=false;this[qC]=false;aw.call(this,i);Cc.call(this,i)}else{if(k.unfinished){var Z=lM;var e=this._model;var v=this._api;k.unfinished=false;do{var m=+new Date();k.performSeriesTasks(e);k.performDataProcessorTasks(e);Bu(this,e);k.performVisualTasks(e);fD(this,this._model,v,"remain");Z-=(+new Date()-m)}while(Z>0&&k.unfinished);if(!k.unfinished){this._zr.flush()}}}};Eh.getDom=function(){return this._dom};Eh.getZr=function(){return this._zr};Eh.setOption=function(m,cc,Z){if(nK){ag(!this[l6],"`setOption` should not be called during main process.")}var k;if(jD(cc)){Z=cc.lazyUpdate;k=cc.silent;cc=cc.notMerge}this[l6]=true;if(!this._model||cc){var i=new lN(this._api);var v=this._theme;var e=this._model=new ci(null,null,v,i);e.scheduler=this._scheduler;e.init(null,null,v,i)}this._model.setOption(m,fL);if(Z){this[qC]={silent:k};this[l6]=false}else{w0(this);zr.update.call(this);this._zr.flush();this[qC]=false;this[l6]=false;aw.call(this,k);Cc.call(this,k)}};Eh.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};Eh.getModel=function(){return this._model};Eh.getOption=function(){return this._model&&this._model.getOption()};Eh.getWidth=function(){return this._zr.getWidth()};Eh.getHeight=function(){return this._zr.getHeight()};Eh.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};Eh.getRenderedCanvas=function(e){if(!r6.canvasSupported){return}e=e||{};e.pixelRatio=e.pixelRatio||1;e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var i=this._zr;return i.painter.getRenderedCanvas(e)};Eh.getSvgDataUrl=function(){if(!r6.svgSupported){return}var i=this._zr;var e=i.storage.getDisplayList();ow(e,function(k){k.stopAnimation(true)});return i.painter.pathToDataUrl()};Eh.getDataURL=function(v){v=v||{};var Z=v.excludeComponents;var e=this._model;var m=[];var i=this;BV(Z,function(cc){e.eachComponent({mainType:cc},function(v2){var v1=i._componentsMap[v2.__viewId];if(!v1.group.ignore){m.push(v1);v1.group.ignore=true}})});var k=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(v).toDataURL("image/"+(v&&v.type||"png"));BV(m,function(cc){cc.group.ignore=false});return k};Eh.getConnectedDataURL=function(i){if(!r6.canvasSupported){return}var Z=this.group;var m=Math.min;var cc=Math.max;var G6=Infinity;if(dE[Z]){var v=G6;var v3=G6;var G7=-G6;var e=-G6;var v1=[];var G5=(i&&i.pixelRatio)||1;ow(aA,function(Hb,Hc){if(Hb.group===Z){var Ha=Hb.getRenderedCanvas(B8(i));var G9=Hb.getDom().getBoundingClientRect();v=m(G9.left,v);v3=m(G9.top,v3);G7=cc(G9.right,G7);e=cc(G9.bottom,e);v1.push({dom:Ha,left:G9.left,top:G9.top})}});v*=G5;v3*=G5;G7*=G5;e*=G5;var k=G7-v;var G8=e-v3;var G4=Cf();G4.width=k;G4.height=G8;var v2=m7(G4);BV(v1,function(Ha){var G9=new Ek({style:{x:Ha.left*G5-v,y:Ha.top*G5-v3,image:Ha.dom}});v2.add(G9)});v2.refreshImmediately();return G4.toDataURL("image/"+(i&&i.type||"png"))}else{return this.getDataURL(i)}};Eh.convertToPixel=rH(oL,"convertToPixel");Eh.convertFromPixel=rH(oL,"convertFromPixel");function oL(v,v2,v1){var k=this._model;var m=this._coordSysMgr.getCoordinateSystems();var e;v2=m8(k,v2);for(var cc=0;cc<m.length;cc++){var Z=m[cc];if(Z[v]&&(e=Z[v](k,v2,v1))!=null){return e}}if(nK){console.warn("No coordinate system that supports "+v+" found by the given finder.")}}Eh.containPixel=function(m,k){var i=this._model;var e;m=m8(i,m);ow(m,function(Z,v){v.indexOf("Models")>=0&&ow(Z,function(v1){var v2=v1.coordinateSystem;if(v2&&v2.containPoint){e|=!!v2.containPoint(k)}else{if(v==="seriesModels"){var cc=this._chartsMap[v1.__viewId];if(cc&&cc.containPoint){e|=cc.containPoint(k,v1)}else{if(nK){console.warn(v+": "+(cc?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if(nK){console.warn(v+": containPoint is not supported")}}}},this)},this);return !!e};Eh.getVisual=function(Z,v){var e=this._model;Z=m8(e,Z,{defaultMainType:"series"});var i=Z.seriesModel;if(nK){if(!i){console.warn("There is no specified seires model")}}var m=i.getData();var k=Z.hasOwnProperty("dataIndexInside")?Z.dataIndexInside:Z.hasOwnProperty("dataIndex")?m.indexOfRawIndex(Z.dataIndex):null;return k!=null?m.getItemVisual(k,v):m.getVisual(v)};Eh.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]};Eh.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var zr={prepareAndUpdate:function(e){w0(this);zr.update.call(this,e)},update:function(v1){var e=this._model;var m=this._api;var cc=this._zr;var Z=this._coordSysMgr;var k=this._scheduler;if(!e){return}e.restoreData(v1);k.performSeriesTasks(e);Z.create(e,m);k.performDataProcessorTasks(e,v1);Bu(this,e);Z.update(e,m);sd(e);k.performVisualTasks(e,v1);Gb(this,e,m,v1);var i=e.get("backgroundColor")||"transparent";if(!r6.canvasSupported){var v=eH(i);i=vw(v,"rgb");if(v[3]===0){i="transparent"}}else{cc.setBackgroundColor(i)}BA(e,m)},updateTransform:function(v){var i=this._model;var e=this;var k=this._api;if(!i){return}var m=[];i.eachComponent(function(v2,v1){var v3=e.getViewOfComponentModel(v1);if(v3&&v3.__alive){if(v3.updateTransform){var cc=v3.updateTransform(v1,i,k,v);cc&&cc.update&&m.push(v3)}else{m.push(v3)}}});var Z=BN();i.eachSeries(function(v2){var v1=e._chartsMap[v2.__viewId];if(v1.updateTransform){var cc=v1.updateTransform(v2,i,k,v);cc&&cc.update&&Z.set(v2.uid,1)}else{Z.set(v2.uid,1)}});sd(i);this._scheduler.performVisualTasks(i,v,{setDirty:true,dirtyMap:Z});fD(e,i,k,v,Z);BA(i,this._api)},updateView:function(i){var e=this._model;if(!e){return}dw.markUpdateMethod(i,"updateView");sd(e);this._scheduler.performVisualTasks(e,i,{setDirty:true});Gb(this,this._model,this._api,i);BA(e,this._api)},updateVisual:function(e){zr.update.call(this,e)},updateLayout:function(e){zr.update.call(this,e)}};function w0(i){var e=i._model;var k=i._scheduler;k.restorePipelines(e);k.prepareStageTasks();Bg(i,"component",e,k);Bg(i,"chart",e,k);k.plan()}function ns(v2,e,cc,v,v1){var k=v2._model;if(!v){BV(v2._componentsViews.concat(v2._chartsViews),m);return}var Z={};Z[v+"Id"]=cc[v+"Id"];Z[v+"Index"]=cc[v+"Index"];Z[v+"Name"]=cc[v+"Name"];var i={mainType:v,query:Z};v1&&(i.subType=v1);k&&k.eachComponent(i,function(G4,v3){m(v2[v==="series"?"_chartsMap":"_componentsMap"][G4.__viewId])},v2);function m(v3){v3&&v3.__alive&&v3[e]&&v3[e](v3.__model,k,v2._api,cc)}}Eh.resize=function(m){if(nK){ag(!this[l6],"`resize` should not be called during main process.")}this._zr.resize(m);var e=this._model;this._loadingFX&&this._loadingFX.resize();if(!e){return}var k=e.resetOption("media");var i=m&&m.silent;this[l6]=true;k&&w0(this);zr.update.call(this);this[l6]=false;aw.call(this,i);Cc.call(this,i)};function Bu(i,e){var k=i._chartsMap;var m=i._scheduler;e.eachSeries(function(v){m.updateStreamModes(v,k[v.__viewId])})}Eh.showLoading=function(i,e){if(jD(i)){e=i;i=""}i=i||"default";this.hideLoading();if(!EC[i]){if(nK){console.warn("Loading effects "+i+" not exists.")}return}var k=EC[i](this._api,e);var m=this._zr;this._loadingFX=k;m.add(k)};Eh.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};Eh.makeActionFromEvent=function(e){var i=bY({},e);i.type=qj[e.type];return i};Eh.dispatchAction=function(i,e){if(!jD(e)){e={silent:!!e}}if(!cM[i.type]){return}if(!this._model){return}if(this[l6]){this._pendingActions.push(i);return}iy.call(this,i,e.silent);if(e.flush){this._zr.flush(true)}else{if(e.flush!==false&&r6.browser.weChat){this._throttledZrFlush()}}aw.call(this,e.silent);Cc.call(this,e.silent)};function iy(G4,v1){var G5=G4.type;var k=G4.escapeConnect;var v2=cM[G5];var v3=v2.actionInfo;var i=(v3.update||"update").split(":");var m=i.pop();i=i[0]!=null&&sk(i[0]);this[l6]=true;var v=[G4];var e=false;if(G4.batch){e=true;v=De(G4.batch,function(G7){G7=Ch(bY({},G7),G4);G7.batch=null;return G7})}var G6=[];var cc;var Z=G5==="highlight"||G5==="downplay";BV(v,function(G7){cc=v2.action(G7,this._model,this._api);cc=cc||bY({},G7);cc.type=v3.event||cc.type;G6.push(cc);if(Z){ns(this,m,G7,"series")}else{if(i){ns(this,m,G7,i.main,i.sub)}}},this);if(m!=="none"&&!Z&&!i){if(this[qC]){w0(this);zr.update.call(this,G4);this[qC]=false}else{zr[m].call(this,G4)}}if(e){cc={type:v3.event||G5,escapeConnect:k,batch:G6}}else{cc=G6[0]}this[l6]=false;!v1&&this._messageCenter.trigger(cc.type,cc)}function aw(e){var i=this._pendingActions;while(i.length){var k=i.shift();iy.call(this,k,e)}}function Cc(e){!e&&this.trigger("updated")}function ma(i,e){i.on("rendered",function(){e.trigger("rendered");if(i.animation.isFinished()&&!e[qC]&&!e._scheduler.unfinished&&!e._pendingActions.length){e.trigger("finished")}})}Eh.appendData=function(m){var k=m.seriesIndex;var e=this.getModel();var i=e.getSeriesByIndex(k);if(nK){ag(m.data&&i)}i.appendData(m);this._scheduler.unfinished=true};Eh.on=FE("on");Eh.off=FE("off");Eh.one=FE("one");function Bg(G6,v3,Z,m){var v=v3==="component";var e=v?G6._componentsViews:G6._chartsViews;var v2=v?G6._componentsMap:G6._chartsMap;var v1=G6._zr;var cc=G6._api;for(var k=0;k<e.length;k++){e[k].__alive=false}v?Z.eachComponent(function(G7,i){G7!=="series"&&G5(i)}):Z.eachSeries(G5);function G5(G8){var i="_ec_"+G8.id+"_"+G8.type;var G7=v2[i];if(!G7){var G9=sk(G8.type);var Ha=v?r3.getClass(G9.main,G9.sub):dw.getClass(G9.sub);if(nK){ag(Ha,G9.sub+" does not exist.")}G7=new Ha();G7.init(Z,cc);v2[i]=G7;e.push(G7);v1.add(G7.group)}G8.__viewId=G7.__id=i;G7.__alive=true;G7.__model=G8;G7.group.__ecComponentInfo={mainType:G8.mainType,index:G8.componentIndex};!v&&m.prepareView(G7,G8,Z,cc)}for(var k=0;k<e.length;){var G4=e[k];if(!G4.__alive){!v&&G4.renderTask.dispose();v1.remove(G4.group);G4.dispose(Z,cc);e.splice(k,1);delete v2[G4.__id];G4.__id=G4.group.__ecComponentInfo=null}else{k++}}}function sd(e){e.clearColorPalette();e.eachSeries(function(i){i.clearColorPalette()})}function Gb(i,e,k,m){hC(i,e,k,m);BV(i._chartsViews,function(v){v.__alive=false});fD(i,e,k,m);BV(i._chartsViews,function(v){if(!v.__alive){v.remove(e,k)}})}function hC(i,e,m,v,k){BV(k||i._componentsViews,function(cc){var Z=cc.__model;cc.render(Z,e,m,v);pU(Z,cc)})}function fD(i,e,v,Z,k){var m=i._scheduler;var cc;e.eachSeries(function(v3){var v1=i._chartsMap[v3.__viewId];v1.__alive=true;var v2=v1.renderTask;m.updatePayload(v2,Z);if(k&&k.get(v3.uid)){v2.dirty()}cc|=v2.perform(m.getPerformArgs(v2));v1.group.silent=!!v3.get("silent");pU(v3,v1);ET(v3,v1)});m.unfinished|=cc;zD(i._zr,e);hW(i._zr.dom,e)}function BA(e,i){BV(hq,function(k){k(e,i)})}var mf=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Eh._initEvents=function(){BV(mf,function(e){this._zr.on(e,function(v){var i=this.getModel();var m=v.target;var Z;if(e==="globalout"){Z={}}else{if(m&&m.dataIndex!=null){var k=m.dataModel||i.getSeriesByIndex(m.seriesIndex);Z=k&&k.getDataParams(m.dataIndex,m.dataType)||{}}else{if(m&&m.eventData){Z=bY({},m.eventData)}}}if(Z){Z.event=v;Z.type=e;this.trigger(e,Z)}},this)},this);BV(qj,function(e,i){this._messageCenter.on(i,function(k){this.trigger(i,k)},this)},this)};Eh.isDisposed=function(){return this._disposed};Eh.clear=function(){this.setOption({series:[]},true)};Eh.dispose=function(){if(this._disposed){if(nK){console.warn("Instance "+this.id+" has been disposed")}return}this._disposed=true;bS(this.getDom(),ao,"");var i=this._api;var e=this._model;BV(this._componentsViews,function(k){k.dispose(e,i)});BV(this._chartsViews,function(k){k.dispose(e,i)});this._zr.dispose();delete aA[this.id]};Ff(th,E1);function zD(k,e){var m=k.storage;var i=0;m.traverse(function(v){if(!v.isGroup){i++}});if(i>e.get("hoverLayerThreshold")&&!r6.node){m.traverse(function(v){if(!v.isGroup){v.useHoverLayer=true}})}}function ET(i,e){var k=i.get("blendMode")||null;if(nK){if(!r6.canvasSupported&&k&&k!=="source-over"){console.warn("Only canvas support blendMode")}}e.group.traverse(function(m){if(!m.isGroup){if(m.style.blend!==k){m.setStyle("blend",k)}}if(m.eachPendingDisplayable){m.eachPendingDisplayable(function(v){v.setStyle("blend",k)})}})}function pU(k,i){var m=k.get("z");var e=k.get("zlevel");i.group.traverse(function(v){if(v.type!=="group"){m!=null&&(v.z=m);e!=null&&(v.zlevel=e)}})}function kF(e){var i=e._coordSysMgr;return bY(new lf(e),{getCoordinateSystems:j0(i.getCoordinateSystems,i),getComponentByElement:function(k){while(k){var m=k.__ecComponentInfo;if(m!=null){return e._model.getComponent(m.mainType,m.index)}k=k.parent}}})}var cM={};var qj={};var ig=[];var fL=[];var hq=[];var c1=[];var GD={};var EC={};var aA={};var dE={};var cS=new Date()-0;var cd=new Date()-0;var ao="_echarts_instance_";var w8={};function kr(m){var e=0;var v=1;var k=2;var i="__connectUpdateStatus";function Z(v3,cc){for(var v2=0;v2<v3.length;v2++){var v1=v3[v2];v1[i]=cc}}BV(qj,function(cc,v1){m._messageCenter.on(v1,function(v2){if(dE[m.group]&&m[i]!==e){if(v2&&v2.escapeConnect){return}var v3=m.makeActionFromEvent(v2);var G4=[];BV(aA,function(G5){if(G5!==m&&G5.group===m.group){G4.push(G5)}});Z(G4,e);BV(G4,function(G5){if(G5[i]!==v){G5.dispatchAction(v3)}});Z(G4,k)}})})}function DR(v,k,i){if(nK){if((sf.replace(".","")-0)<(qc.zrender.replace(".","")-0)){throw new Error("zrender/src "+sf+" is too old for ECharts "+GQ+". Current version need ZRender "+qc.zrender+"+")}if(!v){throw new Error("Initialize failed: invalid dom.")}}var m=b0(v);if(m){if(nK){console.warn("There is a chart instance already initialized on the dom.")}return m}if(nK){if(az(v)&&v.nodeName.toUpperCase()!=="CANVAS"&&((!v.clientWidth&&(!i||i.width==null))||(!v.clientHeight&&(!i||i.height==null)))){console.warn("Can't get dom width or height")}}var e=new th(v,k,i);e.id="ec_"+cS++;aA[e.id]=e;bS(v,ao,e.id);kr(e);return e}function nf(e){if(Fw(e)){var i=e;e=null;BV(i,function(k){if(k.group!=null){e=k.group}});e=e||("g_"+cd++);BV(i,function(k){k.group=e})}dE[e]=true;return e}function hr(e){dE[e]=false}var x6=hr;function ug(e){if(typeof e==="string"){e=aA[e]}else{if(!(e instanceof th)){e=b0(e)}}if((e instanceof th)&&!e.isDisposed()){e.dispose()}}function b0(e){return aA[uY(e,ao)]}function dK(e){return aA[e]}function yG(e,i){GD[e]=i}function yc(e){fL.push(e)}function d3(e,i){x0(ig,e,i,h0)}function vn(e){hq.push(e)}function bZ(k,e,m){if(typeof e==="function"){m=e;e=""}var i=jD(k)?k.type:([k,k={event:e}][0]);k.event=(k.event||i).toLowerCase();e=k.event;ag(fR.test(i)&&fR.test(e));if(!cM[i]){cM[i]={action:m,actionInfo:k}}qj[e]=i}function vG(i,e){fk.register(i,e)}function gN(e){var i=fk.get(e);if(i){return i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice()}}function oM(i,e){x0(c1,i,e,am,"layout")}function E(e,i){x0(c1,e,i,xx,"visual")}function x0(Z,i,k,e,v){if(od(i)||jD(i)){k=i;i=e}if(nK){if(isNaN(i)||i==null){throw new Error("Illegal priority")}BV(Z,function(cc){ag(cc.__raw!==k)})}var m=DO.wrapStageHandler(k,v);m.__prio=i;m.__raw=k;Z.push(m);return m}function w6(i,e){EC[i]=e}function pk(e){return aI.extend(e)}function pO(e){return r3.extend(e)}function A6(e){return nl.extend(e)}function AO(e){return dw.extend(e)}function ev(e){zW("createCanvas",e)}function fq(i,e,k){if(e.geoJson&&!e.features){k=e.specialAreas;e=e.geoJson}if(typeof e==="string"){e=(typeof JSON!=="undefined"&&JSON.parse)?JSON.parse(e):(new Function("return ("+e+");"))()}w8[i]={geoJson:e,specialAreas:k}}function um(e){return w8[e]}E(oz,BG);yc(Ge);d3(qZ,u9);w6("default",tU);bZ({type:"highlight",event:"highlight",update:"highlight"},U);bZ({type:"downplay",event:"downplay",update:"downplay"},U);yG("light",bu);yG("dark",pJ);var vH={};function zm(e){return e}function Fp(k,v,i,m,e){this._old=k;this._new=v;this._oldKeyGetter=i||zm;this._newKeyGetter=m||zm;this.context=e}Fp.prototype={constructor:Fp,add:function(e){this._add=e;return this},update:function(e){this._update=e;return this},remove:function(e){this._remove=e;return this},execute:function(){var e=this._old;var v=this._new;var cc={};var m={};var v1=[];var v3=[];var Z;x1(e,cc,v1,"_oldKeyGetter",this);x1(v,m,v3,"_newKeyGetter",this);for(Z=0;Z<e.length;Z++){var G5=v1[Z];var G4=m[G5];if(G4!=null){var v2=G4.length;if(v2){v2===1&&(m[G5]=null);G4=G4.unshift()}else{m[G5]=null}this._update&&this._update(G4,Z)}else{this._remove&&this._remove(Z)}}for(var Z=0;Z<v3.length;Z++){var G5=v3[Z];if(m.hasOwnProperty(G5)){var G4=m[G5];if(G4==null){continue}if(!G4.length){this._add&&this._add(G4)}else{for(var k=0,v2=G4.length;k<v2;k++){this._add&&this._add(G4[k])}}}}}};function x1(e,cc,k,v2,Z){for(var v=0;v<e.length;v++){var m="_ec_"+Z[v2](e[v],v);var v1=cc[m];if(v1==null){k.push(m);cc[m]=v}else{if(!v1.length){cc[m]=v1=[v1]}v1.push(v)}}}var vj=BN(["tooltip","label","itemName","itemId","seriesName"]);function GM(m){var cc={};var Z=cc.encode={};var e=BN();var v3=[];ow(m.dimensions,function(G7){var G4=m.getDimensionInfo(G7);var G6=G4.coordDim;if(G6){if(nK){bK(vj.get(G6)==null)}var G5=Z[G6];if(!Z.hasOwnProperty(G6)){G5=Z[G6]=[]}G5[G4.coordDimIndex]=G7;if(!G4.isExtraCoord){e.set(G6,1);if(g3(G4.type)){v3[0]=G7}}}vj.each(function(G9,G8){var Hb=Z[G8];if(!Z.hasOwnProperty(G8)){Hb=Z[G8]=[]}var Ha=G4.otherDims[G8];if(Ha!=null&&Ha!==false){Hb[Ha]=G4.name}})});var v1=[];var v={};e.each(function(G4,G6){var G5=Z[G6];v[G6]=G5[0];v1=v1.concat(G5)});cc.dataDimsOnCoord=v1;cc.encodeFirstDimNotExtra=v;var i=Z.label;if(i&&i.length){v3=i.slice()}var v2=v3.slice();var k=Z.tooltip;if(k&&k.length){v2=k.slice()}Z.defaultedLabel=v3;Z.defaultedTooltip=v2;return cc}function pX(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function g3(e){return !(e==="ordinal"||e==="time")}var sQ=sU;var gQ="undefined";var K=typeof window===gQ?global:window;var bm="e\0\0";var wr={"float":typeof K.Float64Array===gQ?Array:K.Float64Array,"int":typeof K.Int32Array===gQ?Array:K.Int32Array,ordinal:Array,number:Array,time:Array};var D=typeof K.Uint32Array===gQ?Array:K.Uint32Array;var bn=typeof K.Uint16Array===gQ?Array:K.Uint16Array;function Ad(e){return e._rawCount>65535?D:bn}function rU(i){var e=i.constructor;return e===Array?i.slice():new e(i)}var f4=["hasItemOption","_nameList","_idList","_calculationInfo","_invertedIndicesMap","_rawData","_rawExtent","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"];function dP(i,e){ow(f4.concat(e.__wrappedMethods||[]),function(k){if(e.hasOwnProperty(k)){i[k]=e[k]}});i.__wrappedMethods=e.__wrappedMethods}var wF=function(v,v2){v=v||["x","y"];var v1={};var cc=[];var m={};for(var k=0;k<v.length;k++){var Z=v[k];if(vi(Z)){Z={name:Z}}var e=Z.name;Z.type=Z.type||"float";if(!Z.coordDim){Z.coordDim=e;Z.coordDimIndex=0}Z.otherDims=Z.otherDims||{};cc.push(e);v1[e]=Z;Z.index=k;if(Z.createInvertedIndices){m[e]=[]}}this.dimensions=cc;this._dimensionInfos=v1;this.hostModel=v2;this.dataType;this._indices=null;this._count=0;this._rawCount=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=[];this._chunkSize=100000;this._chunkCount=0;this._rawData;this._rawExtent={};this._extent={};this._approximateExtent={};this._dimensionsSummary=GM(this);this._invertedIndicesMap=m;this._calculationInfo={}};var tB=wF.prototype;tB.type="list";tB.hasItemOption=true;tB.getDimension=function(e){if(!isNaN(e)){e=this.dimensions[e]||e}return e};tB.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]};tB.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};tB.mapDimension=function(i,e){var k=this._dimensionsSummary;if(e==null){return k.encodeFirstDimNotExtra[i]}var m=k.encode[i];return e===true?(m||[]).slice():(m&&m[e])};tB.initData=function(k,m,e){var i=pE.isInstance(k)||r0(k);if(i){k=new fF(k,this.dimensions.length)}if(nK){if(!i&&(typeof k.getItem!="function"||typeof k.count!="function")){throw new Error("Inavlid data provider.")}}this._rawData=k;this._storage={};this._indices=null;this._nameList=m||[];this._idList=[];this._nameRepeatCount={};if(!e){this.hasItemOption=false}this.defaultDimValueGetter=ki[this._rawData.getSource().sourceFormat];this._dimValueGetter=e=e||this.defaultDimValueGetter;this._rawExtent={};this._initDataFromProvider(0,k.count());if(k.pure){this.hasItemOption=false}};tB.getProvider=function(){return this._rawData};tB.appendData=function(i){if(nK){bK(!this._indices,"appendData can only be called on raw data.")}var m=this._rawData;var k=this.count();m.appendData(i);var e=m.count();if(!m.persistent){e+=k}this._initDataFromProvider(k,e)};tB._initDataFromProvider=function(v2,v1){if(v2>=v1){return}var G6=this._chunkSize;var Hc=this._rawData;var Hk=this._storage;var G5=this.dimensions;var Hm=this._dimensionInfos;var Hl=this._nameList;var Hd=this._idList;var v=this._rawExtent;var Hn=this._nameRepeatCount={};var Hb;var m=this._chunkCount;var Hh=m-1;for(var Hi=0;Hi<G5.length;Hi++){var Hg=G5[Hi];if(!v[Hg]){v[Hg]=d8()}var v3=Hm[Hg];if(v3.otherDims.itemName===0){Hb=this._nameDimIdx=Hi}if(v3.otherDims.itemId===0){this._idDimIdx=Hi}var Hj=wr[v3.type];if(!Hk[Hg]){Hk[Hg]=[]}var G8=Hk[Hg][Hh];if(G8&&G8.length<G6){var Z=new Hj(Math.min(v1-Hh*G6,G6));for(var Hf=0;Hf<G8.length;Hf++){Z[Hf]=G8[Hf]}Hk[Hg][Hh]=Z}for(var He=m*G6;He<v1;He+=G6){Hk[Hg].push(new Hj(Math.min(v1-He,G6)))}this._chunkCount=Hk[Hg].length}for(var G9=v2;G9<v1;G9++){var G7=Hc.getItem(G9);var e=Math.floor(G9/G6);var cc=G9%G6;for(var He=0;He<G5.length;He++){var Hg=G5[He];var G4=Hk[Hg][e];var Hp=this._dimValueGetter(G7,Hg,G9,He);G4[cc]=Hp;if(Hp<v[Hg][0]){v[Hg][0]=Hp}if(Hp>v[Hg][1]){v[Hg][1]=Hp}}if(!Hc.pure){var Ho=Hl[G9];if(G7&&!Ho){if(Hb!=null){Ho=this._getNameFromStore(G9)}else{if(G7.name!=null){Hl[G9]=Ho=G7.name}}}var Ha=G7==null?null:G7.id;if(Ha==null&&Ho!=null){Hn[Ho]=Hn[Ho]||0;Ha=Ho;if(Hn[Ho]>0){Ha+="__ec__"+Hn[Ho]}Hn[Ho]++}Ha!=null&&(Hd[G9]=Ha)}}if(!Hc.persistent&&Hc.clean){Hc.clean()}this._rawCount=this._count=v1;this._extent={};FF(this)};function FF(i){var e=i._invertedIndicesMap;ow(e,function(k,cc){var v=i._dimensionInfos[cc];var m=v.ordinalMeta;if(m){k=e[cc]=new D(m.categories.length);for(var Z=0;Z<k.length;Z++){k[Z]=NaN}for(var Z=0;Z<i._count;Z++){k[i.get(cc,Z)]=Z}}})}tB._getNameFromStore=function(k){var v=this._nameDimIdx;if(v!=null){var v1=this._chunkSize;var m=Math.floor(k/v1);var cc=k%v1;var Z=this.dimensions[v];var e=this._dimensionInfos[Z].ordinalMeta;if(e){return e.categories[k]}else{var i=this._storage[Z][m];return i&&i[cc]}}};tB._getIdFromStore=function(m){var i=this._idDimIdx;if(i!=null){var v1=this._chunkSize;var v=Math.floor(m/v1);var cc=m%v1;var Z=this.dimensions[i];var e=this._dimensionInfos[Z].ordinalMeta;if(e){return e.categories[m]}else{var k=this._storage[Z][v];return k&&k[cc]}}};tB.count=function(){return this._count};tB.getIndices=function(){if(this._indices){var k=this._indices.constructor;return new k(this._indices.buffer,0,this._count)}var k=Ad(this);var e=new k(this.count());for(var m=0;m<e.length;m++){e[m]=m}return e};tB.get=function(Z,e){if(!(e>=0&&e<this._count)){return NaN}var cc=this._storage;if(!cc[Z]){return NaN}e=this.getRawIndex(e);var k=Math.floor(e/this._chunkSize);var v=e%this._chunkSize;var i=cc[Z][k];var m=i[v];return m};tB.getByRawIndex=function(v,Z){if(!(Z>=0&&Z<this._rawCount)){return NaN}var k=this._storage[v];if(!k){return NaN}var i=Math.floor(Z/this._chunkSize);var m=Z%this._chunkSize;var e=k[i];return e[m]};tB._getFast=function(m,v){var i=Math.floor(v/this._chunkSize);var k=v%this._chunkSize;var e=this._storage[m][i];return e[k]};tB.getValues=function(Z,k){var m=[];if(!Fw(Z)){k=Z;Z=this.dimensions}for(var v=0,e=Z.length;v<e;v++){m.push(this.get(Z[v],k))}return m};tB.hasValue=function(m){var k=this._dimensionsSummary.dataDimsOnCoord;var Z=this._dimensionInfos;for(var v=0,e=k.length;v<e;v++){if(Z[k[v]].type!=="ordinal"&&isNaN(this.get(k[v],m))){return false}}return true};tB.getDataExtent=function(Z){Z=this.getDimension(Z);var v1=this._storage[Z];var cc=d8();if(!v1){return cc}var e=this.count();var v=!this._indices;var v2;if(v){return this._rawExtent[Z].slice()}v2=this._extent[Z];if(v2){return v2.slice()}v2=cc;var k=v2[0];var v3=v2[1];for(var m=0;m<e;m++){var G4=this._getFast(Z,this.getRawIndex(m));G4<k&&(k=G4);G4>v3&&(v3=G4)}v2=[k,v3];this._extent[Z]=v2;return v2};tB.getApproximateExtent=function(e){e=this.getDimension(e);return this._approximateExtent[e]||this.getDataExtent(e)};tB.setApproximateExtent=function(e,i){i=this.getDimension(i);this._approximateExtent[i]=e.slice()};tB.getCalculationInfo=function(e){return this._calculationInfo[e]};tB.setCalculationInfo=function(e,i){sQ(e)?bY(this._calculationInfo,e):(this._calculationInfo[e]=i)};tB.getSum=function(cc){var k=this._storage[cc];var v=0;if(k){for(var m=0,e=this.count();m<e;m++){var Z=this.get(cc,m);if(!isNaN(Z)){v+=Z}}}return v};tB.rawIndexOf=function(m,k){var e=m&&this._invertedIndicesMap[m];if(nK){if(!e){throw new Error("Do not supported yet")}}var i=e[k];if(i==null||isNaN(i)){return -1}return i};tB.indexOfName=function(k){for(var m=0,e=this.count();m<e;m++){if(this.getName(m)===k){return m}}return -1};tB.indexOfRawIndex=function(k){if(!this._indices){return k}if(k>=this._rawCount||k<0){return -1}var Z=this._indices;var i=Z[k];if(i!=null&&i<this._count&&i===k){return k}var v=0;var m=this._count-1;while(v<=m){var e=(v+m)/2|0;if(Z[e]<k){v=e+1}else{if(Z[e]>k){m=e-1}else{return e}}}return -1};tB.indicesOfNearest=function(v,G4,e){var cc=this._storage;var v2=cc[v];var k=[];if(!v2){return k}if(e==null){e=Infinity}var G5=Number.MAX_VALUE;var G6=-1;for(var m=0,Z=this.count();m<Z;m++){var v3=G4-this.get(v,m);var v1=Math.abs(v3);if(v3<=e&&v1<=G5){if(v1<G5||(v3>=0&&G6<0)){G5=v1;G6=v3;k.length=0}k.push(m)}}return k};tB.getRawIndex=xB;function xB(e){return e}function pv(e){if(e<this._count&&e>=0){return this._indices[e]}return -1}tB.getRawDataItem=function(e){if(!this._rawData.persistent){var v=[];for(var k=0;k<this.dimensions.length;k++){var m=this.dimensions[k];v.push(this.get(m,e))}return v}else{return this._rawData.getItem(this.getRawIndex(e))}};tB.getName=function(e){var i=this.getRawIndex(e);return this._nameList[i]||this._getNameFromStore(i)||""};tB.getId=function(e){return vI(this,this.getRawIndex(e))};function vI(i,e){var k=i._idList[e];if(k==null){k=i._getIdFromStore(e)}if(k==null){k=bm+e}return k}function uA(e){if(!Fw(e)){e=[e]}return e}function oG(k,m){for(var e=0;e<m.length;e++){if(!k._dimensionInfos[m[e]]){console.error("Unkown dimension "+m[e])}}}tB.each=function(v3,e,Z,cc){if(!this._count){return}if(typeof v3==="function"){cc=Z;Z=e;e=v3;v3=[]}Z=Z||cc||this;v3=De(uA(v3),this.getDimension,this);if(nK){oG(this,v3)}var v2=v3.length;for(var v=0;v<this.count();v++){switch(v2){case 0:e.call(Z,v);break;case 1:e.call(Z,this.get(v3[0],v),v);break;case 2:e.call(Z,this.get(v3[0],v),this.get(v3[1],v),v);break;default:var m=0;var v1=[];for(;m<v2;m++){v1[m]=this.get(v3[m],v)}v1[m]=v;e.apply(Z,v1)}}};tB.filterSelf=function(m,v3,v,Hb){if(!this._count){return}if(typeof m==="function"){Hb=v;v=v3;v3=m;m=[]}v=v||Hb||this;m=De(uA(m),this.getDimension,this);if(nK){oG(this,m)}var G8=this.count();var Z=Ad(this);var v2=new Z(G8);var Ha=[];var v1=m.length;var G6=0;var G9=m[0];for(var G7=0;G7<G8;G7++){var e;var G5=this.getRawIndex(G7);if(v1===0){e=v3.call(v,G7)}else{if(v1===1){var cc=this._getFast(G9,G5);e=v3.call(v,cc,G7)}else{for(var G4=0;G4<v1;G4++){Ha[G4]=this._getFast(G9,G5)}Ha[G4]=G7;e=v3.apply(v,Ha)}}if(e){v2[G6++]=G5}}if(G6<G8){this._indices=v2}this._count=G6;this._extent={};this.getRawIndex=this._indices?pv:xB;return this};tB.selectRange=function(v3){if(!this._count){return}var Z=[];for(var Hc in v3){if(v3.hasOwnProperty(Hc)){Z.push(Hc)}}if(nK){oG(this,Z)}var Hm=Z.length;if(!Hm){return}var G5=this.count();var v2=Ad(this);var Hi=new v2(G5);var m=0;var e=Z[0];var Ha=v3[e][0];var He=v3[e][1];var G6=false;if(!this._indices){var G4=0;if(Hm===1){var v=this._storage[Z[0]];for(var Hb=0;Hb<this._chunkCount;Hb++){var G8=v[Hb];var Hf=Math.min(this._count-Hb*this._chunkSize,this._chunkSize);for(var Hd=0;Hd<Hf;Hd++){var Hl=G8[Hd];if(Hl>=Ha&&Hl<=He){Hi[m++]=G4}G4++}}G6=true}else{if(Hm===2){var v=this._storage[e];var cc=this._storage[Z[1]];var G9=v3[Z[1]][0];var G7=v3[Z[1]][1];for(var Hb=0;Hb<this._chunkCount;Hb++){var G8=v[Hb];var Hk=cc[Hb];var Hf=Math.min(this._count-Hb*this._chunkSize,this._chunkSize);for(var Hd=0;Hd<Hf;Hd++){var Hl=G8[Hd];var Hj=Hk[Hd];if(Hl>=Ha&&Hl<=He&&Hj>=G9&&Hj<=G7){Hi[m++]=G4}G4++}}G6=true}}}if(!G6){if(Hm===1){for(var Hd=0;Hd<G5;Hd++){var v1=this.getRawIndex(Hd);var Hl=this._getFast(e,v1);if(Hl>=Ha&&Hl<=He){Hi[m++]=v1}}}else{for(var Hd=0;Hd<G5;Hd++){var Hh=true;var v1=this.getRawIndex(Hd);for(var Hb=0;Hb<Hm;Hb++){var Hg=Z[Hb];var Hl=this._getFast(Hc,v1);if(Hl<v3[Hg][0]||Hl>v3[Hg][1]){Hh=false}}if(Hh){Hi[m++]=this.getRawIndex(Hd)}}}}if(m<G5){this._indices=Hi}this._count=m;this._extent={};this.getRawIndex=this._indices?pv:xB;return this};tB.mapArray=function(v,i,k,m){if(typeof v==="function"){m=k;k=i;i=v;v=[]}k=k||m||this;var e=[];this.each(v,function(){e.push(i&&i.apply(this,arguments))},k);return e};function BZ(e,k){var v3=e.dimensions;var v1=new wF(De(v3,e.getDimensionInfo,e),e.hostModel);dP(v1,e);var cc=v1._storage={};var v2=e._storage;var m=bY({},e._rawExtent);for(var v=0;v<v3.length;v++){var Z=v3[v];if(v2[Z]){if(eB(k,Z)>=0){cc[Z]=nV(v2[Z]);m[Z]=d8()}else{cc[Z]=v2[Z]}}}return v1}function nV(i){var e=new Array(i.length);for(var k=0;k<i.length;k++){e[k]=rU(i[k])}return e}function d8(){return[Infinity,-Infinity]}tB.map=function(cc,G8,v,v3){v=v||v3||this;cc=De(uA(cc),this.getDimension,this);if(nK){oG(this,cc)}var Hc=BZ(this,cc);Hc._indices=this._indices;Hc.getRawIndex=Hc._indices?pv:xB;var Hd=Hc._storage;var Hb=[];var v1=this._chunkSize;var Hh=cc.length;var He=this.count();var m=[];var k=Hc._rawExtent;for(var Hf=0;Hf<He;Hf++){for(var G6=0;G6<Hh;G6++){m[G6]=this.get(cc[G6],Hf)}m[Hh]=Hf;var G7=G8&&G8.apply(v,m);if(G7!=null){if(typeof G7!=="object"){Hb[0]=G7;G7=Hb}var v2=this.getRawIndex(Hf);var e=Math.floor(v2/v1);var Z=v2%v1;for(var Ha=0;Ha<G7.length;Ha++){var G9=cc[Ha];var Hg=G7[Ha];var G5=k[G9];var G4=Hd[G9];if(G4){G4[e][Z]=Hg}if(Hg<G5[0]){G5[0]=Hg}if(Hg>G5[1]){G5[1]=Hg}}}}return Hc};tB.downSample=function(He,Hh,Hd,cc){var Hc=BZ(this,[He]);var e=Hc._storage;var Hg=[];var G5=Math.floor(1/Hh);var v2=e[He];var G8=this.count();var v=this._chunkSize;var v3=Hc._rawExtent[He];var Ha=new (Ad(this))(G8);var m=0;for(var G7=0;G7<G8;G7+=G5){if(G5>G8-G7){G5=G8-G7;Hg.length=G5}for(var G6=0;G6<G5;G6++){var G9=this.getRawIndex(G7+G6);var Hb=Math.floor(G9/v);var Hf=G9%v;Hg[G6]=v2[Hb][Hf]}var G4=Hd(Hg);var Hi=this.getRawIndex(Math.min(G7+cc(Hg,G4)||0,G8-1));var Z=Math.floor(Hi/v);var v1=Hi%v;v2[Z][v1]=G4;if(G4<v3[0]){v3[0]=G4}if(G4>v3[1]){v3[1]=G4}Ha[m++]=Hi}Hc._count=m;Hc._indices=Ha;Hc.getRawIndex=pv;return Hc};tB.getItemModel=function(e){var i=this.hostModel;return new fg(this.getRawDataItem(e),i,i&&i.ecModel)};tB.diff=function(i){var e=this;return new Fp(i?i.getIndices():[],this.getIndices(),function(k){return vI(i,k)},function(k){return vI(e,k)})};tB.getVisual=function(e){var i=this._visual;return i&&i[e]};tB.setVisual=function(i,k){if(sQ(i)){for(var e in i){if(i.hasOwnProperty(e)){this.setVisual(e,i[e])}}return}this._visual=this._visual||{};this._visual[i]=k};tB.setLayout=function(i,k){if(sQ(i)){for(var e in i){if(i.hasOwnProperty(e)){this.setLayout(e,i[e])}}return}this._layout[i]=k};tB.getLayout=function(e){return this._layout[e]};tB.getItemLayout=function(e){return this._itemLayouts[e]};tB.setItemLayout=function(e,k,i){this._itemLayouts[e]=i?bY(this._itemLayouts[e]||{},k):k};tB.clearItemLayouts=function(){this._itemLayouts.length=0};tB.getItemVisual=function(e,k,i){var m=this._itemVisuals[e];var v=m&&m[k];if(v==null&&!i){return this.getVisual(k)}return v};tB.setItemVisual=function(e,k,v){var m=this._itemVisuals[e]||{};var Z=this.hasItemVisual;this._itemVisuals[e]=m;if(sQ(k)){for(var i in k){if(k.hasOwnProperty(i)){m[i]=k[i];Z[i]=true}}return}m[k]=v;Z[k]=true};tB.clearAllVisual=function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};var z4=function(e){e.seriesIndex=this.seriesIndex;e.dataIndex=this.dataIndex;e.dataType=this.dataType};tB.setItemGraphicEl=function(e,i){var k=this.hostModel;if(i){i.dataIndex=e;i.dataType=this.dataType;i.seriesIndex=k&&k.seriesIndex;if(i.type==="group"){i.traverse(z4,i)}}this._graphicEls[e]=i};tB.getItemGraphicEl=function(e){return this._graphicEls[e]};tB.eachItemGraphicEl=function(e,i){ow(this._graphicEls,function(m,k){if(m){e&&e.call(i,m,k)}})};tB.cloneShallow=function(k){if(!k){var i=De(this.dimensions,this.getDimensionInfo,this);k=new wF(i,this.hostModel)}k._storage=this._storage;dP(k,this);if(this._indices){var e=this._indices.constructor;k._indices=new e(this._indices)}else{k._indices=null}k.getRawIndex=k._indices?pv:xB;k._extent=B8(this._extent);k._approximateExtent=B8(this._approximateExtent);return k};tB.wrapMethod=function(e,i){var k=this[e];if(typeof k!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var m=k.apply(this,arguments);return i.apply(this,[m].concat(hS(arguments)))}};tB.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];tB.CHANGABLE_METHODS=["filterSelf","selectRange"];function Gp(v1,Hc,k){if(!pE.isInstance(Hc)){Hc=pE.seriesDataToSource(Hc)}k=k||{};v1=(v1||[]).slice();var v=(k.dimsDef||[]).slice();var v2=BN(k.encodeDef);var G8=BN();var G9=BN();var G6=[];var G7=Cq(Hc,v1,v,k.dimCount);for(var Hf=0;Hf<G7;Hf++){var G4=v[Hf]=bY({},sU(v[Hf])?v[Hf]:{name:v[Hf]});var G5=G4.name;var e=G6[Hf]={otherDims:{}};if(G5!=null&&G8.get(G5)==null){e.name=e.displayName=G5;G8.set(G5,Hf)}G4.type!=null&&(e.type=G4.type);G4.displayName!=null&&(e.displayName=G4.displayName)}v2.each(function(Hh,Hg){Hh=lW(Hh).slice();var i=v2.set(Hg,[]);ow(Hh,function(Hj,Hi){vi(Hj)&&(Hj=G8.get(Hj));if(Hj!=null&&Hj<G7){i[Hi]=Hj;Hb(G6[Hj],Hg,Hi)}})});var Ha=0;ow(v1,function(Hn,Hj){var Hl;var Hn;var Hi;var Hg;if(vi(Hn)){Hl=Hn;Hn={}}else{Hl=Hn.name;var Hh=Hn.ordinalMeta;Hn.ordinalMeta=null;Hn=B8(Hn);Hn.ordinalMeta=Hh;Hi=Hn.dimsDef;Hg=Hn.otherDims;Hn.name=Hn.coordDim=Hn.coordDimIndex=Hn.dimsDef=Hn.otherDims=null}var Hm=lW(v2.get(Hl));if(!Hm.length){for(var Hk=0;Hk<(Hi&&Hi.length||1);Hk++){while(Ha<G6.length&&G6[Ha].coordDim!=null){Ha++}Ha<G6.length&&Hm.push(Ha++)}}ow(Hm,function(Hp,Ho){var i=G6[Hp];Hb(Ch(i,Hn),Hl,Ho);if(i.name==null&&Hi){i.name=i.displayName=Hi[Ho]}Hg&&Ch(i.otherDims,Hg)})});function Hb(i,Hg,Hh){if(vj.get(Hg)!=null){i.otherDims[Hg]=Hh}else{i.coordDim=Hg;i.coordDimIndex=Hh;G9.set(Hg,true)}}var He=k.generateCoord;var cc=k.generateCoordCount;var Z=cc!=null;cc=He?(cc||1):0;var m=He||"value";for(var v3=0;v3<G7;v3++){var e=G6[v3]=G6[v3]||{};var Hd=e.coordDim;if(Hd==null){e.coordDim=n2(m,G9,Z);e.coordDimIndex=0;if(!He||cc<=0){e.isExtraCoord=true}cc--}e.name==null&&(e.name=n2(e.coordDim,G8));if(e.type==null&&uI(Hc,v3,e.name)){e.type="ordinal"}}return G6}function Cq(m,i,k,v){var e=Math.max(m.dimensionsDetectCount||1,i.length,k.length,v||0);ow(i,function(cc){var Z=cc.dimsDef;Z&&(e=Math.max(e,Z.length))});return e}function n2(e,m,v){if(v||m.get(e)!=null){var k=0;while(m.get(e+k)!=null){k++}e+=k}m.set(e,true);return e}var xH=function(i,e){e=e||{};return Gp(e.coordDimensions||[],i,{dimsDef:e.dimensionsDefine||i.dimensionsDefine,encodeDef:e.encodeDefine||i.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};function jE(m,cc,i){i=i||{};var v3=i.byIndex;var k=i.stackedCoordDimension;var G4=!!(m&&m.get("stack"));var v;var G6;var G5;var e;ow(cc,function(G8,G7){if(vi(G8)){cc[G7]=G8={name:G8}}if(G4&&!G8.isExtraCoord){if(!v3&&!v&&G8.ordinalMeta){v=G8}if(!G6&&G8.type!=="ordinal"&&G8.type!=="time"&&(!k||k===G8.coordDim)){G6=G8}}});if(G6&&(v3||v)){G5="__\0ecstackresult";e="__\0ecstackedover";if(v){v.createInvertedIndices=true}var v1=G6.coordDim;var Z=G6.type;var v2=0;ow(cc,function(G7){if(G7.coordDim===v1){v2++}});cc.push({name:G5,coordDim:v1,coordDimIndex:v2,type:Z,isExtraCoord:true,isCalculationCoord:true});v2++;cc.push({name:e,coordDim:e,coordDimIndex:v2,type:Z,isExtraCoord:true,isCalculationCoord:true})}return{stackedDimension:G6&&G6.name,stackedByDimension:v&&v.name,isStackedByIndex:v3,stackedOverDimension:e,stackResultDimension:G5}}function lt(i,e,k){return e&&e===i.getCalculationInfo("stackedDimension")&&(k!=null?k===i.getCalculationInfo("stackedByDimension"):i.getCalculationInfo("isStackedByIndex"))}function a(e,v,i){i=i||{};if(!pE.isInstance(e)){e=pE.seriesDataToSource(e)}var m=v.get("coordinateSystem");var G6=fk.get(m);var k=ru(v);var Z;if(k){Z=De(k.coordSysDims,function(Ha){var G8={name:Ha};var G9=k.axisMap.get(Ha);if(G9){var G7=G9.get("type");G8.type=pX(G7)}return G8})}if(!Z){Z=(G6&&(G6.getDimensionsInfo?G6.getDimensionsInfo():G6.dimensions.slice()))||["x","y"]}var cc=xH(e,{coordDimensions:Z,generateCoord:i.generateCoord});var v3;var v2;k&&ow(cc,function(G7,Ha){var G9=G7.coordDim;var G8=k.categoryAxisMap.get(G9);if(G8){if(v3==null){v3=Ha}G7.ordinalMeta=G8.getOrdinalMeta()}if(G7.otherDims.itemName!=null){v2=true}});if(!v2&&v3!=null){cc[v3].otherDims.itemName=0}var G5=jE(v,cc);var v1=new wF(cc,v);v1.setCalculationInfo(G5);var G4=(v3!=null&&E2(e))?function(Ha,G9,G7,G8){return G8===v3?G7:this.defaultDimValueGetter(Ha,G9,G7,G8)}:null;v1.hasItemOption=false;v1.initData(e,null,G4);return v1}function E2(i){if(i.sourceFormat===fp){var e=ta(i.data||[]);return e!=null&&!Fw(w7(e))}}function ta(k){var e=0;while(e<k.length&&k[e]==null){e++}return k[e]}function dq(e){this._setting=e||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}dq.prototype.parse=function(e){return e};dq.prototype.getSetting=function(e){return this._setting[e]};dq.prototype.contain=function(i){var e=this._extent;return i>=e[0]&&i<=e[1]};dq.prototype.normalize=function(i){var e=this._extent;if(e[1]===e[0]){return 0.5}return(i-e[0])/(e[1]-e[0])};dq.prototype.scale=function(i){var e=this._extent;return i*(e[1]-e[0])+e[0]};dq.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]);e[1]>i[1]&&(i[1]=e[1])};dq.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))};dq.prototype.getExtent=function(){return this._extent.slice()};dq.prototype.setExtent=function(k,e){var i=this._extent;if(!isNaN(k)){i[0]=k}if(!isNaN(e)){i[1]=e}};dq.prototype.getTicksLabels=function(){var m=[];var k=this.getTicks();for(var e=0;e<k.length;e++){m.push(this.getLabel(k[e]))}return m};dq.prototype.isBlank=function(){return this._isBlank},dq.prototype.setBlank=function(e){this._isBlank=e};zN(dq);xw(dq,{registerWhenExtend:true});function lp(e){this.categories=e.categories||[];this._needCollect=e.needCollect;this._deduplication=e.deduplication;this._map}lp.createByAxisModel=function(i){var k=i.option;var m=k.data;var e=m&&De(m,cJ);return new lp({categories:e,needCollect:!e,deduplication:k.dedplication!==false})};var ce=lp.prototype;ce.getOrdinal=function(e){return pH(this).get(e)};ce.parseAndCollect=function(m){var e;var k=this._needCollect;if(typeof m!=="string"&&!k){return m}if(k&&!this._deduplication){e=this.categories.length;this.categories[e]=m;return e}var i=pH(this);e=i.get(m);if(e==null){if(k){e=this.categories.length;this.categories[e]=m;i.set(m,e)}else{e=NaN}}return e};function pH(e){return e._map||(e._map=BN(e.categories))}function cJ(e){if(sU(e)&&e.value!=null){return e.value}else{return e+""}}var tX=dq.prototype;var D3=dq.extend({type:"ordinal",init:function(e,i){if(!e||Fw(e)){e=new lp({categories:e})}this._ordinalMeta=e;this._extent=i||[0,e.categories.length-1]},parse:function(e){return typeof e==="string"?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){e=this.parse(e);return tX.contain.call(this,e)&&this._ordinalMeta.categories[e]!=null},normalize:function(e){return tX.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(tX.scale.call(this,e))},getTicks:function(){var i=[];var e=this._extent;var k=e[0];while(k<=e[1]){i.push(k);k++}return i},getLabel:function(e){return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,i){this.unionExtent(e.getApproximateExtent(i))},niceTicks:U,niceExtent:U});D3.create=function(){return new D3()};var tD=EE;function Ck(cc,e,v1,k){var v2={};var Z=cc[1]-cc[0];var i=v2.interval=X(Z/e,true);if(v1!=null&&i<v1){i=v2.interval=v1}if(k!=null&&i>k){i=v2.interval=k}var v=v2.intervalPrecision=ea(i);var m=v2.niceTickExtent=[tD(Math.ceil(cc[0]/i)*i,v),tD(Math.floor(cc[1]/i)*i,v)];Dt(m,cc);return v2}function ea(e){return tf(e)+2}function gL(i,e,k){i[e]=Math.max(Math.min(i[e],k[1]),k[0])}function Dt(e,i){!isFinite(e[0])&&(e[0]=i[0]);!isFinite(e[1])&&(e[1]=i[1]);gL(e,0,i);gL(e,1,i);if(e[0]>e[1]){e[0]=e[1]}}function DX(i,v,e,cc){var Z=[];if(!i){return Z}var m=10000;if(v[0]<e[0]){Z.push(v[0])}var k=e[0];while(k<=e[1]){Z.push(k);k=tD(k+i,cc);if(k===Z[Z.length-1]){break}if(Z.length>m){return[]}}if(v[1]>(Z.length?Z[Z.length-1]:e[1])){Z.push(v[1])}return Z}var EX=EE;var BD=dq.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(k,e){var i=this._extent;if(!isNaN(k)){i[0]=parseFloat(k)}if(!isNaN(e)){i[1]=parseFloat(e)}},unionExtent:function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]);e[1]>i[1]&&(i[1]=e[1]);BD.prototype.setExtent.call(this,i[0],i[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e;this._niceExtent=this._extent.slice();this._intervalPrecision=ea(e)},getTicks:function(){return DX(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){var m=[];var k=this.getTicks();for(var e=0;e<k.length;e++){m.push(this.getLabel(k[e]))}return m},getLabel:function(k,i){if(k==null){return""}var e=i&&i.precision;if(e==null){e=tf(k)||0}else{if(e==="auto"){e=this._intervalPrecision}}k=EX(k,e,true);return jK(k)},niceTicks:function(Z,k,i){Z=Z||5;var v=this._extent;var m=v[1]-v[0];if(!isFinite(m)){return}if(m<0){m=-m;v.reverse()}var e=Ck(v,Z,k,i);this._intervalPrecision=e.intervalPrecision;this._interval=e.interval;this._niceExtent=e.niceTickExtent},niceExtent:function(k){var v=this._extent;if(v[0]===v[1]){if(v[0]!==0){var e=v[0];if(!k.fixMax){v[1]+=e/2;v[0]-=e/2}else{v[0]-=e/2}}else{v[1]=1}}var m=v[1]-v[0];if(!isFinite(m)){v[0]=0;v[1]=1}this.niceTicks(k.splitNumber,k.minInterval,k.maxInterval);var i=this._interval;if(!k.fixMin){v[0]=EX(Math.floor(v[0]/i)*i)}if(!k.fixMax){v[1]=EX(Math.ceil(v[1]/i)*i)}}});BD.create=function(){return new BD()};var hA="__ec_stack_";function a1(e){return e.get("stack")||hA+e.seriesIndex}function kb(e){return e.dim+e.index}function nG(k,v2){var Z=[];var v=k.axis;var m="axis0";if(v.type!=="category"){return}var cc=v.getBandWidth();for(var v1=0;v1<k.count||0;v1++){Z.push(Ch({bandWidth:cc,axisKey:m,stackId:hA+v1},k))}var e=nz(Z,v2);var G4=[];for(var v1=0;v1<k.count;v1++){var v3=e[m][hA+v1];v3.offsetCenter=v3.offset+v3.width/2;G4.push(v3)}return G4}function kA(e,k){var i=De(e,function(v1){var v3=v1.getData();var G4=v1.coordinateSystem;var v=G4.getBaseAxis();var cc=v.getExtent();var v2=v.type==="category"?v.getBandWidth():(Math.abs(cc[1]-cc[0])/v3.count());var G6=yW(v1.get("barWidth"),v2);var m=yW(v1.get("barMaxWidth"),v2);var G5=v1.get("barGap");var Z=v1.get("barCategoryGap");return{bandWidth:v2,barWidth:G6,barMaxWidth:m,barGap:G5,barCategoryGap:Z,axisKey:kb(v),stackId:a1(v1)}});return nz(i,k)}function nz(k,m){var i={};ow(k,function(G6,G5){var cc=G6.axisKey;var v3=G6.bandWidth;var G7=i[cc]||{bandWidth:v3,remainedWidth:v3,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var Z=G7.stacks;i[cc]=G7;var v2=G6.stackId;if(!Z[v2]){G7.autoWidthCount++}Z[v2]=Z[v2]||{width:0,maxWidth:0};var G8=G6.barWidth;if(G8&&!Z[v2].width){Z[v2].width=G8;G8=Math.min(G7.remainedWidth,G8);G7.remainedWidth-=G8}var v=G6.barMaxWidth;v&&(Z[v2].maxWidth=v);var G4=G6.barGap;(G4!=null)&&(G7.gap=G4);var v1=G6.barCategoryGap;(v1!=null)&&(G7.categoryGap=v1)});var e={};ow(i,function(G9,cc){e[cc]={};var v=G9.stacks;var v2=G9.bandWidth;var Z=yW(G9.categoryGap,v2);var G6=yW(G9.gap,1);var v1=G9.remainedWidth;var G7=G9.autoWidthCount;var G5=(v1-Z)/(G7+(G7-1)*G6);G5=Math.max(G5,0);ow(v,function(Hb,Ha){var Hc=Hb.maxWidth;if(Hc&&Hc<G5){Hc=Math.min(Hc,v1);if(Hb.width){Hc=Math.min(Hc,Hb.width)}v1-=Hc;Hb.width=Hc;G7--}});G5=(v1-Z)/(G7+(G7-1)*G6);G5=Math.max(G5,0);var G4=0;var G8;ow(v,function(Hb,Ha){if(!Hb.width){Hb.width=G5}G8=Hb;G4+=Hb.width*(1+G6)});if(G8){G4-=G8.width*G6}var v3=-G4/2;ow(v,function(Hb,Ha){e[cc][Ha]=e[cc][Ha]||{offset:v3,width:Hb.width};v3+=Hb.width*(1+G6)})});return e}function bz(i,e,m){var k=[];e.eachSeriesByType(i,function(cc){if(cc.coordinateSystem&&cc.coordinateSystem.type==="cartesian2d"){k.push(cc)}});var v=kA(k);var Z={};ow(k,function(He){var Hp=He.getData();var Hd=He.coordinateSystem;var G8=Hd.getBaseAxis();var G4=a1(He);var G9=v[kb(G8)][G4];var G5=G9.offset;var v3=G9.width;var Hi=Hd.getOtherAxis(G8);var cc=He.get("barMinHeight")||0;Z[G4]=Z[G4]||[];Hp.setLayout({offset:G5,size:v3});var v1=Hp.mapDimension(Hi.dim);var Ha=Hp.mapDimension(G8.dim);var Hl=lt(Hp,v1,Ha);var Hk=Hi.isHorizontal();var v2=(G8.onZero||Hl)?Hi.toGlobalCoord(Hi.dataToCoord(0)):Hi.getGlobalExtent()[0];for(var Hb=0,Hj=Hp.count();Hb<Hj;Hb++){var Hg=Hp.get(v1,Hb);var Hm=Hp.get(Ha,Hb);if(isNaN(Hg)){continue}var Ho=Hg>=0?"p":"n";var Hn=v2;if(Hl){if(!Z[G4][Hm]){Z[G4][Hm]={p:v2,n:v2}}Hn=Z[G4][Hm][Ho]}var G7;var G6;var Hf;var Hc;if(Hk){var Hh=Hd.dataToPoint([Hg,Hm]);G7=Hn;G6=Hh[1]+G5;Hf=Hh[0]-v2;Hc=v3;if(Math.abs(Hf)<cc){Hf=(Hf<0?-1:1)*cc}Hl&&(Z[G4][Hm][Ho]+=Hf)}else{var Hh=Hd.dataToPoint([Hm,Hg]);G7=Hh[0]+G5;G6=Hn;Hf=v3;Hc=Hh[1]-v2;if(Math.abs(Hc)<cc){Hc=(Hc<=0?-1:1)*cc}Hl&&(Z[G4][Hm][Ho]+=Hc)}Hp.setItemLayout(Hb,{x:G7,y:G6,width:Hf,height:Hc})}},this)}var jx=BD.prototype;var A0=Math.ceil;var eY=Math.floor;var rT=1000;var rk=rT*60;var jm=rk*60;var v8=jm*24;var GT=function(i,e,v,m){while(v<m){var k=v+m>>>1;if(i[k][1]<e){v=k+1}else{m=k}}return v};var yb=BD.extend({type:"time",getLabel:function(k){var i=this._stepLvl;var e=new Date(k);return mp(i[0],e,this.getSetting("useUTC"))},niceExtent:function(i){var k=this._extent;if(k[0]===k[1]){k[0]-=v8;k[1]+=v8}if(k[1]===-Infinity&&k[0]===Infinity){var m=new Date();k[1]=+new Date(m.getFullYear(),m.getMonth(),m.getDate());k[0]=k[1]-v8}this.niceTicks(i.splitNumber,i.minInterval,i.maxInterval);var e=this._interval;if(!i.fixMin){k[0]=EE(eY(k[0]/e)*e)}if(!i.fixMax){k[1]=EE(A0(k[1]/e)*e)}},niceTicks:function(G5,G7,m){G5=G5||10;var G6=this._extent;var v3=G6[1]-G6[0];var v=v3/G5;if(G7!=null&&v<G7){v=G7}if(m!=null&&v>m){v=m}var v1=xu.length;var G4=GT(xu,v,0,v1);var e=xu[Math.min(G4,v1-1)];var k=e[1];if(e[0]==="year"){var i=v3/k;var Z=X(i/G5,true);k*=Z}var v2=this.getSetting("useUTC")?0:(new Date(+G6[0]||+G6[1])).getTimezoneOffset()*60*1000;var cc=[Math.round(A0((G6[0]-v2)/k)*k+v2),Math.round(eY((G6[1]-v2)/k)*k+v2)];Dt(cc,G6);this._stepLvl=e;this._interval=k;this._niceExtent=cc},parse:function(e){return +u2(e)}});ow(["contain","normalize"],function(e){yb.prototype[e]=function(i){return jx[e].call(this,this.parse(i))}});var xu=[["hh:mm:ss",rT],["hh:mm:ss",rT*5],["hh:mm:ss",rT*10],["hh:mm:ss",rT*15],["hh:mm:ss",rT*30],["hh:mm\nMM-dd",rk],["hh:mm\nMM-dd",rk*5],["hh:mm\nMM-dd",rk*10],["hh:mm\nMM-dd",rk*15],["hh:mm\nMM-dd",rk*30],["hh:mm\nMM-dd",jm],["hh:mm\nMM-dd",jm*2],["hh:mm\nMM-dd",jm*6],["hh:mm\nMM-dd",jm*12],["MM-dd\nyyyy",v8],["MM-dd\nyyyy",v8*2],["MM-dd\nyyyy",v8*3],["MM-dd\nyyyy",v8*4],["MM-dd\nyyyy",v8*5],["MM-dd\nyyyy",v8*6],["week",v8*7],["MM-dd\nyyyy",v8*10],["week",v8*14],["week",v8*21],["month",v8*31],["week",v8*42],["month",v8*62],["week",v8*42],["quarter",v8*380/4],["month",v8*31*4],["month",v8*31*5],["half-year",v8*380/2],["month",v8*31*8],["month",v8*31*10],["year",v8*380]];yb.create=function(e){return new yb({useUTC:e.ecModel.get("useUTC")})};var Ee=dq.prototype;var jp=BD.prototype;var kD=tf;var e5=EE;var va=Math.floor;var of=Math.ceil;var c0=Math.pow;var EQ=Math.log;var gm=dq.extend({type:"log",base:10,$constructor:function(){dq.apply(this,arguments);this._originalScale=new BD()},getTicks:function(){var i=this._originalScale;var k=this._extent;var e=i.getExtent();return De(jp.getTicks.call(this),function(v){var m=EE(c0(this.base,v));m=(v===k[0]&&i.__fixMin)?Aa(m,e[0]):m;m=(v===k[1]&&i.__fixMax)?Aa(m,e[1]):m;return m},this)},getLabel:jp.getLabel,scale:function(e){e=Ee.scale.call(this,e);return c0(this.base,e)},setExtent:function(k,e){var i=this.base;k=EQ(k)/EQ(i);e=EQ(e)/EQ(i);jp.setExtent.call(this,k,e)},getExtent:function(){var m=this.base;var k=Ee.getExtent.call(this);k[0]=c0(m,k[0]);k[1]=c0(m,k[1]);var i=this._originalScale;var e=i.getExtent();i.__fixMin&&(k[0]=Aa(k[0],e[0]));i.__fixMax&&(k[1]=Aa(k[1],e[1]));return k},unionExtent:function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=EQ(e[0])/EQ(i);e[1]=EQ(e[1])/EQ(i);Ee.unionExtent.call(this,e)},unionExtentFromData:function(e,i){this.unionExtent(e.getApproximateExtent(i))},niceTicks:function(Z){Z=Z||10;var m=this._extent;var k=m[1]-m[0];if(k===Infinity||k<=0){return}var e=rb(k);var v=Z/k*e;if(v<=0.5){e*=10}while(!isNaN(e)&&Math.abs(e)<1&&Math.abs(e)>0){e*=10}var i=[EE(of(m[0]/e)*e),EE(va(m[1]/e)*e)];this._interval=e;this._niceExtent=i},niceExtent:function(i){jp.niceExtent.call(this,i);var e=this._originalScale;e.__fixMin=i.fixMin;e.__fixMax=i.fixMax}});ow(["contain","normalize"],function(e){gm.prototype[e]=function(i){i=EQ(i)/EQ(this.base);return Ee[e].call(this,i)}});gm.create=function(){return new gm()};function Aa(i,e){return e5(i,kD(e))}function Ev(Z,v2){var e=Z.type;var v1=v2.getMin();var G7=v2.getMax();var cc=v1!=null;var G6=G7!=null;var v3=Z.getExtent();var G5;var v;var G8;if(e==="ordinal"){G5=v2.getCategories().length}else{v=v2.get("boundaryGap");if(!Fw(v)){v=[v||0,v||0]}if(typeof v[0]==="boolean"){if(nK){console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.')}v=[0,0]}v[0]=yW(v[0],1);v[1]=yW(v[1],1);G8=(v3[1]-v3[0])||Math.abs(v3[0])}if(v1==null){v1=e==="ordinal"?(G5?0:NaN):v3[0]-v[0]*G8}if(G7==null){G7=e==="ordinal"?(G5?G5-1:NaN):v3[1]+v[1]*G8}if(v1==="dataMin"){v1=v3[0]}else{if(typeof v1==="function"){v1=v1({min:v3[0],max:v3[1]})}}if(G7==="dataMax"){G7=v3[1]}else{if(typeof G7==="function"){G7=G7({min:v3[0],max:v3[1]})}}(v1==null||!isFinite(v1))&&(v1=NaN);(G7==null||!isFinite(G7))&&(G7=NaN);Z.setBlank(k5(v1)||k5(G7));if(v2.getNeedCrossZero()){if(v1>0&&G7>0&&!cc){v1=0}if(v1<0&&G7<0&&!G6){G7=0}}var G4=v2.ecModel;if(G4&&(e==="time")){var m=[];var i;G4.eachSeriesByType("bar",function(G9){if(G9.coordinateSystem&&G9.coordinateSystem.type==="cartesian2d"){m.push(G9);i|=G9.getBaseAxis()===v2.axis}});if(i){var k=xM(v1,G7,v2,m);v1=k.min;G7=k.max}}return[v1,G7]}function xM(cc,G7,v1,k){var Z=v1.axis.getExtent();var v3=Z[1]-Z[0];var v2=kA(k);var G4=v1.axis.dim+v1.axis.index;var G8=v2[G4];if(G8===undefined){return{min:cc,max:G7}}var e=Infinity;ow(G8,function(G9){e=Math.min(G9.offset,e)});var v=-Infinity;ow(G8,function(G9){v=Math.max(G9.offset+G9.width,v)});e=Math.abs(e);v=Math.abs(v);var m=e+v;var G6=G7-cc;var i=(1-(e+v)/v3);var G5=((G6/i)-G6);G7+=G5*(v/m);cc-=G5*(e/m);return{min:cc,max:G7}}function ne(cc,m){var Z=Ev(cc,m);var v=m.getMin()!=null;var i=m.getMax()!=null;var v1=m.get("splitNumber");if(cc.type==="log"){cc.base=m.get("logBase")}var e=cc.type;cc.setExtent(Z[0],Z[1]);cc.niceExtent({splitNumber:v1,fixMin:v,fixMax:i,minInterval:(e==="interval"||e==="time")?m.get("minInterval"):null,maxInterval:(e==="interval"||e==="time")?m.get("maxInterval"):null});var k=m.get("interval");if(k!=null){cc.setInterval&&cc.setInterval(k)}}function mT(i,e){e=e||i.get("type");if(e){switch(e){case"category":return new D3(i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),[Infinity,-Infinity]);case"value":return new BD();default:return(dq.getClass(e)||BD).create(i)}}}function Ae(k){var m=k.scale.getExtent();var i=m[0];var e=m[1];return !((i>0&&e>0)||(i<0&&e<0))}function Fm(v2,G4,v1,G7,v){var m;var cc=0;var e=0;var G6=(G7-v)/180*Math.PI;var Z=1;if(G4.length>40){Z=Math.floor(G4.length/40)}for(var v3=0;v3<v2.length;v3+=Z){var k=v2[v3];var G5=Fg(G4[v3],v1,"center","top");G5.x+=k*Math.cos(G6);G5.y+=k*Math.sin(G6);G5.width*=1.3;G5.height*=1.3;if(!m){m=G5.clone()}else{if(m.intersect(G5)){e++;cc=Math.max(cc,e)}else{m.union(G5);e=0}}}if(cc===0&&Z>1){return Z}return(cc+1)*Z-1}function iJ(i,e){var m=i.scale;var v=m.getTicksLabels();var k=m.getTicks();if(typeof e==="string"){e=(function(Z){return function(cc){return Z.replace("{value}",cc!=null?cc:"")}})(e);return De(v,e)}else{if(typeof e==="function"){return De(k,function(cc,Z){return e(nm(i,cc),Z)},this)}else{return v}}}function nm(e,i){return e.type==="category"?e.scale.getLabel(i):i}var m4={getFormattedLabels:function(){return iJ(this.axis,this.get("axisLabel.formatter"))},getMin:function(e){var k=this.option;var i=(!e&&k.rangeStart!=null)?k.rangeStart:k.min;if(this.axis&&i!=null&&i!=="dataMin"&&typeof i!=="function"&&!k5(i)){i=this.axis.scale.parse(i)}return i},getMax:function(i){var k=this.option;var e=(!i&&k.rangeEnd!=null)?k.rangeEnd:k.max;if(this.axis&&e!=null&&e!=="dataMax"&&typeof e!=="function"&&!k5(e)){e=this.axis.scale.parse(e)}return e},getNeedCrossZero:function(){var e=this.option;return(e.rangeStart!=null||e.rangeEnd!=null)?false:!e.scale},getCoordSysModel:U,setRange:function(i,e){this.option.rangeStart=i;this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};var rm=Gi({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(v,k){var i=k.cx;var Z=k.cy;var m=k.width/2;var e=k.height/2;v.moveTo(i,Z-e);v.lineTo(i+m,Z+e);v.lineTo(i-m,Z+e);v.closePath()}});var jB=Gi({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(v,k){var i=k.cx;var Z=k.cy;var m=k.width/2;var e=k.height/2;v.moveTo(i,Z-e);v.lineTo(i+m,Z);v.lineTo(i,Z+e);v.lineTo(i-m,Z);v.closePath()}});var CZ=Gi({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(G8,Z){var G4=Z.x;var v2=Z.y;var G5=Z.width/5*3;var v=Math.max(G5,Z.height);var e=G5/2;var G6=e*e/(v-e);var k=v2-v+e+G6;var i=Math.asin(G6/e);var G7=Math.cos(i)*e;var v1=Math.sin(i);var cc=Math.cos(i);var v3=e*0.6;var m=e*0.7;G8.moveTo(G4-G7,k+G6);G8.arc(G4,k,e,Math.PI-i,Math.PI*2+i);G8.bezierCurveTo(G4+G7-v1*v3,k+G6+cc*v3,G4,v2-m,G4,v2);G8.bezierCurveTo(G4,v2-m,G4-G7+v1*v3,k+G6+cc*v3,G4-G7,k+G6);G8.closePath()}});var io=Gi({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(k,v){var i=v.height;var Z=v.width;var e=v.x;var cc=v.y;var m=Z/3*2;k.moveTo(e,cc);k.lineTo(e+m,cc+i);k.lineTo(e,cc+i/4*3);k.lineTo(e-m,cc+i);k.lineTo(e,cc);k.closePath()}});var Dk={line:yK,rect:DD,roundRect:DD,square:DD,circle:Fx,diamond:jB,pin:CZ,arrow:io,triangle:rm};var vE={line:function(e,v,i,m,k){k.x1=e;k.y1=v+m/2;k.x2=e+i;k.y2=v+m/2},rect:function(e,v,i,m,k){k.x=e;k.y=v;k.width=i;k.height=m},roundRect:function(e,v,i,m,k){k.x=e;k.y=v;k.width=i;k.height=m;k.r=Math.min(i,m)/4},square:function(e,Z,i,v,k){var m=Math.min(i,v);k.x=e;k.y=Z;k.width=m;k.height=m},circle:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.r=Math.min(i,m)/2},diamond:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.width=i;k.height=m},pin:function(e,v,i,m,k){k.x=e+i/2;k.y=v+m/2;k.width=i;k.height=m},arrow:function(e,v,i,m,k){k.x=e+i/2;k.y=v+m/2;k.width=i;k.height=m},triangle:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.width=i;k.height=m}};var pS={};ow(Dk,function(i,e){pS[e]=new i()});var lx=Gi({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var i=this.style;var e=this.shape;if(e.symbolType==="pin"&&i.textPosition==="inside"){i.textPosition=["50%","40%"];i.textAlign="center";i.textVerticalAlign="middle"}},buildPath:function(e,i,k){var m=i.symbolType;var v=pS[m];if(i.symbolType!=="none"){if(!v){m="rect";v=pS[m]}vE[m](i.x,i.y,i.width,i.height,v.shape);v.buildPath(e,v.shape,k)}}});function aY(i,m){if(this.type!=="image"){var k=this.style;var e=this.shape;if(e&&e.symbolType==="line"){k.stroke=i}else{if(this.__isEmptyBrush){k.stroke=i;k.fill=m||"#fff"}else{k.fill&&(k.fill=i);k.stroke&&(k.stroke=i)}}this.dirty(false)}}function tk(v2,cc,Z,v1,m,i,v){var k=v2.indexOf("empty")===0;if(k){v2=v2.substr(5,1).toLowerCase()+v2.substr(6)}var e;if(v2.indexOf("image://")===0){e=Fk(v2.slice(8),new BM(cc,Z,v1,m),v?"center":"cover")}else{if(v2.indexOf("path://")===0){e=Ah(v2.slice(7),{},new BM(cc,Z,v1,m),v?"center":"cover")}else{e=new lx({shape:{symbolType:v2,x:cc,y:Z,width:v1,height:m}})}}e.__isEmptyBrush=k;e.setColor=aY;e.setColor(i);return e}function Ed(e){return a(e.getSource(),e)}var mc={isDimensionStacked:lt,enableDataStack:jE};function zZ(k,i){var e=i;if(!fg.isInstance(i)){e=new fg(i);Ff(e,m4)}var m=mT(e);m.setExtent(k[0],k[1]);ne(m,e);return m}function pL(e){Ff(e,m4)}var Be=(Object.freeze||Object)({createList:Ed,getLayoutRect:kx,dataStack:mc,createScale:zZ,mixinAxisModelCommonMethods:pL,completeDimensions:Gp,createDimensions:xH,createSymbol:tk});var kW=1e-8;function Cs(i,e){return Math.abs(i-e)<kW}function DJ(v,e,v2){var k=0;var cc=v[0];if(!cc){return false}for(var m=1;m<v.length;m++){var Z=v[m];k+=lX(cc[0],cc[1],Z[0],Z[1],e,v2);cc=Z}var v1=v[0];if(!Cs(cc[0],v1[0])||!Cs(cc[1],v1[1])){k+=lX(cc[0],cc[1],v1[0],v1[1],e,v2)}return k!==0}function u3(e,i,m){this.name=e;this.geometries=i;if(!m){var k=this.getBoundingRect();m=[k.x+k.width/2,k.y+k.height/2]}else{m=[m[0],m[1]]}this.center=m}u3.prototype={constructor:u3,properties:null,getBoundingRect:function(){var v=this._rect;if(v){return v}var v1=Number.MAX_VALUE;var cc=[v1,v1];var v2=[-v1,-v1];var v3=[];var Z=[];var e=this.geometries;for(var m=0;m<e.length;m++){if(e[m].type!=="polygon"){continue}var k=e[m].exterior;n7(k,v3,Z);Ax(cc,cc,v3);C4(v2,v2,Z)}if(m===0){cc[0]=cc[1]=v2[0]=v2[1]=0}return(this._rect=new BM(cc[0],cc[1],v2[0]-cc[0],v2[1]-cc[1]))},contain:function(v3){var cc=this.getBoundingRect();var Z=this.geometries;if(!cc.contain(v3[0],v3[1])){return false}loopGeo:for(var v=0,m=Z.length;v<m;v++){if(Z[v].type!=="polygon"){continue}var v1=Z[v].exterior;var v2=Z[v].interiors;if(DJ(v1,v3[0],v3[1])){for(var e=0;e<(v2?v2.length:0);e++){if(DJ(v2[e])){continue loopGeo}}return true}}return false},transformTo:function(G6,G4,m,G8){var G5=this.getBoundingRect();var e=G5.width/G5.height;if(!m){m=e*G8}else{if(!G8){G8=m/e}}var v3=new BM(G6,G4,m,G8);var Z=G5.calculateTransform(v3);var v=this.geometries;for(var v1=0;v1<v.length;v1++){if(v[v1].type!=="polygon"){continue}var cc=v[v1].exterior;var G7=v[v1].interiors;for(var k=0;k<cc.length;k++){aZ(cc[k],cc[k],Z)}for(var v2=0;v2<(G7?G7.length:0);v2++){for(var k=0;k<G7[v2].length;k++){aZ(G7[v2][k],G7[v2][k],Z)}}}G5=this._rect;G5.copy(v3);this.center=[G5.x+G5.width/2,G5.y+G5.height/2]}};function dF(G4){if(!G4.UTF8Encoding){return G4}var v2=G4.UTF8Scale;if(v2==null){v2=1024}var e=G4.features;for(var k=0;k<e.length;k++){var G5=e[k];var v=G5.geometry;var v1=v.coordinates;var Z=v.encodeOffsets;for(var m=0;m<v1.length;m++){var v3=v1[m];if(v.type==="Polygon"){v1[m]=BI(v3,Z[m],v2)}else{if(v.type==="MultiPolygon"){for(var i=0;i<v3.length;i++){var cc=v3[i];v3[i]=BI(cc,Z[m][i],v2)}}}}}G4.UTF8Encoding=false;return G4}function BI(v2,Z,v1){var v3=[];var m=Z[0];var k=Z[1];for(var e=0;e<v2.length;e+=2){var cc=v2.charCodeAt(e)-64;var v=v2.charCodeAt(e+1)-64;cc=(cc>>1)^(-(cc&1));v=(v>>1)^(-(v&1));cc+=m;v+=k;m=cc;k=v;v3.push([cc/v1,v/v1])}return v3}var bJ=function(e){dF(e);return De(qi(e.features,function(i){return i.geometry&&i.properties&&i.geometry.coordinates.length>0}),function(i){var k=i.properties;var Z=i.geometry;var cc=Z.coordinates;var m=[];if(Z.type==="Polygon"){m.push({type:"polygon",exterior:cc[0],interiors:cc.slice(1)})}if(Z.type==="MultiPolygon"){ow(cc,function(v1){if(v1[0]){m.push({type:"polygon",exterior:v1[0],interiors:v1.slice(1)})}})}var v=new u3(k.name,m,k.cp);v.properties=k;return v})};var lA=DM;function Cn(m,i){var k=m[1]-m[0];var e=i;var v=k/e/2;m[0]+=v;m[1]-=v}var le=[0,1];var AV=function(i,k,e){this.dim=i;this.scale=k;this._extent=e||[0,0];this.inverse=false;this.onBand=false;this._labelInterval};AV.prototype={constructor:AV,contain:function(m){var k=this._extent;var i=Math.min(k[0],k[1]);var e=Math.max(k[0],k[1]);return m>=i&&m<=e},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return xl(e||this.scale.getExtent(),this._extent)},setExtent:function(k,e){var i=this._extent;i[0]=k;i[1]=e},dataToCoord:function(i,m){var e=this._extent;var k=this.scale;i=k.normalize(i);if(this.onBand&&k.type==="ordinal"){e=e.slice();Cn(e,k.count())}return lA(i,le,e,m)},coordToData:function(v,m){var i=this._extent;var k=this.scale;if(this.onBand&&k.type==="ordinal"){i=i.slice();Cn(i,k.count())}var e=lA(v,i,le,m);return this.scale.scale(e)},pointToData:function(e,i){},getTicksCoords:function(v){if(this.onBand&&!v){var m=this.getBands();var k=[];for(var e=0;e<m.length;e++){k.push(m[e][0])}if(m[e-1]){k.push(m[e-1][1])}return k}else{return De(this.scale.getTicks(),this.dataToCoord,this)}},getLabelsCoords:function(){return De(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){var Z=this.getExtent();var cc=[];var e=this.scale.count();var v1=Z[0];var k=Z[1];var v=k-v1;for(var m=0;m<e;m++){cc.push([v*m/e+v1,v*(m+1)/e+v1])}return cc},getBandWidth:function(){var m=this._extent;var k=this.scale.getExtent();var e=k[1]-k[0]+(this.onBand?1:0);e===0&&(e=1);var i=Math.abs(m[1]-m[0]);return Math.abs(i)/e},isHorizontal:null,getRotate:null,getLabelInterval:function(){var e=this._labelInterval;if(!e){var i=this.model;var k=i.getModel("axisLabel");e=k.get("interval");if(this.type==="category"&&(e==null||e==="auto")){e=Fm(De(this.scale.getTicks(),this.dataToCoord,this),i.getFormattedLabels(),k.getFont(),this.getRotate?this.getRotate():(this.isHorizontal&&!this.isHorizontal())?90:0,k.get("rotate"))}this._labelInterval=e}return e}};var j2=bJ;var kJ={};ow(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){kJ[e]=ws[e]});var uO=pk({type:"dataset",defaultOption:{seriesLayoutBy:kG,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){wz(this)}});pO({type:"dataset"});nl.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(k,e){if(nK){var i=k.coordinateSystem;if(i!=="polar"&&i!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return a(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,clipOverflow:true,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:false,connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});function dO(cc,m){var v=cc.mapDimension("defaultedLabel",true);var e=v.length;if(e===1){return iP(cc,m,v[0])}else{if(e){var Z=[];for(var k=0;k<v.length;k++){var v1=iP(cc,m,v[k]);Z.push(v1)}return Z.join(" ")}}}function Eo(k,e){var i=k.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]}function mP(e){return[e[0]/2,e[1]/2]}function lo(k,e,i){Bd.call(this);this.updateData(k,e,i)}var Cz=lo.prototype;function xQ(i,e){this.parent.drift(i,e)}Cz._createSymbol=function(Z,v,i,m){this.removeAll();var k=v.getItemVisual(i,"color");var e=tk(Z,-1,-1,2,2,k);e.attr({z2:100,culling:true,scale:mP(m)});e.drift=xQ;this._symbolType=Z;this.add(e)};Cz.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)};Cz.getSymbolPath=function(){return this.childAt(0)};Cz.getScale=function(){return this.childAt(0).scale};Cz.highlight=function(){this.childAt(0).trigger("emphasis")};Cz.downplay=function(){this.childAt(0).trigger("normal")};Cz.setZ=function(i,k){var e=this.childAt(0);e.zlevel=i;e.z=k};Cz.setDraggable=function(i){var e=this.childAt(0);e.draggable=i;e.cursor=i?"move":"pointer"};Cz.updateData=function(m,v2,v1){this.silent=false;var v3=m.getItemVisual(v2,"symbol")||"circle";var i=m.hostModel;var e=Eo(m,v2);var v=v3!==this._symbolType;if(v){this._createSymbol(v3,m,v2,e)}else{var k=this.childAt(0);k.silent=false;og(k,{scale:mP(e)},i,v2)}this._updateCommon(m,v2,e,v1);if(v){var k=this.childAt(0);var Z=v1&&v1.fadeIn;var cc={scale:k.scale.slice()};Z&&(cc.style={opacity:k.style.opacity});k.scale=[0,0];Z&&(k.style.opacity=0);ji(k,cc,i,v2)}this._seriesModel=i};var si=["itemStyle"];var hs=["emphasis","itemStyle"];var dx=["label"];var AU=["emphasis","label"];Cz._updateCommon=function(Hg,G5,Hd,G4){var He=this.childAt(0);var G6=Hg.hostModel;var G8=Hg.getItemVisual(G5,"color");if(He.type!=="image"){He.useStyle({strokeNoScale:true})}var v1=G4&&G4.itemStyle;var i=G4&&G4.hoverItemStyle;var v=G4&&G4.symbolRotate;var G7=G4&&G4.symbolOffset;var v2=G4&&G4.labelModel;var Hc=G4&&G4.hoverLabelModel;var m=G4&&G4.hoverAnimation;var e=G4&&G4.cursorStyle;if(!G4||Hg.hasItemOption){var G9=(G4&&G4.itemModel)?G4.itemModel:Hg.getItemModel(G5);v1=G9.getModel(si).getItemStyle(["color"]);i=G9.getModel(hs).getItemStyle();v=G9.getShallow("symbolRotate");G7=G9.getShallow("symbolOffset");v2=G9.getModel(dx);Hc=G9.getModel(AU);m=G9.getShallow("hoverAnimation");e=G9.getShallow("cursor")}else{i=bY({},i)}var Ha=He.style;He.attr("rotation",(v||0)*Math.PI/180||0);if(G7){He.attr("position",[yW(G7[0],Hd[0]),yW(G7[1],Hd[1])])}e&&He.attr("cursor",e);He.setColor(G8,G4&&G4.symbolInnerColor);He.setStyle(v1);var k=Hg.getItemVisual(G5,"opacity");if(k!=null){Ha.opacity=k}var Hb=G4&&G4.useNameLabel;AG(Ha,i,v2,Hc,{labelFetcher:G6,labelDataIndex:G5,defaultText:Z,isRectText:true,autoColor:G8});function Z(Hh,Hi){return Hb?Hg.getName(Hh):dO(Hg,Hh)}He.off("mouseover").off("mouseout").off("emphasis").off("normal");He.hoverStyle=i;xz(He);var Hf=mP(Hd);if(m&&G6.isAnimationEnabled()){var v3=function(){if(this.incremental){return}var Hh=Hf[1]/Hf[0];this.animateTo({scale:[Math.max(Hf[0]*1.1,Hf[0]+3),Math.max(Hf[1]*1.1,Hf[1]+3*Hh)]},400,"elasticOut")};var cc=function(){if(this.incremental){return}this.animateTo({scale:Hf},400,"elasticOut")};He.on("mouseover",v3).on("mouseout",cc).on("emphasis",v3).on("normal",cc)}};Cz.fadeOut=function(i,k){var e=this.childAt(0);this.silent=e.silent=true;!(k&&k.keepLabel)&&(e.style.text=null);og(e,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,i)};lZ(lo,Bd);function D4(e){this.group=new Bd();this._symbolCtor=e||lo}var w1=D4.prototype;function vJ(m,i,e,k){return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(k.isIgnore&&k.isIgnore(e))&&!(k.clipShape&&!k.clipShape.contain(i[0],i[1]))&&m.getItemVisual(e,"symbol")!=="none"}w1.updateData=function(v,k){k=DW(k);var Z=this.group;var e=v.hostModel;var cc=this._data;var m=this._symbolCtor;var i=v4(v);if(!cc){Z.removeAll()}v.diff(cc).add(function(v2){var v1=v.getItemLayout(v2);if(vJ(v,v1,v2,k)){var v3=new m(v,v2,i);v3.attr("position",v1);v.setItemGraphicEl(v2,v3);Z.add(v3)}}).update(function(v3,v2){var G4=cc.getItemGraphicEl(v2);var v1=v.getItemLayout(v3);if(!vJ(v,v1,v3,k)){Z.remove(G4);return}if(!G4){G4=new m(v,v3);G4.attr("position",v1)}else{G4.updateData(v,v3,i);og(G4,{position:v1},e)}Z.add(G4);v.setItemGraphicEl(v3,G4)}).remove(function(v1){var v2=cc.getItemGraphicEl(v1);v2&&v2.fadeOut(function(){Z.remove(v2)})}).execute();this._data=v};w1.isPersistent=function(){return true};w1.updateLayout=function(){var e=this._data;if(e){e.eachItemGraphicEl(function(m,k){var i=e.getItemLayout(k);m.attr("position",i)})}};w1.incrementalPrepareUpdate=function(e){this._seriesScope=v4(e);this._data=null;this.group.removeAll()};w1.incrementalUpdate=function(cc,Z,m){m=DW(m);function k(v1){if(!v1.isGroup){v1.incremental=v1.useHoverLayer=true}}for(var i=cc.start;i<cc.end;i++){var e=Z.getItemLayout(i);if(vJ(Z,e,i,m)){var v=new this._symbolCtor(Z,i,this._seriesScope);v.traverse(k);v.attr("position",e);this.group.add(v);Z.setItemGraphicEl(i,v)}}};function DW(e){if(e!=null&&!sU(e)){e={isIgnore:e}}return e||{}}w1.remove=function(e){var k=this.group;var i=this._data;if(i&&e){i.eachItemGraphicEl(function(m){m.fadeOut(function(){k.remove(m)})})}else{k.removeAll()}};function v4(i){var e=i.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function wn(v,Z,cc){var i=v.getBaseAxis();var G5=v.getOtherAxis(i);var m=li(G5,cc);var k=i.dim;var v1=G5.dim;var G4=Z.mapDimension(v1);var G6=Z.mapDimension(k);var e=v1==="x"||v1==="radius"?1:0;var v3=lt(Z,G4,G6);var v2=De(v.dimensions,function(G7){return Z.mapDimension(G7)});return{dataDimsForPoint:v2,valueStart:m,valueAxisDim:v1,baseAxisDim:k,stacked:v3,valueDim:G4,baseDim:G6,baseDataOffset:e,stackedOverDimension:Z.getCalculationInfo("stackedOverDimension")}}function li(m,e){var k=0;var i=m.scale.getExtent();if(e==="start"){k=i[0]}else{if(e==="end"){k=i[1]}else{if(i[0]>0){k=i[0]}else{if(i[1]<0){k=i[1]}}}}return k}function ai(i,v,cc,e){var Z=NaN;if(i.stacked){Z=cc.get(cc.getCalculationInfo("stackedOverDimension"),e)}if(isNaN(Z)){Z=i.valueStart}var m=i.baseDataOffset;var k=[];k[m]=cc.get(i.baseDim,e);k[1-m]=Z;return v.dataToPoint(k)}function h5(k,i){var e=[];i.diff(k).add(function(m){e.push({cmd:"+",idx:m})}).update(function(v,m){e.push({cmd:"=",idx:m,idx1:v})}).remove(function(m){e.push({cmd:"-",idx:m})}).execute();return e}var vu=function(Ho,G7,Hh,G6,Hl,Hn,v2,He){var G8=h5(Ho,G7);var G9=[];var v1=[];var Z=[];var Hm=[];var Hg=[];var Hc=[];var k=[];var cc=wn(Hl,G7,v2);var v=wn(Hn,Ho,He);for(var Hi=0;Hi<G8.length;Hi++){var Hf=G8[Hi];var Hk=true;switch(Hf.cmd){case"=":var Hj=Ho.getItemLayout(Hf.idx);var Hd=G7.getItemLayout(Hf.idx1);if(isNaN(Hj[0])||isNaN(Hj[1])){Hj=Hd.slice()}G9.push(Hj);v1.push(Hd);Z.push(Hh[Hf.idx]);Hm.push(G6[Hf.idx1]);k.push(G7.getRawIndex(Hf.idx1));break;case"+":var Ha=Hf.idx;G9.push(Hl.dataToPoint([G7.get(cc.dataDimsForPoint[0],Ha),G7.get(cc.dataDimsForPoint[1],Ha)]));v1.push(G7.getItemLayout(Ha).slice());Z.push(ai(cc,Hl,G7,Ha));Hm.push(G6[Ha]);k.push(G7.getRawIndex(Ha));break;case"-":var Ha=Hf.idx;var G5=Ho.getRawIndex(Ha);if(G5!==Ha){G9.push(Ho.getItemLayout(Ha));v1.push(Hn.dataToPoint([Ho.get(v.dataDimsForPoint[0],Ha),Ho.get(v.dataDimsForPoint[1],Ha)]));Z.push(Hh[Ha]);Hm.push(ai(v,Hn,Ho,Ha));k.push(G5)}else{Hk=false}}if(Hk){Hg.push(Hf);Hc.push(Hc.length)}}Hc.sort(function(Hp,i){return k[Hp]-k[i]});var Hb=[];var G4=[];var v3=[];var e=[];var m=[];for(var Hi=0;Hi<Hc.length;Hi++){var Ha=Hc[Hi];Hb[Hi]=G9[Ha];G4[Hi]=v1[Ha];v3[Hi]=Z[Ha];e[Hi]=Hm[Ha];m[Hi]=Hg[Ha]}return{current:Hb,next:G4,stackedOnCurrent:v3,stackedOnNext:e,status:m}};var ge=Ax;var iU=C4;var uN=Ab;var y7=xS;var FP=[];var C8=[];var C7=[];function AT(e){return isNaN(e[0])||isNaN(e[1])}function un(G4,v3,k,v,v2,Z,v1,m,i,cc,e){if(cc==null){if(gk(v3,"x")){return qB(G4,v3,k,v,v2,Z,v1,m,i,"x",e)}else{if(gk(v3,"y")){return qB(G4,v3,k,v,v2,Z,v1,m,i,"y",e)}else{return du.apply(this,arguments)}}}else{if(cc!=="none"&&gk(v3,cc)){return qB.apply(this,arguments)}else{return du.apply(this,arguments)}}}function gk(m,k){if(m.length<=1){return true}var v1=k==="x"?0:1;var v=m[0][v1];var cc=0;for(var e=1;e<m.length;++e){var Z=m[e][v1]-v;if(!isNaN(Z)&&!isNaN(cc)&&Z!==0&&cc!==0&&((Z>=0)!==(cc>=0))){return false}if(!isNaN(Z)&&Z!==0){cc=Z;v=m[e][v1]}}return true}function qB(G7,Ha,m,Hc,G5,G6,i,v,v2,v3,e){var cc=0;var v1=m;for(var G8=0;G8<Hc;G8++){var G4=Ha[v1];if(v1>=G5||v1<0){break}if(AT(G4)){if(e){v1+=G6;continue}break}if(v1===m){G7[G6>0?"moveTo":"lineTo"](G4[0],G4[1])}else{if(v2>0){var Z=Ha[cc];var G9=v3==="y"?1:0;var Hb=(G4[G9]-Z[G9])*v2;y7(C8,Z);C8[G9]=Z[G9]+Hb;y7(C7,G4);C7[G9]=G4[G9]-Hb;G7.bezierCurveTo(C8[0],C8[1],C7[0],C7[1],G4[0],G4[1])}else{G7.lineTo(G4[0],G4[1])}}cc=v1;v1+=G6}return G8}function du(G9,Hc,v,Hd,G7,G8,m,Z,G4,G5,i){var v2=0;var v3=v;for(var Ha=0;Ha<Hd;Ha++){var G6=Hc[v3];if(v3>=G7||v3<0){break}if(AT(G6)){if(i){v3+=G8;continue}break}if(v3===v){G9[G8>0?"moveTo":"lineTo"](G6[0],G6[1]);y7(C8,G6)}else{if(G4>0){var Hf=v3+G8;var e=Hc[Hf];if(i){while(e&&AT(Hc[Hf])){Hf+=G8;e=Hc[Hf]}}var He=0.5;var v1=Hc[v2];var e=Hc[Hf];if(!e||AT(e)){y7(C7,G6)}else{if(AT(e)&&!i){e=G6}AQ(FP,e,v1);var Hg;var cc;if(G5==="x"||G5==="y"){var Hb=G5==="x"?0:1;Hg=Math.abs(G6[Hb]-v1[Hb]);cc=Math.abs(G6[Hb]-e[Hb])}else{Hg=CV(G6,v1);cc=CV(G6,e)}He=cc/(cc+Hg);uN(C7,G6,FP,-G4*(1-He))}ge(C8,C8,Z);iU(C8,C8,m);ge(C7,C7,Z);iU(C7,C7,m);G9.bezierCurveTo(C8[0],C8[1],C7[0],C7[1],G6[0],G6[1]);uN(C8,G6,FP,G4*He)}else{G9.lineTo(G6[0],G6[1])}}v2=v3;v3+=G8}return Ha}function jR(Z,m){var v=[Infinity,Infinity];var e=[-Infinity,-Infinity];if(m){for(var k=0;k<Z.length;k++){var cc=Z[k];if(cc[0]<v[0]){v[0]=cc[0]}if(cc[1]<v[1]){v[1]=cc[1]}if(cc[0]>e[0]){e[0]=cc[0]}if(cc[1]>e[1]){e[1]=cc[1]}}}return{min:m?v:e,max:m?e:v}}var iv=lT.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},style:{fill:null,stroke:"#000"},brush:mN(lT.prototype.brush),buildPath:function(k,m){var cc=m.points;var Z=0;var v=cc.length;var e=jR(cc,m.smoothConstraint);if(m.connectNulls){for(;v>0;v--){if(!AT(cc[v-1])){break}}for(;Z<v;Z++){if(!AT(cc[Z])){break}}}while(Z<v){Z+=un(k,cc,Z,v,v,1,e.min,e.max,m.smooth,m.smoothMonotone,m.connectNulls)+1}}});var iS=lT.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},brush:mN(lT.prototype.brush),buildPath:function(G5,cc){var v3=cc.points;var Z=cc.stackedOnPoints;var v=0;var v2=v3.length;var v1=cc.smoothMonotone;var G4=jR(v3,cc.smoothConstraint);var e=jR(Z,cc.smoothConstraint);if(cc.connectNulls){for(;v2>0;v2--){if(!AT(v3[v2-1])){break}}for(;v<v2;v++){if(!AT(v3[v])){break}}}while(v<v2){var m=un(G5,v3,v,v2,v2,1,G4.min,G4.max,cc.smooth,v1,cc.connectNulls);un(G5,Z,v+m-1,m,v2,-1,e.min,e.max,cc.stackedOnSmooth,v1,cc.connectNulls);v+=m+1;G5.closePath()}}});function wh(k,e){if(k.length!==e.length){return}for(var m=0;m<k.length;m++){var Z=k[m];var v=e[m];if(Z[0]!==v[0]||Z[1]!==v[1]){return}}return true}function yZ(e){return typeof(e)==="number"?e:(e?0.5:0)}function mH(m){var k=m.getGlobalExtent();if(m.onBand){var e=m.getBandWidth()/2-1;var i=k[1]>k[0]?1:-1;k[0]+=i*e;k[1]-=i*e}return k}function Cu(m,Z,k){if(!k.valueDim){return[]}var v=[];for(var i=0,e=Z.count();i<e;i++){v.push(ai(k,m,Z,i))}return v}function bk(v,cc,k){var i=mH(v.getAxis("x"));var v1=mH(v.getAxis("y"));var G4=v.getBaseAxis().isHorizontal();var G5=Math.min(i[0],i[1]);var v3=Math.min(v1[0],v1[1]);var e=Math.max(i[0],i[1])-G5;var G6=Math.max(v1[0],v1[1])-v3;var Z=k.get("lineStyle.width")||2;var m=k.get("clipOverflow")?Z/2:Math.max(e,G6);if(G4){v3-=m;G6+=m*2}else{G5-=m;e+=m*2}var v2=new DD({shape:{x:G5,y:v3,width:e,height:G6}});if(cc){v2.shape[G4?"width":"height"]=0;ji(v2,{shape:{width:e,height:G6}},k)}return v2}function zI(e,v,i){var v2=e.getAngleAxis();var k=e.getRadiusAxis();var m=k.getExtent();var v1=v2.getExtent();var cc=Math.PI/180;var Z=new sI({shape:{cx:e.cx,cy:e.cy,r0:m[0],r:m[1],startAngle:-v1[0]*cc,endAngle:-v1[1]*cc,clockwise:v2.inverse}});if(v){Z.shape.endAngle=-v1[0]*cc;ji(Z,{shape:{endAngle:-v1[1]*cc}},i)}return Z}function dv(i,k,e){return i.type==="polar"?zI(i,k,e):bk(i,k,e)}function a6(v2,Z,m){var k=Z.getBaseAxis();var v1=k.dim==="x"||k.dim==="radius"?0:1;var e=[];for(var cc=0;cc<v2.length-1;cc++){var G6=v2[cc+1];var G5=v2[cc];e.push(G5);var v=[];switch(m){case"end":v[v1]=G6[v1];v[1-v1]=G5[1-v1];e.push(v);break;case"middle":var G4=(G5[v1]+G6[v1])/2;var v3=[];v[v1]=v3[v1]=G4;v[1-v1]=G5[1-v1];v3[1-v1]=G6[1-v1];e.push(v);e.push(v3);break;default:v[v1]=G5[v1];v[1-v1]=G6[1-v1];e.push(v)}}v2[cc]&&e.push(v2[cc]);return e}function cm(Hc,v2){var G7=Hc.getVisual("visualMeta");if(!G7||!G7.length||!Hc.count()){return}if(v2.type!=="cartesian2d"){if(nK){console.warn("Visual map on line style is only supported on cartesian2d.")}return}var G6;var Hb;for(var G8=G7.length-1;G8>=0;G8--){var G4=G7[G8].dimension;var v3=Hc.dimensions[G4];var v1=Hc.getDimensionInfo(v3);G6=v1&&v1.coordDim;if(G6==="x"||G6==="y"){Hb=G7[G8];break}}if(!Hb){if(nK){console.warn("Visual map on line style only support x or y dimension.")}return}var Z=v2.getAxis(G6);var cc=De(Hb.stops,function(i){return{coord:Z.toGlobalCoord(Z.dataToCoord(i.value)),color:i.color}});var k=cc.length;var Ha=Hb.outerColors.slice();if(k&&cc[0].coord>cc[k-1].coord){cc.reverse();Ha.reverse()}var e=10;var G5=cc[0].coord-e;var G9=cc[k-1].coord+e;var m=G9-G5;if(m<0.001){return"transparent"}ow(cc,function(i){i.offset=(i.coord-G5)/m});cc.push({offset:k?cc[k-1].offset:0.5,color:Ha[1]||"transparent"});cc.unshift({offset:k?cc[0].offset:0.5,color:Ha[0]||"transparent"});var v=new tP(0,0,0,0,cc,true);v[G6]=G5;v[G6+"2"]=G9;return v}dw.extend({type:"line",init:function(){var i=new Bd();var e=new D4();this.group.add(e.group);this._symbolDraw=e;this._lineGroup=i},render:function(Hd,Hm,G9){var v1=Hd.coordinateSystem;var v2=this.group;var Hl=Hd.getData();var He=Hd.getModel("lineStyle");var G8=Hd.getModel("areaStyle");var Hg=Hl.mapArray(Hl.getItemLayout);var Hi=v1.type==="polar";var G4=this._coordSys;var Hh=this._symbolDraw;var Hc=this._polyline;var G6=this._polygon;var Hf=this._lineGroup;var i=Hd.get("animation");var k=!G8.isEmpty();var G7=G8.get("origin");var m=wn(v1,Hl,G7);var Z=Cu(v1,Hl,m);var G5=Hd.get("showSymbol");var Ha=G5&&!Hi&&!Hd.get("showAllSymbol")&&this._getSymbolIgnoreFunc(Hl,v1);var Hk=this._data;Hk&&Hk.eachItemGraphicEl(function(Ho,Hn){if(Ho.__temp){v2.remove(Ho);Hk.setItemGraphicEl(Hn,null)}});if(!G5){Hh.remove()}v2.add(Hf);var cc=!Hi&&Hd.get("step");if(!(Hc&&G4.type===v1.type&&cc===this._step)){G5&&Hh.updateData(Hl,{isIgnore:Ha,clipShape:dv(v1,false,Hd)});if(cc){Hg=a6(Hg,v1,cc);Z=a6(Z,v1,cc)}Hc=this._newPolyline(Hg,v1,i);if(k){G6=this._newPolygon(Hg,Z,v1,i)}Hf.setClipPath(dv(v1,true,Hd))}else{if(k&&!G6){G6=this._newPolygon(Hg,Z,v1,i)}else{if(G6&&!k){Hf.remove(G6);G6=this._polygon=null}}var v3=dv(v1,false,Hd);Hf.setClipPath(v3);G5&&Hh.updateData(Hl,{isIgnore:Ha,clipShape:v3});Hl.eachItemGraphicEl(function(Hn){Hn.stopAnimation(true)});if(!wh(this._stackedOnPoints,Z)||!wh(this._points,Hg)){if(i){this._updateAnimation(Hl,Z,v1,G9,cc,G7)}else{if(cc){Hg=a6(Hg,v1,cc);Z=a6(Z,v1,cc)}Hc.setShape({points:Hg});G6&&G6.setShape({points:Hg,stackedOnPoints:Z})}}}var v=cm(Hl,v1)||Hl.getVisual("color");Hc.useStyle(Ch(He.getLineStyle(),{fill:"none",stroke:v,lineJoin:"bevel"}));var Hb=Hd.get("smooth");Hb=yZ(Hd.get("smooth"));Hc.setShape({smooth:Hb,smoothMonotone:Hd.get("smoothMonotone"),connectNulls:Hd.get("connectNulls")});if(G6){var Hj=Hl.getCalculationInfo("stackedOnSeries");var e=0;G6.useStyle(Ch(G8.getAreaStyle(),{fill:v,opacity:0.7,lineJoin:"bevel"}));if(Hj){e=yZ(Hj.get("smooth"))}G6.setShape({smooth:Hb,stackedOnSmooth:e,smoothMonotone:Hd.get("smoothMonotone"),connectNulls:Hd.get("connectNulls")})}this._data=Hl;this._coordSys=v1;this._stackedOnPoints=Z;this._points=Hg;this._step=cc;this._valueOrigin=G7},dispose:function(){},highlight:function(i,e,m,v1){var Z=i.getData();var k=wp(Z,v1);if(!(k instanceof Array)&&k!=null&&k>=0){var v=Z.getItemGraphicEl(k);if(!v){var cc=Z.getItemLayout(k);if(!cc){return}v=new lo(Z,k);v.position=cc;v.setZ(i.get("zlevel"),i.get("z"));v.ignore=isNaN(cc[0])||isNaN(cc[1]);v.__temp=true;Z.setItemGraphicEl(k,v);v.stopSymbolAnimation(true);this.group.add(v)}v.highlight()}else{dw.prototype.highlight.call(this,i,e,m,v1)}},downplay:function(i,e,m,cc){var Z=i.getData();var k=wp(Z,cc);if(k!=null&&k>=0){var v=Z.getItemGraphicEl(k);if(v){if(v.__temp){Z.setItemGraphicEl(k,null);this.group.remove(v)}else{v.downplay()}}}else{dw.prototype.downplay.call(this,i,e,m,cc)}},_newPolyline:function(i){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new iv({shape:{points:i},silent:true,z2:10});this._lineGroup.add(e);this._polyline=e;return e},_newPolygon:function(k,e){var i=this._polygon;if(i){this._lineGroup.remove(i)}i=new iS({shape:{points:k,stackedOnPoints:e},silent:true});this._lineGroup.add(i);this._polygon=i;return i},_getSymbolIgnoreFunc:function(i,e){var k=e.getAxesByScale("ordinal")[0];if(k&&k.isLabelIgnored){return j0(k.isLabelIgnored,k)}},_updateAnimation:function(Hd,k,v,G5,Z,v3){var G6=this._polyline;var v1=this._polygon;var G8=Hd.hostModel;var G4=vu(this._data,Hd,this._stackedOnPoints,k,this._coordSys,v,this._valueOrigin,v3);var Ha=G4.current;var G9=G4.stackedOnCurrent;var G7=G4.next;var m=G4.stackedOnNext;if(Z){Ha=a6(G4.current,v,Z);G9=a6(G4.stackedOnCurrent,v,Z);G7=a6(G4.next,v,Z);m=a6(G4.stackedOnNext,v,Z)}G6.shape.__points=G4.current;G6.shape.points=Ha;og(G6,{shape:{points:G7}},G8);if(v1){v1.setShape({points:Ha,stackedOnPoints:G9});og(v1,{shape:{points:G7,stackedOnPoints:m}},G8)}var v2=[];var cc=G4.status;for(var Hc=0;Hc<cc.length;Hc++){var Hb=cc[Hc].cmd;if(Hb==="="){var e=Hd.getItemGraphicEl(cc[Hc].idx1);if(e){v2.push({el:e,ptIdx:Hc})}}}if(G6.animators&&G6.animators.length){G6.animators[0].during(function(){for(var He=0;He<v2.length;He++){var Hf=v2[He].el;Hf.attr("position",G6.shape.__points[v2[He].ptIdx])}})}},remove:function(e){var i=this.group;var k=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);k&&k.eachItemGraphicEl(function(v,m){if(v.__temp){i.remove(v);k.setItemGraphicEl(m,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var lS=function(e,i,k){return{seriesType:e,performRawSeries:true,reset:function(v,m,cc){var v3=v.getData();var G4=v.get("symbol")||i;var v2=v.get("symbolSize");v3.setVisual({legendSymbol:k||G4,symbol:G4,symbolSize:v2});if(m.isSeriesFiltered(v)){return}var v1=typeof v2==="function";function Z(Ha,G5){if(typeof v2==="function"){var G9=v.getRawValue(G5);var Hb=v.getDataParams(G5);Ha.setItemVisual(G5,"symbolSize",v2(G9,Hb))}if(Ha.hasItemOption){var G7=Ha.getItemModel(G5);var G8=G7.getShallow("symbol",true);var G6=G7.getShallow("symbolSize",true);if(G8!=null){Ha.setItemVisual(G5,"symbol",G8)}if(G6!=null){Ha.setItemVisual(G5,"symbolSize",G6)}}}return{dataEach:(v3.hasItemOption||v1)?Z:null}}}};var pQ=function(e){return{seriesType:e,plan:Dr(),reset:function(k){var v1=k.getData();var Z=k.coordinateSystem;var cc=k.pipelineContext;var i=cc.large;if(!Z){return}var v2=De(Z.dimensions,function(v3){return v1.mapDimension(v3)}).slice(0,2);var v=v2.length;if(lt(v1,v2[0],v2[1])){v2[0]=v1.getCalculationInfo("stackResultDimension")}if(lt(v1,v2[1],v2[0])){v2[1]=v1.getCalculationInfo("stackResultDimension")}function m(G5,G7){var v3=G5.end-G5.start;var Hd=i&&new Float32Array(v3*v);for(var G8=G5.start,G6=0,G9=[],G4=[];G8<G5.end;G8++){var Hc;if(v===1){var Hb=G7.get(v2[0],G8,true);Hc=!isNaN(Hb)&&Z.dataToPoint(Hb,null,G4)}else{var Hb=G9[0]=G7.get(v2[0],G8,true);var Ha=G9[1]=G7.get(v2[1],G8,true);Hc=!isNaN(Hb)&&!isNaN(Ha)&&Z.dataToPoint(G9,null,G4)}if(i){Hd[G6++]=Hc?Hc[0]:NaN;Hd[G6++]=Hc?Hc[1]:NaN}else{G7.setItemLayout(G8,(Hc&&Hc.slice())||[NaN,NaN])}}i&&G7.setLayout("symbolPoints",Hd)}return v&&{progress:m}}}};var o8={average:function(v){var k=0;var m=0;for(var e=0;e<v.length;e++){if(!isNaN(v[e])){k+=v[e];m++}}return m===0?NaN:k/m},sum:function(m){var k=0;for(var e=0;e<m.length;e++){k+=m[e]||0}return k},max:function(m){var e=-Infinity;for(var k=0;k<m.length;k++){m[k]>e&&(e=m[k])}return e},min:function(m){var k=Infinity;for(var e=0;e<m.length;e++){m[e]<k&&(k=m[e])}return k},nearest:function(e){return e[0]}};var Dc=function(i,e){return Math.round(i.length/2)};var wE=function(e){return{seriesType:e,reset:function(k,cc,v1){var v=k.getData();var Z=k.get("sampling");var m=k.coordinateSystem;if(m.type==="cartesian2d"&&Z){var i=m.getBaseAxis();var G4=m.getOtherAxis(i);var G5=i.getExtent();var G6=G5[1]-G5[0];var v2=Math.round(v.count()/G6);if(v2>1){var v3;if(typeof Z==="string"){v3=o8[Z]}else{if(typeof Z==="function"){v3=Z}}if(v3){k.setData(v.downSample(G4.dim,1/v2,v3,Dc))}}}}}};function Dv(e){return this._axes[e]}var bQ=function(e){this._axes={};this._dimList=[];this.name=e||""};bQ.prototype={constructor:bQ,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return De(this._dimList,Dv,this)},getAxesByScale:function(e){e=e.toLowerCase();return qi(this.getAxes(),function(i){return i.scale.type===e})},addAxis:function(e){var i=e.dim;this._axes[i]=e;this._dimList.push(i)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(m,v1){var e=this._dimList;var k=m instanceof Array?[]:{};for(var v=0;v<e.length;v++){var cc=e[v];var Z=this._axes[cc];k[cc]=Z[v1](m[cc])}return k}};function Am(e){bQ.call(this,e)}Am.prototype={constructor:Am,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var k=this.getAxis("x");var i=this.getAxis("y");return k.contain(k.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(v,e,k){var m=this.getAxis("x");var i=this.getAxis("y");k=k||[];k[0]=m.toGlobalCoord(m.dataToCoord(v[0]));k[1]=i.toGlobalCoord(i.dataToCoord(v[1]));return k},clampData:function(k,i){var m=this.getAxis("x").scale.getExtent();var e=this.getAxis("y").scale.getExtent();i=i||[];i[0]=Math.min(Math.max(Math.min(m[0],m[1]),k[0]),Math.max(m[0],m[1]));i[1]=Math.min(Math.max(Math.min(e[0],e[1]),k[1]),Math.max(e[0],e[1]));return i},pointToData:function(e,k){var m=this.getAxis("x");var i=this.getAxis("y");k=k||[];k[0]=m.coordToData(m.toLocalCoord(e[0]));k[1]=i.coordToData(i.toLocalCoord(e[1]));return k},getOtherAxis:function(e){return this.getAxis(e.dim==="x"?"y":"x")}};lZ(Am,bQ);var B0=function(m,v,k,i,e){AV.call(this,m,v,k);this.type=i||"value";this.position=e||"bottom"};B0.prototype={constructor:B0,index:0,onZero:false,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},getGlobalExtent:function(i){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);i&&e[0]>e[1]&&e.reverse();return e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if(this.type==="category"){var i=this.getLabelInterval();return((typeof i==="function")&&!i(e,this.scale.getLabel(e)))||e%(i+1)}},pointToData:function(e,i){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),i)},toLocalCoord:null,toGlobalCoord:null};lZ(B0,AV);var AH={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var bG={};bG.categoryAxis=vb({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},AH);bG.valueAxis=vb({boundaryGap:[0,0],splitNumber:5},AH);bG.timeAxis=Ch({scale:true,min:"dataMin",max:"dataMax"},bG.valueAxis);bG.logAxis=Ch({scale:true,logBase:10},bG.valueAxis);var GW=["value","category","time","log"];var mn=function(m,e,i,k){ow(GW,function(v){e.extend({type:m+"Axis."+v,mergeDefaultAndTheme:function(cc,Z){var v2=this.layoutMode;var v3=v2?gO(cc):{};var v1=Z.getTheme();vb(cc,v1.get(v+"Axis"));vb(cc,this.getDefaultOption());cc.type=i(m,cc);if(v2){g0(cc,v3,v2)}},optionUpdated:function(){var Z=this.option;if(Z.type==="category"){this.__ordinalMeta=lp.createByAxisModel(this)}},getCategories:function(){if(this.option.type==="category"){return this.__ordinalMeta.categories}},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:Y([{},bG[v+"Axis"],k],true)})});aI.registerSubTypeDefaulter(m+"Axis",rH(i,m))};var c8=aI.extend({type:"cartesian2dAxis",axis:null,init:function(){c8.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){c8.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){c8.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function tT(i,e){return e.type||(e.data?"category":"value")}vb(c8.prototype,m4);var aH={offset:0};mn("x",c8,tT,aH);mn("y",c8,tT,aH);aI.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var oo=ow;var s=Ae;var A7=ne;function yu(i,k,e){return i.getCoordSysModel()===k}function ym(cc,k){var e=k*Math.PI/180;var m=cc.plain();var v2=m.width;var v=m.height;var v1=v2*Math.cos(e)+v*Math.sin(e);var i=v2*Math.sin(e)+v*Math.cos(e);var Z=new BM(m.x,m.y,v1,i);return Z}function fo(Z){var G4=Z.model;var v1=G4.get("axisLabel.show")?G4.getFormattedLabels():[];var v3=G4.getModel("axisLabel");var v2;var k=1;var e=v1.length;if(e>40){k=Math.ceil(e/40)}for(var cc=0;cc<e;cc+=k){if(!Z.isLabelIgnored(cc)){var v=v3.getTextRect(v1[cc]);var m=ym(v,v3.get("rotate")||0);v2?v2.union(m):(v2=m)}}return v2}function ph(k,e,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(k,e,i);this.model=k}var Dy=ph.prototype;Dy.type="grid";Dy.axisPointerEnabled=true;Dy.getRect=function(){return this._rect};Dy.update=function(e,k){var i=this._axesMap;this._updateScale(e,this.model);oo(i.x,function(m){A7(m.scale,m.model)});oo(i.y,function(m){A7(m.scale,m.model)});oo(i.x,function(m){rG(i,"y",m)});oo(i.y,function(m){rG(i,"x",m)});this.resize(this.model,k)};function rG(k,v,m){var Z=k[v];if(!m.onZero){return}var cc=m.onZeroAxisIndex;if(cc!=null){var i=Z[cc];if(i&&FV(i)){m.onZero=false}return}for(var e in Z){if(Z.hasOwnProperty(e)){var i=Z[e];if(i&&!FV(i)){cc=+e;break}}}if(cc==null){m.onZero=false}m.onZeroAxisIndex=cc}function FV(e){return e.type==="category"||e.type==="time"||!s(e)}Dy.resize=function(v,k,e){var i=kx(v.getBoxLayoutParams(),{width:k.getWidth(),height:k.getHeight()});this._rect=i;var m=this._axesList;Z();if(!e&&v.get("containLabel")){oo(m,function(v1){if(!v1.model.get("axisLabel.inside")){var cc=fo(v1);if(cc){var v3=v1.isHorizontal()?"height":"width";var v2=v1.model.get("axisLabel.margin");i[v3]-=cc[v3]+v2;if(v1.position==="top"){i.y+=cc.height+v2}else{if(v1.position==="left"){i.x+=cc.width+v2}}}}});Z()}function Z(){oo(m,function(v2){var v3=v2.isHorizontal();var v1=v3?[0,i.width]:[0,i.height];var cc=v2.inverse?1:0;v2.setExtent(v1[cc],v1[1-cc]);Ec(v2,v3?i.x:i.y)})}};Dy.getAxis=function(e,k){var m=this._axesMap[e];if(m!=null){if(k==null){for(var i in m){if(m.hasOwnProperty(i)){return m[i]}}}return m[k]}};Dy.getAxes=function(){return this._axesList.slice()};Dy.getCartesian=function(e,Z){if(e!=null&&Z!=null){var v="x"+e+"y"+Z;return this._coordsMap[v]}if(sU(e)){Z=e.yAxisIndex;e=e.xAxisIndex}for(var m=0,k=this._coordsList;m<k.length;m++){if(k[m].getAxis("x").index===e||k[m].getAxis("y").index===Z){return k[m]}}};Dy.getCartesians=function(){return this._coordsList.slice()};Dy.convertToPixel=function(e,m,i){var k=this._findConvertTarget(e,m);return k.cartesian?k.cartesian.dataToPoint(i):k.axis?k.axis.toGlobalCoord(k.axis.dataToCoord(i)):null};Dy.convertFromPixel=function(e,m,i){var k=this._findConvertTarget(e,m);return k.cartesian?k.cartesian.pointToData(i):k.axis?k.axis.coordToData(k.axis.toLocalCoord(i)):null};Dy._findConvertTarget=function(v1,i){var m=i.seriesModel;var v=i.xAxisModel||(m&&m.getReferringComponents("xAxis")[0]);var v2=i.yAxisModel||(m&&m.getReferringComponents("yAxis")[0]);var v3=i.gridModel;var Z=this._coordsList;var cc;var k;if(m){cc=m.coordinateSystem;eB(Z,cc)<0&&(cc=null)}else{if(v&&v2){cc=this.getCartesian(v.componentIndex,v2.componentIndex)}else{if(v){k=this.getAxis("x",v.componentIndex)}else{if(v2){k=this.getAxis("y",v2.componentIndex)}else{if(v3){var e=v3.coordinateSystem;if(e===this){cc=this._coordsList[0]}}}}}}return{cartesian:cc,axis:k}};Dy.containPoint=function(e){var i=this._coordsList[0];if(i){return i.containPoint(e)}};Dy._initCartesian=function(Z,i,v){var m={left:false,right:false,top:false,bottom:false};var k={x:{},y:{}};var cc={x:0,y:0};i.eachComponent("xAxis",e("x"),this);i.eachComponent("yAxis",e("y"),this);if(!cc.x||!cc.y){this._axesMap={};this._axesList=[];return}this._axesMap=k;oo(k.x,function(v2,v1){oo(k.y,function(v3,G5){var G4="x"+v1+"y"+G5;var G6=new Am(G4);G6.grid=this;G6.model=Z;this._coordsMap[G4]=G6;this._coordsList.push(G6);G6.addAxis(v2);G6.addAxis(v3)},this)},this);function e(v1){return function(G5,v2){if(!yu(G5,Z,i)){return}var G4=G5.get("position");if(v1==="x"){if(G4!=="top"&&G4!=="bottom"){G4="bottom";if(m[G4]){G4=G4==="top"?"bottom":"top"}}}else{if(G4!=="left"&&G4!=="right"){G4="left";if(m[G4]){G4=G4==="left"?"right":"left"}}}m[G4]=true;var G6=new B0(v1,mT(G5),[0,0],G5.get("type"),G4);var v3=G6.type==="category";G6.onBand=v3&&G5.get("boundaryGap");G6.inverse=G5.get("inverse");G6.onZero=G5.get("axisLine.onZero");G6.onZeroAxisIndex=G5.get("axisLine.onZeroAxisIndex");G5.axis=G6;G6.model=G5;G6.grid=this;G6.index=v2;this._axesList.push(G6);k[v1][v2]=G6;cc[v1]++}}};Dy._updateScale=function(e,i){ow(this._axesList,function(m){m.scale.setExtent(Infinity,-Infinity)});e.eachSeries(function(v){if(wX(v)){var v1=kZ(v,e);var Z=v1[0];var cc=v1[1];if(!yu(Z,i,e)||!yu(cc,i,e)){return}var G4=this.getCartesian(Z.componentIndex,cc.componentIndex);var v3=v.getData();var v2=G4.getAxis("x");var m=G4.getAxis("y");if(v3.type==="list"){k(v3,v2,v);k(v3,m,v)}}},this);function k(Z,v,m){oo(Z.mapDimension(v.dim,true),function(cc){v.scale.unionExtentFromData(Z,cc)})}};Dy.getTooltipAxes=function(i){var k=[];var e=[];oo(this.getCartesians(),function(Z){var v=(i!=null&&i!=="auto")?Z.getAxis(i):Z.getBaseAxis();var m=Z.getOtherAxis(v);eB(k,v)<0&&k.push(v);eB(e,m)<0&&e.push(m)});return{baseAxes:k,otherAxes:e}};function Ec(k,e){var m=k.getExtent();var i=m[0]+m[1];k.toGlobalCoord=k.dim==="x"?function(v){return v+e}:function(v){return i-v+e};k.toLocalCoord=k.dim==="x"?function(v){return v-e}:function(v){return i-v+e}}var pj=["xAxis","yAxis"];function kZ(i,e){return De(pj,function(k){var m=i.getReferringComponents(k)[0];if(nK){if(!m){throw new Error(k+' "'+gg(i.get(k+"Index"),i.get(k+"Id"),0)+'" not found')}}return m})}function wX(e){return e.get("coordinateSystem")==="cartesian2d"}ph.create=function(e,i){var k=[];e.eachComponent("grid",function(Z,m){var v=new ph(Z,e,i);v.name="grid_"+m;v.resize(Z,i,true);Z.coordinateSystem=v;k.push(v)});e.eachSeries(function(m){if(!wX(m)){return}var v2=kZ(m,e);var v=v2[0];var cc=v2[1];var v1=v.getCoordSysModel();if(nK){if(!v1){throw new Error('Grid "'+gg(v.get("gridIndex"),v.get("gridId"),0)+'" not found')}if(v.getCoordSysModel()!==cc.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var Z=v1.coordinateSystem;m.coordinateSystem=Z.getCartesian(v.componentIndex,cc.componentIndex)});return k};ph.dimensions=ph.prototype.dimensions=Am.prototype.dimensions;fk.register("cartesian2d",ph);var xO=Math.PI;function vd(e){var i={componentType:e.mainType};i[e.mainType+"Index"]=e.componentIndex;return i}var c3=function(k,i){this.opt=i;this.axisModel=k;Ch(i,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true});this.group=new Bd();var e=new Bd({position:i.position.slice(),rotation:i.rotation});e.updateTransform();this._transform=e.transform;this._dumbGroup=e};c3.prototype={constructor:c3,hasBuilder:function(e){return !!vN[e]},add:function(e){vN[e].call(this)},getGroup:function(){return this.group}};var vN={axisLine:function(){var e=this.opt;var v2=this.axisModel;if(!v2.get("axisLine.show")){return}var G5=this.axisModel.axis.getExtent();var v=this._transform;var v1=[G5[0],0];var Z=[G5[1],0];if(v){aZ(v1,v1,v);aZ(Z,Z,v)}var m=bY({lineCap:"round"},v2.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new yK(de({anid:"line",shape:{x1:v1[0],y1:v1[1],x2:Z[0],y2:Z[1]},style:m,strokeContainThreshold:e.strokeContainThreshold||5,silent:true,z2:1})));var v3=v2.get("axisLine.symbol");var k=v2.get("axisLine.symbolSize");var cc=v2.get("axisLine.symbolOffset")||0;if(typeof cc==="number"){cc=[cc,cc]}if(v3!=null){if(typeof v3==="string"){v3=[v3,v3]}if(typeof k==="string"||typeof k==="number"){k=[k,k]}var i=k[0];var G4=k[1];ow([{rotate:e.rotation+Math.PI/2,offset:cc[0],r:0},{rotate:e.rotation-Math.PI/2,offset:cc[1],r:Math.sqrt((v1[0]-Z[0])*(v1[0]-Z[0])+(v1[1]-Z[1])*(v1[1]-Z[1]))}],function(G6,G7){if(v3[G7]!=="none"&&v3[G7]!=null){var G9=tk(v3[G7],-i/2,-G4/2,i,G4,m.stroke,true);var G8=G6.r+G6.offset;var Ha=[v1[0]+G8*Math.cos(e.rotation),v1[1]-G8*Math.sin(e.rotation)];G9.attr({rotation:G6.rotate,position:Ha,silent:true});this.group.add(G9)}},this)}},axisTickLabel:function(){var m=this.axisModel;var k=this.opt;var i=i4(this,m,k);var e=ud(this,m,k);Fv(m,e,i)},axisName:function(){var i=this.opt;var Z=this.axisModel;var Hf=gg(i.axisName,Z.get("name"));if(!Hf){return}var G7=Z.get("nameLocation");var v3=i.nameDirection;var v=Z.getModel("nameTextStyle");var G5=Z.get("nameGap")||0;var v1=this.axisModel.axis.getExtent();var v2=v1[0]>v1[1]?-1:1;var k=[G7==="start"?v1[0]-v2*G5:G7==="end"?v1[1]+v2*G5:(v1[0]+v1[1])/2,no(G7)?i.labelOffset+v3*G5:0];var m;var cc=Z.get("nameRotate");if(cc!=null){cc=cc*xO/180}var Ha;if(no(G7)){m=m9(i.rotation,cc!=null?cc:i.rotation,v3)}else{m=mU(i,G7,cc||0,v1);Ha=i.axisNameAvailableWidth;if(Ha!=null){Ha=Math.abs(Ha/Math.sin(m.rotation));!isFinite(Ha)&&(Ha=null)}}var G4=v.getFont();var He=Z.get("nameTruncate",true)||{};var e=He.ellipsis;var G8=gg(i.nameTruncateMaxWidth,He.maxWidth,Ha);var Hc=(e!=null&&G8!=null)?gY(Hf,G8,G4,e,{minChar:2,placeholder:He.placeholder}):Hf;var Hb=Z.get("tooltip",true);var G9=Z.mainType;var Hd={componentType:G9,name:Hf,$vars:["name"]};Hd[G9+"Index"]=Z.componentIndex;var G6=new iC({anid:"name",__fullText:Hf,__truncatedText:Hc,position:k,rotation:m.rotation,silent:a9(Z),z2:1,tooltip:(Hb&&Hb.show)?bY({content:Hf,formatter:function(){return Hf},formatterParams:Hd},Hb):null});oB(G6.style,v,{text:Hc,textFont:G4,textFill:v.getTextColor()||Z.get("axisLine.lineStyle.color"),textAlign:m.textAlign,textVerticalAlign:m.textVerticalAlign});if(Z.get("triggerEvent")){G6.eventData=vd(Z);G6.eventData.targetType="axisName";G6.eventData.name=Hf}this._dumbGroup.add(G6);G6.updateTransform();this.group.add(G6);G6.decomposeTransform()}};var m9=c3.innerTextLayout=function(Z,i,v){var m=qH(i-Z);var k;var e;if(tY(m)){e=v>0?"top":"bottom";k="center"}else{if(tY(m-xO)){e=v>0?"bottom":"top";k="center"}else{e="middle";if(m>0&&m<xO){k=v>0?"right":"left"}else{k=v>0?"left":"right"}}}return{rotation:m,textAlign:k,textVerticalAlign:e}};function mU(i,v2,v,v1){var m=qH(v-i.rotation);var k;var cc;var Z=v1[0]>v1[1];var e=(v2==="start"&&!Z)||(v2!=="start"&&Z);if(tY(m-xO/2)){cc=e?"bottom":"top";k="center"}else{if(tY(m-xO*1.5)){cc=e?"top":"bottom";k="center"}else{cc="middle";if(m<xO*1.5&&m>xO/2){k=e?"left":"right"}else{k=e?"right":"left"}}}return{rotation:m,textAlign:k,textVerticalAlign:cc}}function a9(i){var e=i.get("tooltip");return i.get("silent")||!(i.get("triggerEvent")||(e&&e.show))}function Fv(G4,G5,e){var G6=G4.get("axisLabel.showMinLabel");var v3=G4.get("axisLabel.showMaxLabel");G5=G5||[];e=e||[];var v=G5[0];var v1=G5[1];var v2=G5[G5.length-1];var Z=G5[G5.length-2];var i=e[0];var cc=e[1];var m=e[e.length-1];var k=e[e.length-2];if(G6===false){rM(v);rM(i)}else{if(yH(v,v1)){if(G6){rM(v1);rM(cc)}else{rM(v);rM(i)}}}if(v3===false){rM(v2);rM(m)}else{if(yH(Z,v2)){if(v3){rM(Z);rM(k)}else{rM(v2);rM(m)}}}}function rM(e){e&&(e.ignore=true)}function yH(Z,m,i){var v=Z&&Z.getBoundingRect().clone();var e=m&&m.getBoundingRect().clone();if(!v||!e){return}var k=ln([]);jW(k,k,-Z.rotation);v.applyTransform(j([],k,Z.getLocalTransform()));e.applyTransform(j([],k,m.getLocalTransform()));return v.intersect(e)}function no(e){return e==="middle"||e==="center"}var fa=c3.ifIgnoreOnTick=function(Z,v,m,k,v1,v2){if(v===0&&v1||v===k-1&&v2){return false}var cc;var e=Z.scale;return e.type==="ordinal"&&(typeof m==="function"?(cc=e.getTicks()[v],!m(cc,e.getLabel(cc))):v%(m+1))};var dZ=c3.getInterval=function(k,e){var i=k.get("interval");if(i==null||i=="auto"){i=e}return i};function i4(G7,Z,e){var k=Z.axis;if(!Z.get("axisTick.show")||k.scale.isBlank()){return}var Hc=Z.getModel("axisTick");var G8=Hc.getModel("lineStyle");var G5=Hc.get("length");var v3=dZ(Hc,e.labelInterval);var G6=k.getTicksCoords(Hc.get("alignWithLabel"));var Hd=k.scale.getTicks();var v=Z.get("axisLabel.showMinLabel");var G4=Z.get("axisLabel.showMaxLabel");var v1=[];var cc=[];var G9=G7._transform;var Hb=[];var He=G6.length;for(var Ha=0;Ha<He;Ha++){if(fa(k,Ha,v3,He,v,G4)){continue}var v2=G6[Ha];v1[0]=v2;v1[1]=0;cc[0]=v2;cc[1]=e.tickDirection*G5;if(G9){aZ(v1,v1,G9);aZ(cc,cc,G9)}var m=new yK(de({anid:"tick_"+Hd[Ha],shape:{x1:v1[0],y1:v1[1],x2:cc[0],y2:cc[1]},style:Ch(G8.getLineStyle(),{stroke:Z.get("axisLine.lineStyle.color")}),z2:2,silent:true}));G7.group.add(m);Hb.push(m)}return Hb}function ud(Z,G6,e){var i=G6.axis;var G4=gg(e.axisLabelShow,G6.get("axisLabel.show"));if(!G4||i.scale.isBlank()){return}var Ha=G6.getModel("axisLabel");var v3=Ha.get("margin");var v2=i.scale.getTicks();var k=G6.getFormattedLabels();var G7=(gg(e.labelRotate,Ha.get("rotate"))||0)*xO/180;var G9=m9(e.rotation,G7,e.labelDirection);var v=G6.getCategories();var G5=[];var m=a9(G6);var v1=G6.get("triggerEvent");var G8=G6.get("axisLabel.showMinLabel");var cc=G6.get("axisLabel.showMaxLabel");ow(v2,function(Hh,Hb){if(fa(i,Hb,e.labelInterval,v2.length,G8,cc)){return}var Hg=Ha;if(v&&v[Hh]&&v[Hh].textStyle){Hg=new fg(v[Hh].textStyle,Ha,G6.ecModel)}var He=Hg.getTextColor()||G6.get("axisLine.lineStyle.color");var Hd=i.dataToCoord(Hh);var Hi=[Hd,e.labelOffset+e.labelDirection*v3];var Hf=i.scale.getLabel(Hh);var Hc=new iC({anid:"label_"+Hh,position:Hi,rotation:G9.rotation,silent:m,z2:10});oB(Hc.style,Hg,{text:k[Hb],textAlign:Hg.getShallow("align",true)||G9.textAlign,textVerticalAlign:Hg.getShallow("verticalAlign",true)||Hg.getShallow("baseline",true)||G9.textVerticalAlign,textFill:typeof He==="function"?He(i.type==="category"?Hf:i.type==="value"?Hh+"":Hh,Hb):He});if(v1){Hc.eventData=vd(G6);Hc.eventData.targetType="axisLabel";Hc.eventData.value=Hf}Z._dumbGroup.add(Hc);Hc.updateTransform();G5.push(Hc);Z.group.add(Hc);Hc.decomposeTransform()});return G5}var on=ow;var ty=rH;function h3(i,k){var e={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};eD(e,i,k);e.seriesInvolved&&F7(e,i);return e}function eD(i,e,v){var m=e.getComponent("tooltip");var cc=e.getComponent("axisPointer");var Z=cc.get("link",true)||[];var k=[];on(v.getCoordinateSystems(),function(G6){if(!G6.axisPointerEnabled){return}var v3=Ft(G6.model);var G4=i.coordSysAxesInfo[v3]={};i.coordSysMap[v3]=G6;var G5=G6.model;var G7=G5.getModel("tooltip",m);on(G6.getAxes(),ty(v1,false,null));if(G6.getTooltipAxes&&m&&G7.get("show")){var G9=G7.get("trigger")==="axis";var G8=G7.get("axisPointer.type")==="cross";var v2=G6.getTooltipAxes(G7.get("axisPointer.axis"));if(G9||G8){on(v2.baseAxes,ty(v1,G8?"cross":true,G9))}if(G8){on(v2.otherAxes,ty(v1,"cross",false))}}function v1(Hb,Hd,Hc){var Hh=Hc.model.getModel("axisPointer",cc);var Hk=Hh.get("show");if(!Hk||(Hk==="auto"&&!Hb&&!eF(Hh))){return}if(Hd==null){Hd=Hh.get("triggerTooltip")}Hh=Hb?m2(Hc,G7,cc,e,Hb,Hd):Hh;var He=Hh.get("snap");var Hj=Ft(Hc.model);var Hg=Hd||He||Hc.type==="category";var Hf=i.axesInfo[Hj]={key:Hj,axis:Hc,coordSys:G6,axisPointerModel:Hh,triggerTooltip:Hd,involveSeries:Hg,snap:He,useHandle:eF(Hh),seriesModels:[]};G4[Hj]=Hf;i.seriesInvolved|=Hg;var Hi=DZ(Z,Hc);if(Hi!=null){var Ha=k[Hi]||(k[Hi]={axesInfo:{}});Ha.axesInfo[Hj]=Hf;Ha.mapper=Z[Hi].mapper;Hf.linkGroup=Ha}}})}function m2(i,Z,v,v1,e,k){var m=Z.getModel("axisPointer");var cc={};on(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(G5){cc[G5]=B8(m.get(G5))});cc.snap=i.type!=="category"&&!!k;if(m.get("type")==="cross"){cc.type="line"}var G4=cc.label||(cc.label={});G4.show==null&&(G4.show=false);if(e==="cross"){var v3=m.get("label.show");G4.show=v3!=null?v3:true;if(!k){var v2=cc.lineStyle=m.get("crossStyle");v2&&Ch(G4,v2.textStyle)}}return i.model.getModel("axisPointer",new fg(cc,v,v1))}function F7(i,e){e.eachSeries(function(k){var v=k.coordinateSystem;var m=k.get("tooltip.trigger",true);var Z=k.get("tooltip.show",true);if(!v||m==="none"||m===false||m==="item"||Z===false||k.get("axisPointer.show",true)===false){return}on(i.coordSysAxesInfo[Ft(v.model)],function(cc){var v1=cc.axis;if(v.getAxis(v1.dim)===v1){cc.seriesModels.push(k);cc.seriesDataCount==null&&(cc.seriesDataCount=0);cc.seriesDataCount+=k.getData().count()}})},this)}function DZ(cc,m){var k=m.model;var Z=m.dim;for(var e=0;e<cc.length;e++){var v=cc[e]||{};if(po(v[Z+"AxisId"],k.id)||po(v[Z+"AxisIndex"],k.componentIndex)||po(v[Z+"AxisName"],k.name)){return e}}}function po(i,e){return i==="all"||(Fw(i)&&eB(i,e)>=0)||i===e}function ps(v1){var i=Cv(v1);if(!i){return}var Z=i.axisPointerModel;var e=i.axis.scale;var v=Z.option;var k=Z.get("status");var cc=Z.get("value");if(cc!=null){cc=e.parse(cc)}var m=eF(Z);if(k==null){v.status=m?"show":"hide"}var v2=e.getExtent().slice();v2[0]>v2[1]&&v2.reverse();if(cc==null||cc>v2[1]){cc=v2[1]}if(cc<v2[0]){cc=v2[0]}v.value=cc;if(m){v.status=i.axis.scale.isBlank()?"hide":"show"}}function Cv(e){var i=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return i&&i.axesInfo[Ft(e)]}function rK(i){var e=Cv(i);return e&&e.axisPointerModel}function eF(e){return !!e.get("handle.show")}function Ft(e){return e.type+"||"+e.id}var fO=pO({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(i,e,k,m){this.axisPointerClass&&ps(i);fO.superApply(this,"render",arguments);Dh(this,i,e,k,m,true)},updateAxisPointer:function(i,e,k,v,m){Dh(this,i,e,k,v,false)},remove:function(e,k){var i=this._axisPointer;i&&i.remove(k);fO.superApply(this,"remove",arguments)},dispose:function(e,i){lE(this,i);fO.superApply(this,"dispose",arguments)}});function Dh(v,i,e,k,Z,v1){var cc=fO.getAxisPointerClass(v.axisPointerClass);if(!cc){return}var m=rK(i);m?(v._axisPointer||(v._axisPointer=new cc())).render(i,m,k,v1):lE(v,k)}function lE(m,e,k){var i=m._axisPointer;i&&i.dispose(e,k);m._axisPointer=null}var Au=[];fO.registerAxisPointerClass=function(i,e){if(nK){if(Au[i]){throw new Error("axisPointer "+i+" exists")}}Au[i]=e};fO.getAxisPointerClass=function(e){return e&&Au[e]};function d9(v3,G4,k){k=k||{};var i=v3.coordinateSystem;var Z=G4.axis;var Hb={};var e=Z.position;var G5=Z.onZero?"onZero":e;var G7=Z.dim;var m=i.getRect();var G6=[m.x,m.x+m.width,m.y,m.y+m.height];var G8={left:0,right:1,top:0,bottom:1,onZero:2};var cc=G4.get("offset")||0;var G9=G7==="x"?[G6[2]-cc,G6[3]+cc]:[G6[0]-cc,G6[1]+cc];if(Z.onZero){var v=i.getAxis(G7==="x"?"y":"x",Z.onZeroAxisIndex);var v2=v.toGlobalCoord(v.dataToCoord(0));G9[G8.onZero]=Math.max(Math.min(v2,G9[1]),G9[0])}Hb.position=[G7==="y"?G9[G8[G5]]:G6[0],G7==="x"?G9[G8[G5]]:G6[3]];Hb.rotation=Math.PI/2*(G7==="x"?0:1);var v1={top:-1,bottom:1,left:-1,right:1};Hb.labelDirection=Hb.tickDirection=Hb.nameDirection=v1[e];Hb.labelOffset=Z.onZero?G9[G8[e]]-G9[G8.onZero]:0;if(G4.get("axisTick.inside")){Hb.tickDirection=-Hb.tickDirection}if(gg(k.labelInside,G4.get("axisLabel.inside"))){Hb.labelDirection=-Hb.labelDirection}var Ha=G4.get("axisLabel.rotate");Hb.labelRotate=G5==="top"?-Ha:Ha;Hb.labelInterval=Z.getLabelInterval();Hb.z2=1;return Hb}var CQ=c3.ifIgnoreOnTick;var x5=c3.getInterval;var EY=["axisLine","axisTickLabel","axisName"];var jk=["splitArea","splitLine"];var nH=fO.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(i,e,m,v1){this.group.removeAll();var k=this._axisGroup;this._axisGroup=new Bd();this.group.add(this._axisGroup);if(!i.get("show")){return}var Z=i.getCoordSysModel();var v=d9(Z,i);var cc=new c3(i,v);ow(EY,cc.add,cc);this._axisGroup.add(cc.getGroup());ow(jk,function(v2){if(i.get(v2+".show")){this["_"+v2](i,Z,v.labelInterval)}},this);C(k,this._axisGroup,i);nH.superCall(this,"render",i,e,m,v1)},_splitLine:function(G4,v3,Hb){var m=G4.axis;if(m.scale.isBlank()){return}var Hf=G4.getModel("splitLine");var G8=Hf.getModel("lineStyle");var He=G8.get("color");var v1=x5(Hf,Hb);He=Fw(He)?He:[He];var Hc=v3.coordinateSystem.getRect();var v2=m.isHorizontal();var G9=0;var G7=m.getTicksCoords();var Hd=m.scale.getTicks();var Z=G4.get("axisLabel.showMinLabel");var G6=G4.get("axisLabel.showMaxLabel");var k=[];var e=[];var v=G8.getLineStyle();for(var Ha=0;Ha<G7.length;Ha++){if(CQ(m,Ha,v1,G7.length,Z,G6)){continue}var G5=m.toGlobalCoord(G7[Ha]);if(v2){k[0]=G5;k[1]=Hc.y;e[0]=G5;e[1]=Hc.y+Hc.height}else{k[0]=Hc.x;k[1]=G5;e[0]=Hc.x+Hc.width;e[1]=G5}var cc=(G9++)%He.length;this._axisGroup.add(new yK(de({anid:"line_"+Hd[Ha],shape:{x1:k[0],y1:k[1],x2:e[0],y2:e[1]},style:Ch({stroke:He[cc]},v),silent:true})))}},_splitArea:function(v3,v2,Hg){var k=v3.axis;if(k.scale.isBlank()){return}var Hd=v3.getModel("splitArea");var Ha=Hd.getModel("areaStyle");var e=Ha.get("color");var Hh=v2.coordinateSystem.getRect();var G9=k.getTicksCoords();var Hi=k.scale.getTicks();var cc=k.toGlobalCoord(G9[0]);var Z=k.toGlobalCoord(G9[0]);var v1=0;var Hf=x5(Hd,Hg);var G7=Ha.getAreaStyle();e=Fw(e)?e:[e];var m=v3.get("axisLabel.showMinLabel");var G8=v3.get("axisLabel.showMaxLabel");for(var He=1;He<G9.length;He++){if(CQ(k,He,Hf,G9.length,m,G8)&&(He<G9.length-1)){continue}var G5=k.toGlobalCoord(G9[He]);var G6;var G4;var Hc;var Hb;if(k.isHorizontal()){G6=cc;G4=Hh.y;Hc=G5-G6;Hb=Hh.height}else{G6=Hh.x;G4=Z;Hc=Hh.width;Hb=G5-G4}var v=(v1++)%e.length;this._axisGroup.add(new DD({anid:"area_"+Hi[He],shape:{x:G6,y:G4,width:Hc,height:Hb},style:Ch({fill:e[v]},G7),silent:true}));cc=G6+Hc;Z=G4+Hb}}});nH.extend({type:"xAxis"});nH.extend({type:"yAxis"});pO({type:"grid",render:function(i,e){this.group.removeAll();if(i.get("show")){this.group.add(new DD({shape:i.coordinateSystem.getRect(),style:Ch({fill:i.get("backgroundColor")},i.getItemStyle()),silent:true,z2:-1}))}}});yc(function(e){if(e.xAxis&&e.yAxis&&!e.grid){e.grid={}}});E(lS("line","circle","line"));oM(pQ("line"));d3(Bb.PROCESSOR.STATISTIC,wE("line"));var vU=nl.extend({type:"series.__base_bar__",getInitialData:function(i,e){return a(this.getSource(),this)},getMarkerPosition:function(v){var k=this.coordinateSystem;if(k){var Z=k.dataToPoint(k.clampData(v));var m=this.getData();var cc=m.getLayout("offset");var i=m.getLayout("size");var e=k.getBaseAxis().isHorizontal()?0:1;Z[e]+=cc+i/2;return Z}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,itemStyle:{},emphasis:{}}});vU.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});function DH(e,i,v1,m,k,Z,cc){var v2=v1.getModel("label");var v=v1.getModel("emphasis.label");AG(e,i,v2,v,{labelFetcher:k,labelDataIndex:Z,defaultText:dO(k.getData(),Z),isRectText:true,autoColor:m});l4(e);l4(i)}function l4(i,e){if(i.textPosition==="outside"){i.textPosition=e}}var wN=xX([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var Gg={getBarItemStyle:function(k){var i=wN(this,k);if(this.getBorderLineDash){var e=this.getBorderLineDash();e&&(i.lineDash=e)}return i}};var zy=["itemStyle","barBorderWidth"];bY(fg.prototype,Gg);AO({type:"bar",render:function(i,e,k){var m=i.get("coordinateSystem");if(m==="cartesian2d"||m==="polar"){this._render(i,e,k)}else{if(nK){console.warn("Only cartesian2d and polar supported for bar.")}}return this.group},dispose:U,_render:function(i,Z,v1){var v2=this.group;var k=i.getData();var m=this._data;var cc=i.coordinateSystem;var e=cc.getBaseAxis();var v3;if(cc.type==="cartesian2d"){v3=e.isHorizontal()}else{if(cc.type==="polar"){v3=e.dim==="angle"}}var v=i.isAnimationEnabled()?i:null;k.diff(m).add(function(G4){if(!k.hasValue(G4)){return}var G6=k.getItemModel(G4);var G7=kB[cc.type](k,G4,G6);var G5=aq[cc.type](k,G4,G6,G7,v3,v);k.setItemGraphicEl(G4,G5);v2.add(G5);Av(G5,k,G4,G6,G7,i,v3,cc.type==="polar")}).update(function(G4,G8){var G6=m.getItemGraphicEl(G8);if(!k.hasValue(G4)){v2.remove(G6);return}var G5=k.getItemModel(G4);var G7=kB[cc.type](k,G4,G5);if(G6){og(G6,{shape:G7},v,G4)}else{G6=aq[cc.type](k,G4,G5,G7,v3,v,true)}k.setItemGraphicEl(G4,G6);v2.add(G6);Av(G6,k,G4,G5,G7,i,v3,cc.type==="polar")}).remove(function(G4){var G5=m.getItemGraphicEl(G4);if(cc.type==="cartesian2d"){G5&&qz(G4,v,G5)}else{G5&&ti(G4,v,G5)}}).execute();this._data=k},remove:function(e,i){var m=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(v){if(v.type==="sector"){ti(v.dataIndex,e,v)}else{qz(v.dataIndex,e,v)}})}}else{m.removeAll()}}});var aq={cartesian2d:function(i,v1,v3,k,cc,m,G4){var Z=new DD({shape:bY({},k)});if(m){var v2=Z.shape;var v=cc?"height":"width";var e={};v2[v]=0;e[v]=k[v];xr[G4?"updateProps":"initProps"](Z,{shape:e},m,v1)}return Z},polar:function(v,v2,G4,Z,m,cc,G5){var e=Z.startAngle<Z.endAngle;var k=new sI({shape:Ch({clockwise:e},Z)});if(cc){var v3=k.shape;var v1=m?"r":"endAngle";var i={};v3[v1]=m?0:Z.startAngle;i[v1]=Z[v1];xr[G5?"updateProps":"initProps"](k,{shape:i},cc,v2)}return k}};function qz(i,e,k){k.style.text=null;og(k,{shape:{width:0}},e,i,function(){k.parent&&k.parent.remove(k)})}function ti(i,e,k){k.style.text=null;og(k,{shape:{r:k.shape.r0}},e,i,function(){k.parent&&k.parent.remove(k)})}var kB={cartesian2d:function(Z,e,k){var v=Z.getItemLayout(e);var cc=uE(k,v);var m=v.width>0?1:-1;var i=v.height>0?1:-1;return{x:v.x+m*cc/2,y:v.y+i*cc/2,width:v.width-m*cc,height:v.height-i*cc}},polar:function(m,e,i){var k=m.getItemLayout(e);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function Av(e,Z,G4,G6,cc,k,v3,G7){var m=Z.getItemVisual(G4,"color");var v1=Z.getItemVisual(G4,"opacity");var v=G6.getModel("itemStyle");var i=G6.getModel("emphasis.itemStyle").getBarItemStyle();if(!G7){e.setShape("r",v.get("barBorderRadius")||0)}e.useStyle(Ch({fill:m,opacity:v1},v.getBarItemStyle()));var G5=G6.getShallow("cursor");G5&&e.attr("cursor",G5);var v2=v3?(cc.height>0?"bottom":"top"):(cc.width>0?"left":"right");if(!G7){DH(e.style,i,G6,m,k,G4,v2)}xz(e,i)}function uE(i,k){var e=i.get(zy)||0;return Math.min(e,Math.abs(k.width),Math.abs(k.height))}oM(rH(bz,"bar"));E(function(e){e.eachSeriesByType("bar",function(i){var k=i.getData();k.setVisual("legendSymbol","roundRect")})});var wt=function(e,i,Z){i=Fw(i)&&{coordDimensions:i}||bY({},i);var v=e.getSource();var k=xH(v,i);var m=new wF(k,e);m.initData(v,Z);return m};var DQ={updateSelectedMap:function(e){this._targetList=Fw(e)?e.slice():[];this._selectTargetMap=wm(e||[],function(i,k){i.set(k.name,k);return i},BN())},select:function(e,m){var i=m!=null?this._targetList[m]:this._selectTargetMap.get(e);var k=this.get("selectedMode");if(k==="single"){this._selectTargetMap.each(function(v){v.selected=false})}i&&(i.selected=true)},unSelect:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);i&&(i.selected=false)},toggleSelected:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);if(i!=null){this[i.selected?"unSelect":"select"](e,k);return i.selected}},isSelected:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);return i&&i.selected}};var yg=A6({type:"series.pie",init:function(e){yg.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(e)},mergeOption:function(e){yg.superCall(this,"mergeOption",e);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(i,e){return wt(this,["value"])},_createSelectableList:function(){var m=this.getRawData();var Z=m.mapDimension("value");var v=[];for(var k=0,e=m.count();k<e;k++){v.push({name:m.getName(k),value:m.get(Z,k),selected:Fq(m,k,"selected")})}return v},getDataParams:function(i){var k=this.getData();var m=yg.superCall(this,"getDataParams",i);var e=[];k.each(k.mapDimension("value"),function(v){e.push(v)});m.percent=au(e,i,k.hostModel.get("percentPrecision"));m.$vars.push("percent");return m},_defaultLabelLine:function(i){CB(i,"labelLine",["show"]);var e=i.labelLine;var k=i.emphasis.labelLine;e.show=e.show&&i.label.show;k.show=k.show&&i.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:true,percentPrecision:2,stillShowZeroSum:true,label:{rotate:false,show:true,position:"outer"},labelLine:{show:true,length:15,length2:15,smooth:false,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});Ff(yg,DQ);function vW(m,e,Z,v){var cc=e.getData();var k=this.dataIndex;var i=cc.getName(k);var v1=e.get("selectedOffset");v.dispatchAction({type:"pieToggleSelect",from:m,name:i,seriesId:e.id});cc.each(function(v2){AW(cc.getItemGraphicEl(v2),cc.getItemLayout(v2),e.isSelected(cc.getName(v2)),v1,Z)})}function AW(i,cc,e,m,v1){var k=(cc.startAngle+cc.endAngle)/2;var v3=Math.cos(k);var v2=Math.sin(k);var v=e?m:0;var Z=[v3*v,v2*v];v1?i.animate().when(200,{position:Z}).start("bounceOut"):i.attr("position",Z)}function GU(Z,k){Bd.call(this);var v=new sI({z2:2});var m=new zf();var cc=new iC();this.add(v);this.add(m);this.add(cc);this.updateData(Z,k,true);function i(){m.ignore=m.hoverIgnore;cc.ignore=cc.hoverIgnore}function e(){m.ignore=m.normalIgnore;cc.ignore=cc.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var nW=GU.prototype;nW.updateData=function(v,v2,v1){var i=this.childAt(0);var k=v.hostModel;var G6=v.getItemModel(v2);var cc=v.getItemLayout(v2);var G4=bY({},cc);G4.label=null;if(v1){i.setShape(G4);var e=k.getShallow("animationType");if(e==="scale"){i.shape.r=cc.r0;ji(i,{shape:{r:cc.r}},k,v2)}else{i.shape.endAngle=cc.startAngle;og(i,{shape:{endAngle:cc.endAngle}},k,v2)}}else{og(i,{shape:G4},k,v2)}var v3=v.getItemVisual(v2,"color");i.useStyle(Ch({lineJoin:"bevel",fill:v3},G6.getModel("itemStyle").getItemStyle()));i.hoverStyle=G6.getModel("emphasis.itemStyle").getItemStyle();var G5=G6.getShallow("cursor");G5&&i.attr("cursor",G5);AW(this,v.getItemLayout(v2),k.isSelected(null,v2),k.get("selectedOffset"),k.get("animation"));function m(){i.stopAnimation(true);i.animateTo({shape:{r:cc.r+k.get("hoverOffset")}},300,"elasticOut")}function Z(){i.stopAnimation(true);i.animateTo({shape:{r:cc.r}},300,"elasticOut")}i.off("mouseover").off("mouseout").off("emphasis").off("normal");if(G6.get("hoverAnimation")&&k.isAnimationEnabled()){i.on("mouseover",m).on("mouseout",Z).on("emphasis",m).on("normal",Z)}this._updateLabel(v,v2);xz(this)};nW._updateLabel=function(cc,v3){var Z=this.childAt(1);var k=this.childAt(2);var m=cc.hostModel;var G5=cc.getItemModel(v3);var v2=cc.getItemLayout(v3);var G7=v2.label;var G4=cc.getItemVisual(v3,"color");og(Z,{shape:{points:G7.linePoints||[[G7.x,G7.y],[G7.x,G7.y],[G7.x,G7.y]]}},m,v3);og(k,{style:{x:G7.x,y:G7.y}},m,v3);k.attr({rotation:G7.rotation,origin:[G7.x,G7.y],z2:10});var G6=G5.getModel("label");var v1=G5.getModel("emphasis.label");var v=G5.getModel("labelLine");var i=G5.getModel("emphasis.labelLine");var G4=cc.getItemVisual(v3,"color");AG(k.style,k.hoverStyle={},G6,v1,{labelFetcher:cc.hostModel,labelDataIndex:v3,defaultText:cc.getName(v3),autoColor:G4,useInsideStyle:!!G7.inside},{textAlign:G7.textAlign,textVerticalAlign:G7.verticalAlign,opacity:cc.getItemVisual(v3,"opacity")});k.ignore=k.normalIgnore=!G6.get("show");k.hoverIgnore=!v1.get("show");Z.ignore=Z.normalIgnore=!v.get("show");Z.hoverIgnore=!i.get("show");Z.setStyle({stroke:G4,opacity:cc.getItemVisual(v3,"opacity")});Z.setStyle(v.getModel("lineStyle").getLineStyle());Z.hoverStyle=i.getModel("lineStyle").getLineStyle();var e=v.get("smooth");if(e&&e===true){e=0.4}Z.setShape({smooth:e})};lZ(GU,Bd);var B2=dw.extend({type:"pie",init:function(){var e=new Bd();this._sectorGroup=e},render:function(m,cc,v2,G5){if(G5&&(G5.from===this.uid)){return}var v=m.getData();var Z=this._data;var G7=this.group;var v1=cc.get("animation");var G8=!Z;var k=m.get("animationType");var i=rH(vW,this.uid,m,v1,v2);var G4=m.get("selectedMode");v.diff(Z).add(function(G9){var Ha=new GU(v,G9);if(G8&&k!=="scale"){Ha.eachChild(function(Hb){Hb.stopAnimation(true)})}G4&&Ha.on("click",i);v.setItemGraphicEl(G9,Ha);G7.add(Ha)}).update(function(Hb,Ha){var G9=Z.getItemGraphicEl(Ha);G9.updateData(v,Hb);G9.off("click");G4&&G9.on("click",i);G7.add(G9);v.setItemGraphicEl(Hb,G9)}).remove(function(G9){var Ha=Z.getItemGraphicEl(G9);G7.remove(Ha)}).execute();if(v1&&G8&&v.count()>0&&k!=="scale"){var v3=v.getItemLayout(0);var e=Math.max(v2.getWidth(),v2.getHeight())/2;var G6=j0(G7.removeClipPath,G7);G7.setClipPath(this._createClipPath(v3.cx,v3.cy,e,v3.startAngle,v3.clockwise,G6,m))}this._data=v},dispose:function(){},_createClipPath:function(i,v1,cc,v,m,e,k){var Z=new sI({shape:{cx:i,cy:v1,r0:0,r:cc,startAngle:v,endAngle:v,clockwise:m}});ji(Z,{shape:{endAngle:v+(m?1:-1)*Math.PI*2}},k,e);return Z},containPoint:function(i,v){var cc=v.getData();var Z=cc.getItemLayout(0);if(Z){var m=i[0]-Z.cx;var k=i[1]-Z.cy;var e=Math.sqrt(m*m+k*k);return e<=Z.r&&e>=Z.r0}}});var eK=function(e,i){ow(i,function(k){k.update="updateView";bZ(k,function(Z,m){var v={};m.eachComponent({mainType:"series",subType:e,query:Z},function(cc){if(cc[k.method]){cc[k.method](Z.name,Z.dataIndex)}var v1=cc.getData();v1.each(function(v2){var v3=v1.getName(v2);v[v3]=cc.isSelected(v3)||false})});return{name:Z.name,selected:v}})})};var ez=function(e){return{getTargetSeries:function(i){var m={};var k=BN();i.eachSeriesByType(e,function(v){v.__paletteScope=m;k.set(v.uid,v)});return k},reset:function(k,i){var Z=k.getRawData();var v={};var m=k.getData();m.each(function(cc){var v1=m.getRawIndex(cc);v[v1]=cc});Z.each(function(G4){var v1=v[G4];var v2=v1!=null&&m.getItemVisual(v1,"color",true);if(!v2){var v3=Z.getItemModel(G4);var cc=v3.get("itemStyle.color")||k.getColorFromPalette(Z.getName(G4)||(G4+""),k.__paletteScope,Z.count());Z.setItemVisual(G4,"color",cc);if(v1!=null){m.setItemVisual(v1,"color",cc)}}else{Z.setItemVisual(G4,"color",v2)}})}}};function lq(G8,v3,v2,e,cc,G5,v1){G8.sort(function(Hb,i){return Hb.y-i.y});function G6(He,i,Hd,Hc){for(var Hb=He;Hb<i;Hb++){G8[Hb].y+=Hd;if(Hb>He&&Hb+1<i&&G8[Hb+1].y>G8[Hb].y+G8[Hb].height){Z(Hb,Hd/2);return}}Z(i-1,Hd/2)}function Z(i,Hc){for(var Hb=i;Hb>=0;Hb--){G8[Hb].y-=Hc;if(Hb>0&&G8[Hb].y>G8[Hb-1].y+G8[Hb-1].height){break}}}function Ha(Hm,Hn,Hj,Hh,Hb,Hf){var Hc=Hf>0?Hn?Number.MAX_VALUE:0:Hn?Number.MAX_VALUE:0;for(var Hl=0,Hg=Hm.length;Hl<Hg;Hl++){if(Hm[Hl].position==="center"){continue}var Hi=Math.abs(Hm[Hl].y-Hh);var He=Hm[Hl].len;var Hd=Hm[Hl].len2;var Hk=(Hi<Hb+He)?Math.sqrt((Hb+He+Hd)*(Hb+He+Hd)-Hi*Hi):Math.abs(Hm[Hl].x-Hj);if(Hn&&Hk>=Hc){Hk=Hc-10}if(!Hn&&Hk<=Hc){Hk=Hc+10}Hm[Hl].x=Hj+Hk*Hf;Hc=Hk}}var m=0;var G9;var G7=G8.length;var k=[];var v=[];for(var G4=0;G4<G7;G4++){G9=G8[G4].y-m;if(G9<0){G6(G4,G7,-G9,cc)}m=G8[G4].y+G8[G4].height}if(v1-m<0){Z(G7-1,m-v1)}for(var G4=0;G4<G7;G4++){if(G8[G4].y>=v2){v.push(G8[G4])}else{k.push(G8[G4])}}Ha(k,false,v3,v2,e,cc);Ha(v,true,v3,v2,e,cc)}function g1(v3,Z,v,e,v2,m){var v1=[];var k=[];for(var cc=0;cc<v3.length;cc++){if(v3[cc].x<Z){v1.push(v3[cc])}else{k.push(v3[cc])}}lq(k,Z,v,e,1,v2,m);lq(v1,Z,v,e,-1,v2,m);for(var cc=0;cc<v3.length;cc++){var G5=v3[cc].linePoints;if(G5){var G4=G5[1][0]-G5[2][0];if(v3[cc].x<Z){G5[2][0]=v3[cc].x+3}else{G5[2][0]=v3[cc].x-3}G5[1][1]=G5[2][1]=v3[cc].y;G5[1][0]=G5[2][0]+G4}}}var EM=function(m,e,cc,i){var Z=m.getData();var v1=[];var v;var k;var v2=false;Z.each(function(Hj){var Hs=Z.getItemLayout(Hj);var Ho=Z.getItemModel(Hj);var Hd=Ho.getModel("label");var v3=Hd.get("position")||Ho.get("emphasis.label.position");var Hm=Ho.getModel("labelLine");var Hc=Hm.get("length");var G6=Hm.get("length2");var He=(Hs.startAngle+Hs.endAngle)/2;var Hg=Math.cos(He);var Hf=Math.sin(He);var Hl;var Hk;var Hb;var G9;v=Hs.cx;k=Hs.cy;var Ha=v3==="inside"||v3==="inner";if(v3==="center"){Hl=Hs.cx;Hk=Hs.cy;G9="center"}else{var Hr=(Ha?(Hs.r+Hs.r0)/2*Hg:Hs.r*Hg)+v;var G8=(Ha?(Hs.r+Hs.r0)/2*Hf:Hs.r*Hf)+k;Hl=Hr+Hg*3;Hk=G8+Hf*3;if(!Ha){var Hq=Hr+Hg*(Hc+e-Hs.r);var G7=G8+Hf*(Hc+e-Hs.r);var Hp=Hq+((Hg<0?-1:1)*G6);var G5=G7;Hl=Hp+(Hg<0?-5:5);Hk=G5;Hb=[[Hr,G8],[Hq,G7],[Hp,G5]]}G9=Ha?"center":(Hg>0?"left":"right")}var Hi=Hd.getFont();var Hn=Hd.get("rotate")?(Hg<0?-He+Math.PI:-He):0;var Hh=m.getFormattedLabel(Hj,"normal")||Z.getName(Hj);var G4=Fg(Hh,Hi,G9,"top");v2=!!Hn;Hs.label={x:Hl,y:Hk,position:v3,height:G4.height,len:Hc,len2:G6,linePoints:Hb,textAlign:G9,verticalAlign:"middle",rotation:Hn,inside:Ha};if(!Ha){v1.push(Hs.label)}});if(!v2&&m.get("avoidLabelOverlap")){g1(v1,v,k,e,cc,i)}};var FM=Math.PI*2;var wP=Math.PI/180;var bd=function(i,e,k,m){e.eachSeriesByType(i,function(Hd){var Hn=Hd.getData();var v2=Hn.mapDimension("value");var Hm=Hd.get("center");var v3=Hd.get("radius");if(!Fw(v3)){v3=[0,v3]}if(!Fw(Hm)){Hm=[Hm,Hm]}var Hg=k.getWidth();var G9=k.getHeight();var G8=Math.min(Hg,G9);var cc=yW(Hm[0],Hg);var Z=yW(Hm[1],G9);var Hj=yW(v3[0],G8/2);var G7=yW(v3[1],G8/2);var Hi=-Hd.get("startAngle")*wP;var Hh=Hd.get("minAngle")*wP;var Hc=0;Hn.each(v2,function(Ho){!isNaN(Ho)&&Hc++});var v=Hn.getSum(v2);var Hb=Math.PI/(v||Hc)*2;var Hk=Hd.get("clockwise");var Hf=Hd.get("roseType");var G4=Hd.get("stillShowZeroSum");var G5=Hn.getDataExtent(v2);G5[0]=0;var He=FM;var v1=0;var G6=Hi;var Ha=Hk?1:-1;Hn.each(v2,function(Hq,Ho){var Hr;if(isNaN(Hq)){Hn.setItemLayout(Ho,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:Hk,cx:cc,cy:Z,r0:Hj,r:Hf?NaN:G7});return}if(Hf!=="area"){Hr=(v===0&&G4)?Hb:(Hq*Hb)}else{Hr=FM/Hc}if(Hr<Hh){Hr=Hh;He-=Hh}else{v1+=Hq}var Hp=G6+Ha*Hr;Hn.setItemLayout(Ho,{angle:Hr,startAngle:G6,endAngle:Hp,clockwise:Hk,cx:cc,cy:Z,r0:Hj,r:Hf?DM(Hq,G5,[Hj,G7]):G7});G6=Hp});if(He<FM&&Hc){if(He<=0.001){var Hl=FM/Hc;Hn.each(v2,function(Hq,Ho){if(!isNaN(Hq)){var Hp=Hn.getItemLayout(Ho);Hp.angle=Hl;Hp.startAngle=Hi+Ha*Ho*Hl;Hp.endAngle=Hi+Ha*(Ho+1)*Hl}})}else{Hb=He/v1;G6=Hi;Hn.each(v2,function(Hq,Ho){if(!isNaN(Hq)){var Hp=Hn.getItemLayout(Ho);var Hr=Hp.angle===Hh?Hh:Hq*Hb;Hp.startAngle=G6;Hp.endAngle=G6+Ha*Hr;G6+=Ha*Hr}})}}EM(Hd,G7,Hg,G9)})};var C6=function(e){return{seriesType:e,reset:function(m,i){var k=i.findComponents({mainType:"legend"});if(!k||!k.length){return}var v=m.getData();v.filterSelf(function(Z){var cc=v.getName(Z);for(var v1=0;v1<k.length;v1++){if(!k[v1].isSelected(cc)){return false}}return true})}}};eK("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);E(ez("pie"));oM(rH(bd,"pie"));d3(C6("pie"));nl.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(i,e){return a(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;if(e==null){return this.option.large?5000:this.get("progressive")}return e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?10000:this.get("progressiveThreshold")}return e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,symbolSize:10,large:false,largeThreshold:2000,itemStyle:{opacity:0.8},progressive:null}});var fv=4;var i0=Gi({shape:{points:null},symbolProxy:null,buildPath:function(G4,k){var cc=k.points;var G5=k.size;var v1=this.symbolProxy;var Z=v1.shape;var v3=G4.getContext?G4.getContext():G4;var v2=v3&&G5[0]<fv;if(v2){return}for(var e=0;e<cc.length;){var v=cc[e++];var m=cc[e++];if(isNaN(v)||isNaN(m)){continue}Z.x=v-G5[0]/2;Z.y=m-G5[1]/2;Z.width=G5[0];Z.height=G5[1];v1.buildPath(G4,Z,true)}},afterBrush:function(k){var m=this.shape;var v1=m.points;var cc=m.size;var v=cc[0]<fv;if(!v){return}this.setTransform(k);for(var Z=0;Z<v1.length;){var e=v1[Z++];var v2=v1[Z++];if(isNaN(e)||isNaN(v2)){continue}k.fillRect(e-cc[0]/2,v2-cc[1]/2,cc[0],cc[1])}this.restoreTransform(k)},findDataIndex:function(cc,Z){var v=this.shape;var G4=v.points;var G5=v.size;var v2=Math.max(G5[0],4);var m=Math.max(G5[1],4);for(var v3=G4.length/2-1;v3>=0;v3--){var k=v3*2;var e=G4[k]-v2/2;var v1=G4[k+1]-m/2;if(cc>=e&&Z>=v1&&cc<=e+v2&&Z<=v1+m){return v3}}return -1}});function sb(){this.group=new Bd()}var pg=sb.prototype;pg.isPersistent=function(){return !this._incremental};pg.updateData=function(e){this.group.removeAll();var i=new i0({rectHover:true,cursor:"default"});i.setShape({points:e.getLayout("symbolPoints")});this._setCommon(i,e);this.group.add(i);this._incremental=null};pg.updateLayout=function(i){if(this._incremental){return}var e=i.getLayout("symbolPoints");this.group.eachChild(function(v){if(v.startIndex!=null){var k=(v.endIndex-v.startIndex)*2;var m=v.startIndex*4*2;e=new Float32Array(e.buffer,m,k)}v.setShape("points",e)})};pg.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clearIncremental();if(e.count()>2000000){if(!this._incremental){this._incremental=new yU({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};pg.incrementalUpdate=function(i,e){var k;if(this._incremental){k=new i0();this._incremental.addDisplayable(k,true)}else{k=new i0({rectHover:true,cursor:"default",startIndex:i.start,endIndex:i.end});k.incremental=true;this.group.add(k)}k.setShape({points:e.getLayout("symbolPoints")});this._setCommon(k,e,!!this._incremental)};pg._setCommon=function(cc,v,i){var Z=v.hostModel;var m=v.getVisual("symbolSize");cc.setShape("size",(m instanceof Array)?m:[m,m]);cc.symbolProxy=tk(v.getVisual("symbol"),0,0,0,0);cc.setColor=cc.symbolProxy.setColor;var e=cc.shape.size[0]<fv;cc.useStyle(Z.getModel("itemStyle").getItemStyle(e?["color","shadowBlur","shadowColor"]:["color"]));var k=v.getVisual("color");if(k){cc.setColor(k)}if(!i){cc.seriesIndex=Z.seriesIndex;cc.on("mousemove",function(v2){cc.dataIndex=null;var v1=cc.findDataIndex(v2.offsetX,v2.offsetY);if(v1>=0){cc.dataIndex=v1+(cc.startIndex||0)}})}};pg.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};pg._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};AO({type:"scatter",render:function(i,e,m){var v=i.getData();var k=this._updateSymbolDraw(v,i);k.updateData(v);this._finished=true},incrementalPrepareRender:function(i,e,m){var v=i.getData();var k=this._updateSymbolDraw(v,i);k.incrementalPrepareUpdate(v);this._finished=false},incrementalRender:function(k,i,e){this._symbolDraw.incrementalUpdate(k,i.getData());this._finished=k.end===i.getData().count()},updateTransform:function(i,e,m){var v=i.getData();this.group.dirty();if(!this._finished||v.count()>10000||!this._symbolDraw.isPersistent()){return{update:true}}else{var k=pQ().reset(i);if(k.progress){k.progress({start:0,end:v.count()},v)}this._symbolDraw.updateLayout(v)}},_updateSymbolDraw:function(v,i){var k=this._symbolDraw;var m=i.pipelineContext;var e=m.large;if(!k||e!==this._isLargeDraw){k&&k.remove();k=this._symbolDraw=e?new sb():new D4();this._isLargeDraw=e;this.group.removeAll()}this.group.add(k.group);return k},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null},dispose:function(){}});E(lS("scatter","circle"));oM(pQ("scatter"));function rQ(i,k,e){AV.call(this,i,k,e);this.type="value";this.angle=0;this.name="";this.model}lZ(rQ,AV);function na(k,e,i){this._model=k;this.dimensions=[];this._indicatorAxes=De(k.getIndicatorModels(),function(Z,m){var cc="indicator_"+m;var v=new rQ(cc,new BD());v.name=Z.get("name");v.model=Z;Z.axis=v;this.dimensions.push(cc);return v},this);this.resize(k,i);this.cx;this.cy;this.r;this.startAngle}na.prototype.getIndicatorAxes=function(){return this._indicatorAxes};na.prototype.dataToPoint=function(k,i){var e=this._indicatorAxes[i];return this.coordToPoint(e.dataToCoord(k),i)};na.prototype.coordToPoint=function(Z,k){var i=this._indicatorAxes[k];var m=i.angle;var e=this.cx+Z*Math.cos(m);var v=this.cy-Z*Math.sin(m);return[e,v]};na.prototype.pointToData=function(G4){var G5=G4[0]-this.cx;var v3=G4[1]-this.cy;var Z=Math.sqrt(G5*G5+v3*v3);G5/=Z;v3/=Z;var cc=Math.atan2(-v3,G5);var v=Infinity;var k;var m=-1;for(var e=0;e<this._indicatorAxes.length;e++){var v2=this._indicatorAxes[e];var v1=Math.abs(cc-v2.angle);if(v1<v){k=v2;m=e;v=v1}}return[m,+(k&&k.coodToData(Z))]};na.prototype.resize=function(v,m){var e=v.get("center");var k=m.getWidth();var i=m.getHeight();var Z=Math.min(k,i)/2;this.cx=yW(e[0],k);this.cy=yW(e[1],i);this.startAngle=v.get("startAngle")*Math.PI/180;this.r=yW(v.get("radius"),Z);ow(this._indicatorAxes,function(v1,cc){v1.setExtent(0,this.r);var v2=(this.startAngle+cc*Math.PI*2/this._indicatorAxes.length);v2=Math.atan2(Math.sin(v2),Math.cos(v2));v1.angle=v2},this)};na.prototype.update=function(e,m){var k=this._indicatorAxes;var v=this._model;ow(k,function(cc){cc.scale.setExtent(Infinity,-Infinity)});e.eachSeriesByType("radar",function(v2,cc){if(v2.get("coordinateSystem")!=="radar"||e.getComponent("radar",v2.get("radarIndex"))!==v){return}var v1=v2.getData();ow(k,function(v3){v3.scale.unionExtentFromData(v1,v1.mapDimension(v3.dim))})},this);var Z=v.get("splitNumber");function i(v1){var cc=Math.pow(10,Math.floor(Math.log(v1)/Math.LN10));var v2=v1/cc;if(v2===2){v2=5}else{v2*=2}return v2*cc}ow(k,function(G8,G9){var G6=Ev(G8.scale,G8.model);ne(G8.scale,G8.model);var Hb=G8.model;var v2=G8.scale;var Hc=Hb.getMin();var v3=Hb.getMax();var v1=v2.getInterval();if(Hc!=null&&v3!=null){v2.setExtent(+Hc,+v3);v2.setInterval((v3-Hc)/Z)}else{if(Hc!=null){var G7;do{G7=Hc+v1*Z;v2.setExtent(+Hc,G7);v2.setInterval(v1);v1=i(v1)}while(G7<G6[1]&&isFinite(G7)&&isFinite(G6[1]))}else{if(v3!=null){var G5;do{G5=v3-v1*Z;v2.setExtent(G5,+v3);v2.setInterval(v1);v1=i(v1)}while(G5>G6[0]&&isFinite(G5)&&isFinite(G6[0]))}else{var G4=v2.getTicks().length-1;if(G4>Z){v1=i(v1)}var cc=Math.round((G6[0]+G6[1])/2/v1)*v1;var Ha=Math.round(Z/2);v2.setExtent(EE(cc-Ha*v1),EE(cc+(Z-Ha)*v1));v2.setInterval(v1)}}}})};na.dimensions=[];na.create=function(e,k){var i=[];e.eachComponent("radar",function(v){var m=new na(v,e,k);i.push(m);v.coordinateSystem=m});e.eachSeriesByType("radar",function(m){if(m.get("coordinateSystem")==="radar"){m.coordinateSystem=i[m.get("radarIndex")||0]}});return i};fk.register("radar",na);var re=bG.valueAxis;function yF(i,e){return Ch({show:e},i)}var FT=pk({type:"radar",optionUpdated:function(){var v=this.get("boundaryGap");var e=this.get("splitNumber");var Z=this.get("scale");var i=this.get("axisLine");var v2=this.get("axisTick");var k=this.get("axisLabel");var m=this.get("name");var G5=this.get("name.show");var v3=this.get("name.formatter");var v1=this.get("nameGap");var G4=this.get("triggerEvent");var cc=De(this.get("indicator")||[],function(G6){if(G6.max!=null&&G6.max>0&&!G6.min){G6.min=0}else{if(G6.min!=null&&G6.min<0&&!G6.max){G6.max=0}}var G9=m;if(G6.color!=null){G9=Ch({color:G6.color},m)}G6=vb(B8(G6),{boundaryGap:v,splitNumber:e,scale:Z,axisLine:i,axisTick:v2,axisLabel:k,name:G6.text,nameLocation:"end",nameGap:v1,nameTextStyle:G9,triggerEvent:G4},false);if(!G5){G6.name=""}if(typeof v3==="string"){var G8=G6.name;G6.name=v3.replace("{value}",G8!=null?G8:"")}else{if(typeof v3==="function"){G6.name=v3(G6.name,G6)}}var G7=bY(new fg(G6,null,this.ecModel),m4);G7.mainType="radar";G7.componentIndex=this.componentIndex;return G7},this);this.getIndicatorModels=function(){return cc}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:true},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:false,shape:"polygon",axisLine:vb({lineStyle:{color:"#bbb"}},re.axisLine),axisLabel:yF(re.axisLabel,false),axisTick:yF(re.axisTick,false),splitLine:yF(re.splitLine,true),splitArea:yF(re.splitArea,true),indicator:[]}});var DP=["axisLine","axisTickLabel","axisName"];pO({type:"radar",render:function(k,e,i){var m=this.group;m.removeAll();this._buildAxes(k);this._buildSplitLineAndArea(k)},_buildAxes:function(k){var i=k.coordinateSystem;var e=i.getIndicatorAxes();var m=De(e,function(v){var Z=new c3(v.model,{position:[i.cx,i.cy],rotation:v.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return Z});ow(m,function(v){ow(DP,v.add,v);this.group.add(v.getGroup())},this)},_buildSplitLineAndArea:function(v3){var Hb=v3.coordinateSystem;var Hh=Hb.getIndicatorAxes();if(!Hh.length){return}var e=v3.get("shape");var Hl=v3.getModel("splitLine");var Hd=v3.getModel("splitArea");var G8=Hl.getModel("lineStyle");var G7=Hd.getModel("areaStyle");var Hg=Hl.get("show");var Z=Hd.get("show");var v1=G8.get("color");var Hi=G7.get("color");v1=Fw(v1)?v1:[v1];Hi=Fw(Hi)?Hi:[Hi];var G9=[];var Hj=[];function G6(Hn,Hm,i){var Ho=i%Hm.length;Hn[Ho]=Hn[Ho]||[];return Ho}if(e==="circle"){var Hk=Hh[0].getTicksCoords();var cc=Hb.cx;var k=Hb.cy;for(var Hf=0;Hf<Hk.length;Hf++){if(Hg){var v2=G6(G9,v1,Hf);G9[v2].push(new Fx({shape:{cx:cc,cy:k,r:Hk[Hf]}}))}if(Z&&Hf<Hk.length-1){var v2=G6(Hj,Hi,Hf);Hj[v2].push(new rg({shape:{cx:cc,cy:k,r0:Hk[Hf],r:Hk[Hf+1]}}))}}}else{var G5;var v=De(Hh,function(Hn,i){var Hm=Hn.getTicksCoords();G5=G5==null?Hm.length-1:Math.min(Hm.length-1,G5);return De(Hm,function(Ho){return Hb.coordToPoint(Ho,i)})});var Ha=[];for(var Hf=0;Hf<=G5;Hf++){var He=[];for(var Hc=0;Hc<Hh.length;Hc++){He.push(v[Hc][Hf])}if(He[0]){He.push(He[0].slice())}else{if(nK){console.error("Can't draw value axis "+Hf)}}if(Hg){var v2=G6(G9,v1,Hf);G9[v2].push(new zf({shape:{points:He}}))}if(Z&&Ha){var v2=G6(Hj,Hi,Hf-1);Hj[v2].push(new hV({shape:{points:He.concat(Ha)}}))}Ha=He.slice().reverse()}}var m=G8.getLineStyle();var G4=G7.getAreaStyle();ow(Hj,function(Hm,i){this.group.add(qm(Hm,{style:Ch({stroke:"none",fill:Hi[i%Hi.length]},G4),silent:true}))},this);ow(G9,function(Hm,i){this.group.add(qm(Hm,{style:Ch({fill:"none",stroke:v1[i%v1.length]},m),silent:true}))},this)}});var oj=nl.extend({type:"series.radar",dependencies:["radar"],init:function(e){oj.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(i,e){return wt(this,{generateCoord:"indicator_",generateCoordCount:Infinity})},formatTooltip:function(k){var v=this.getData();var i=this.coordinateSystem;var m=i.getIndicatorAxes();var e=this.getData().getName(k);return l3(e===""?this.name:e)+"<br/>"+De(m,function(cc,Z){var v1=v.get(v.mapDimension(cc.dim),k);return l3(cc.name+" : "+v1)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});function qp(e){if(!Fw(e)){e=[+e,+e]}return e}AO({type:"radar",render:function(m,v1,v2){var e=m.coordinateSystem;var v3=this.group;var Z=m.getData();var cc=this._data;function i(G8,G5){var G9=G8.getItemVisual(G5,"symbol")||"circle";var G6=G8.getItemVisual(G5,"color");if(G9==="none"){return}var G7=qp(G8.getItemVisual(G5,"symbolSize"));var G4=tk(G9,-1,-1,2,2,G6);G4.attr({style:{strokeNoScale:true},z2:100,scale:[G7[0]/2,G7[1]/2]});return G4}function v(G7,G8,Ha,G9,G5,Hb){Ha.removeAll();for(var G6=0;G6<G8.length-1;G6++){var G4=i(G9,G5);if(G4){G4.__dimIdx=G6;if(G7[G6]){G4.attr("position",G7[G6]);xr[Hb?"initProps":"updateProps"](G4,{position:G8[G6]},m,G5)}else{G4.attr("position",G8[G6])}Ha.add(G4)}}}function k(G4){return De(G4,function(G5){return[e.cx,e.cy]})}Z.diff(cc).add(function(G4){var G7=Z.getItemLayout(G4);if(!G7){return}var G6=new hV();var G5=new zf();var G9={shape:{points:G7}};G6.shape.points=k(G7);G5.shape.points=k(G7);ji(G6,G9,m,G4);ji(G5,G9,m,G4);var Ha=new Bd();var G8=new Bd();Ha.add(G5);Ha.add(G6);Ha.add(G8);v(G5.shape.points,G7,G8,Z,G4,true);Z.setItemGraphicEl(G4,Ha)}).update(function(G7,G6){var Ha=cc.getItemGraphicEl(G6);var G4=Ha.childAt(0);var G5=Ha.childAt(1);var G9=Ha.childAt(2);var G8={shape:{points:Z.getItemLayout(G7)}};if(!G8.shape.points){return}v(G4.shape.points,G8.shape.points,G9,Z,G7,false);og(G4,G8,m);og(G5,G8,m);Z.setItemGraphicEl(G7,Ha)}).remove(function(G4){v3.remove(cc.getItemGraphicEl(G4))}).execute();Z.eachItemGraphicEl(function(G8,Hi){var Hj=Z.getItemModel(Hi);var Hg=G8.childAt(0);var Hf=G8.childAt(1);var G5=G8.childAt(2);var G9=Z.getItemVisual(Hi,"color");v3.add(G8);Hg.useStyle(Ch(Hj.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:G9}));Hg.hoverStyle=Hj.getModel("emphasis.lineStyle").getLineStyle();var Hh=Hj.getModel("areaStyle");var Hd=Hj.getModel("emphasis.areaStyle");var G6=Hh.isEmpty()&&Hh.parentModel.isEmpty();var He=Hd.isEmpty()&&Hd.parentModel.isEmpty();He=He&&G6;Hf.ignore=G6;Hf.useStyle(Ch(Hh.getAreaStyle(),{fill:G9,opacity:0.7}));Hf.hoverStyle=Hd.getAreaStyle();var Hc=Hj.getModel("itemStyle").getItemStyle(["color"]);var G4=Hj.getModel("emphasis.itemStyle").getItemStyle();var Hk=Hj.getModel("label");var Hb=Hj.getModel("emphasis.label");G5.eachChild(function(Hl){Hl.setStyle(Hc);Hl.hoverStyle=B8(G4);AG(Hl.style,Hl.hoverStyle,Hk,Hb,{labelFetcher:Z.hostModel,labelDataIndex:Hi,labelDimIndex:Hl.__dimIdx,defaultText:Z.get(Z.dimensions[Hl.__dimIdx],Hi),autoColor:G9,isRectText:true})});function G7(){Hf.attr("ignore",He)}function Ha(){Hf.attr("ignore",G6)}G8.off("mouseover").off("mouseout").off("normal").off("emphasis");G8.on("emphasis",G7).on("mouseover",G7).on("normal",Ha).on("mouseout",Ha);xz(G8)});this._data=Z},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});var Bs=function(e){e.eachSeriesByType("radar",function(m){var v1=m.getData();var cc=[];var Z=m.coordinateSystem;if(!Z){return}function k(v3,i){cc[i]=cc[i]||[];cc[i][v]=Z.dataToPoint(v3,v)}var v2=Z.getIndicatorAxes();for(var v=0;v<Z.getIndicatorAxes().length;v++){v1.each(v1.mapDimension(v2[v].dim),k)}v1.each(function(i){cc[i][0]&&cc[i].push(cc[i][0].slice());v1.setItemLayout(i,cc[i])})})};var ke=function(k){var i=k.polar;if(i){if(!Fw(i)){i=[i]}var e=[];ow(i,function(v,m){if(v.indicator){if(v.type&&!v.shape){v.shape=v.type}k.radar=k.radar||[];if(!Fw(k.radar)){k.radar=[k.radar]}k.radar.push(v)}else{e.push(v)}});k.polar=e}ow(k.series,function(m){if(m&&m.type==="radar"&&m.polarIndex){m.radarIndex=m.polarIndex}})};E(ez("radar"));E(lS("radar","circle"));oM(Bs);d3(C6("radar"));yc(ke);var yI=aZ;function qP(){bI.call(this)}Ff(qP,bI);function Bq(e){this.name=e;this.zoomLimit;bI.call(this);this._roamTransformable=new qP();this._rawTransformable=new qP();this._center;this._zoom}Bq.prototype={constructor:Bq,type:"view",dimensions:["x","y"],setBoundingRect:function(i,m,k,e){this._rect=new BM(i,m,k,e);return this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(i,m,k,e){this.transformTo(i,m,k,e);this._viewRect=new BM(i,m,k,e)},transformTo:function(i,Z,m,e){var v=this.getBoundingRect();var k=this._rawTransformable;k.transform=v.calculateTransform(new BM(i,Z,m,e));k.decomposeTransform();this._updateTransform()},setCenter:function(e){if(!e){return}this._center=e;this._updateCenterAndZoom()},setZoom:function(i){i=i||1;var e=this.zoomLimit;if(e){if(e.max!=null){i=Math.min(e.max,i)}if(e.min!=null){i=Math.max(e.min,i)}}this._zoom=i;this._updateCenterAndZoom()},getDefaultCenter:function(){var i=this.getBoundingRect();var e=i.x+i.width/2;var k=i.y+i.height/2;return[e,k]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var m=this._rawTransformable.getLocalTransform();var i=this._roamTransformable;var v=this.getDefaultCenter();var e=this.getCenter();var k=this.getZoom();e=aZ([],e,m);v=aZ([],v,m);i.origin=e;i.position=[v[0]-e[0],v[1]-e[1]];i.scale=[k,k];this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable;var i=this._rawTransformable;i.parent=e;e.updateTransform();i.updateTransform();yC(this.transform||(this.transform=[]),i.transform||BF());this._rawTransform=i.getLocalTransform();this.invTransform=this.invTransform||[];fs(this.invTransform,this.transform);this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();e.applyTransform(this.transform);return e},dataToPoint:function(m,k,i){var e=k?this._rawTransform:this.transform;i=i||[];return e?yI(i,m,e):xS(i,m)},pointToData:function(e){var i=this.invTransform;return i?yI([],e,i):[e[0],e[1]]},convertToPixel:rH(gy,"dataToPoint"),convertFromPixel:rH(gy,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}};Ff(Bq,bI);function gy(k,e,Z,v){var i=Z.seriesModel;var m=i?i.coordinateSystem:null;return m===this?m[k](v):null}var gI=[126,25];var CM=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var zo=0;zo<CM.length;zo++){for(var F1=0;F1<CM[zo].length;F1++){CM[zo][F1][0]/=10.5;CM[zo][F1][1]/=-10.5/0.75;CM[zo][F1][0]+=gI[0];CM[zo][F1][1]+=gI[1]}}var nZ=function(e){if(e.map==="china"){e.regions.push(new u3("",De(CM,function(i){return{type:"polygon",exterior:i}}),gI))}};var j5={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var bD=function(e){ow(e.regions,function(m){var k=j5[m.name];if(k){var i=m.center;i[0]+=k[0]/10.5;i[1]+=-k[1]/(10.5/0.75)}})};var hm={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};var Gk=function(e){ow(e.regions,function(k){var m=hm[k.name];if(m){var i=k.center;i[0]=m[0];i[1]=m[1]}})};var CL=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var E6=function(m){if(m.map==="china"){for(var k=0,e=m.regions.length;k<e;++k){if(m.regions[k].name===""){m.regions[k].geometries.push({type:"polygon",exterior:CL[0]})}}}};var wj=[nZ,bD,Gk,E6];function x4(i,k,e,m,v){Bq.call(this,i);this.map=k;this._nameCoordMap=BN();this.loadGeoJson(e,m,v)}x4.prototype={constructor:x4,type:"geo",dimensions:["lng","lat"],containCoord:function(m){var k=this.regions;for(var e=0;e<k.length;e++){if(k[e].contain(m)){return true}}return false},loadGeoJson:function(v,cc,v3){try{this.regions=v?bJ(v):[]}catch(v2){throw"Invalid geoJson format\n"+v2.message}cc=cc||{};v3=v3||{};var m=this.regions;var G4=BN();for(var Z=0;Z<m.length;Z++){var k=m[Z].name;k=v3.hasOwnProperty(k)?v3[k]:k;m[Z].name=k;G4.set(k,m[Z]);this.addGeoCoord(k,m[Z].center);var v1=cc[k];if(v1){m[Z].transformTo(v1.left,v1.top,v1.width,v1.height)}}this._regionsMap=G4;this._rect=null;ow(wj,function(e){e(this)},this)},transformTo:function(i,cc,k,e){var m=this.getBoundingRect();m=m.clone();m.y=-m.y-m.height;var Z=this._rawTransformable;Z.transform=m.calculateTransform(new BM(i,cc,k,e));Z.decomposeTransform();var v=Z.scale;v[1]=-v[1];Z.updateTransform();this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(m){var k=this.regions;for(var e=0;e<k.length;e++){if(k[e].contain(m)){return k[e]}}},addGeoCoord:function(e,i){this._nameCoordMap.set(e,i)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){if(this._rect){return this._rect}var m;var v=this.regions;for(var k=0;k<v.length;k++){var e=v[k].getBoundingRect();m=m||e.clone();m.union(e)}return(this._rect=m||new BM(0,0,0,0))},dataToPoint:function(k,i,e){if(typeof k==="string"){k=this.getGeoCoord(k)}if(k){return Bq.prototype.dataToPoint.call(this,k,i,e)}},convertToPixel:rH(kh,"dataToPoint"),convertFromPixel:rH(kh,"pointToData")};Ff(x4,Bq);function kh(k,e,cc,Z){var m=cc.geoModel;var i=cc.seriesModel;var v=m?m.coordinateSystem:i?(i.coordinateSystem||(i.getReferringComponents("geo")[0]||{}).coordinateSystem):null;return v===this?v[k](Z):null}function f1(v3,G5){var m=v3.get("boundingCoords");if(m!=null){var Z=m[0];var v=m[1];if(isNaN(Z[0])||isNaN(Z[1])||isNaN(v[0])||isNaN(v[1])){if(nK){console.error("Invalid boundingCoords")}}else{this.setBoundingRect(Z[0],Z[1],v[0]-Z[0],v[1]-Z[1])}}var G6=this.getBoundingRect();var cc;var i=v3.get("layoutCenter");var G8=v3.get("layoutSize");var v2=G5.getWidth();var k=G5.getHeight();var G4=v3.get("aspectScale")||0.75;var e=G6.width/G6.height*G4;var G7=false;if(i&&G8){i=[yW(i[0],v2),yW(i[1],k)];G8=yW(G8,Math.min(v2,k));if(!isNaN(i[0])&&!isNaN(i[1])&&!isNaN(G8)){G7=true}else{if(nK){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var v1;if(G7){var v1={};if(e>1){v1.width=G8;v1.height=G8/e}else{v1.height=G8;v1.width=G8*e}v1.y=i[1]-v1.height/2;v1.x=i[0]-v1.width/2}else{cc=v3.getBoxLayoutParams();cc.aspect=e;v1=kx(cc,{width:v2,height:k})}this.setViewRect(v1.x,v1.y,v1.width,v1.height);this.setCenter(v3.get("center"));this.setZoom(v3.get("zoom"))}function xR(i,e){ow(e.get("geoCoord"),function(m,k){i.addGeoCoord(k,m)})}if(nK){var tl=function(e){console.error("Map "+e+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")}}var hM={dimensions:x4.prototype.dimensions,create:function(e,m){var k=[];e.eachComponent("geo",function(cc,v){var Z=cc.get("map");var v2=um(Z);if(nK){if(!v2){tl(Z)}}var v1=new x4(Z+v,Z,v2&&v2.geoJson,v2&&v2.specialAreas,cc.get("nameMap"));v1.zoomLimit=cc.get("scaleLimit");k.push(v1);xR(v1,cc);cc.coordinateSystem=v1;v1.model=cc;v1.resize=f1;v1.resize(cc,m)});e.eachSeries(function(v){var cc=v.get("coordinateSystem");if(cc==="geo"){var Z=v.get("geoIndex")||0;v.coordinateSystem=k[Z]}});var i={};e.eachSeriesByType("map",function(v){if(!v.getHostGeoModel()){var Z=v.getMapType();i[Z]=i[Z]||[];i[Z].push(v)}});ow(i,function(v2,v){var v1=um(v);if(nK){if(!v1){tl(v2[0].get("map"))}}var cc=De(v2,function(v3){return v3.get("nameMap")});var Z=new x4(v,v,v1&&v1.geoJson,v1&&v1.specialAreas,Y(cc));Z.zoomLimit=gg.apply(null,De(v2,function(v3){return v3.get("scaleLimit")}));k.push(Z);Z.resize=f1;Z.resize(v2[0],m);ow(v2,function(v3){v3.coordinateSystem=Z;xR(Z,v3)})});return k},getFilledRegions:function(v2,cc,v1){var k=(v2||[]).slice();v1=v1||{};var G4=um(cc);var v=G4&&G4.geoJson;if(!v){if(nK){tl(cc)}return v2}var v3=BN();var m=v.features;for(var Z=0;Z<k.length;Z++){v3.set(k[Z].name,k[Z])}for(var Z=0;Z<m.length;Z++){var e=m[Z].properties.name;if(!v3.get(e)){if(v1.hasOwnProperty(e)){e=v1[e]}k.push({name:e})}}return k}};vG("geo",hM);var kK=nl.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:false,seriesGroup:[],init:function(e){kK.superApply(this,"init",arguments);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e){return wt(this,["value"])},mergeOption:function(e){kK.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){var m=this.getRawData();var Z=m.mapDimension("value");var v=[];for(var k=0,e=m.count();k<e;k++){v.push({name:m.getName(k),value:m.get(Z,k),selected:Fq(m,k,"selected")})}v=hM.getFilledRegions(v,this.getMapType(),this.option.nameMap);return v},getHostGeoModel:function(){var e=this.option.geoIndex;return e!=null?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(i,e){},getRawValue:function(e){var i=this.getData();return i.get(i.mapDimension("value"),e)},getRegionModel:function(i){var e=this.getData();return e.getItemModel(e.indexOfName(i))},formatTooltip:function(v3){var m=this.getData();var v=jK(this.getRawValue(v3));var e=m.getName(v3);var v2=this.seriesGroup;var cc=[];for(var Z=0;Z<v2.length;Z++){var k=v2[Z].originalData.indexOfName(e);var v1=m.mapDimension("value");if(!isNaN(v2[Z].originalData.get(v1,k))){cc.push(l3(v2[Z].name))}}return cc.join(", ")+"<br />"+l3(e+" : "+v)},getTooltipPosition:function(i){if(i!=null){var e=this.getData().getName(i);var m=this.coordinateSystem;var k=m.getRegion(e);return k&&m.dataToPoint(k.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:true,dataRangeHoverLink:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});Ff(kK,DQ);var iW="\0_ec_interaction_mutex";function he(m,i,k){var e=a0(m);e[i]=k}function bl(v,k,m){var i=a0(v);var e=i[k];if(e===m){i[k]=null}}function iw(i,e){return !!a0(i)[e]}function a0(e){return e[iW]||(e[iW]={})}bZ({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});function ad(v){this.pointerChecker;this._zr=v;this._opt={};var k=j0;var Z=k(DE,this);var cc=k(tJ,this);var m=k(yz,this);var i=k(aF,this);var e=k(F3,this);E1.call(this);this.setPointerChecker=function(v1){this.pointerChecker=v1};this.enable=function(v2,v1){this.disable();this._opt=Ch(B8(v1)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,preventDefaultMouseMove:true});if(v2==null){v2=true}if(v2===true||(v2==="move"||v2==="pan")){v.on("mousedown",Z);v.on("mousemove",cc);v.on("mouseup",m)}if(v2===true||(v2==="scale"||v2==="zoom")){v.on("mousewheel",i);v.on("pinch",e)}};this.disable=function(){v.off("mousedown",Z);v.off("mousemove",cc);v.off("mouseup",m);v.off("mousewheel",i);v.off("pinch",e)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}Ff(ad,E1);function DE(k){if(dH(k)||(k.target&&k.target.draggable)){return}var i=k.offsetX;var m=k.offsetY;if(this.pointerChecker&&this.pointerChecker(k,i,m)){this._x=i;this._y=m;this._dragging=true}}function tJ(cc){if(dH(cc)||!ES(this,"moveOnMouseMove",cc)||!this._dragging||cc.gestureEvent==="pinch"||iw(this._zr,"globalPan")){return}var i=cc.offsetX;var v1=cc.offsetY;var Z=this._x;var v=this._y;var m=i-Z;var k=v1-v;this._x=i;this._y=v1;this._opt.preventDefaultMouseMove&&FC(cc.event);this.trigger("pan",m,k,Z,v,i,v1)}function yz(i){if(!dH(i)){this._dragging=false}}function aF(i){if(!ES(this,"zoomOnMouseWheel",i)||i.wheelDelta===0){return}var k=i.wheelDelta>0?1.1:1/1.1;ue.call(this,i,k,i.offsetX,i.offsetY)}function F3(i){if(iw(this._zr,"globalPan")){return}var k=i.pinchScale>1?1.1:1/1.1;ue.call(this,i,k,i.pinchX,i.pinchY)}function ue(m,v,k,i){if(this.pointerChecker&&this.pointerChecker(m,k,i)){FC(m.event);this.trigger("zoom",v,k,i)}}function ES(v,m,k){var i=v._opt[m];return i&&(!vi(i)||k.event[i+"Key"])}function EI(v,i,e){var k=v.target;var m=k.position;m[0]+=i;m[1]+=e;k.dirty()}function yN(G5,e,G4,v2){var cc=G5.target;var Z=G5.zoomLimit;var v1=cc.position;var i=cc.scale;var v=G5.zoom=G5.zoom||1;v*=e;if(Z){var k=Z.min||0;var v3=Z.max||Infinity;v=Math.max(Math.min(v3,v),k)}var m=v/G5.zoom;G5.zoom=v;v1[0]-=(G4-v1[0])*(m-1);v1[1]-=(v2-v1[1])*(m-1);i[0]*=m;i[1]*=m;cc.dirty()}var ex={axisPointer:1,tooltip:1,brush:1};function BU(Z,v,i){var k=v.getComponentByElement(Z.topTarget);var m=k&&k.coordinateSystem;return k&&k!==i&&!ex[k.mainType]&&(m&&m.model!==i)}function jv(i,m){var k=i.getItemStyle();var e=i.get("areaColor");if(e!=null){k.fill=e}return k}function eU(k,e,v,m,i){v.off("click");v.off("mousedown");if(e.get("selectedMode")){v.on("mousedown",function(){k._mouseDownFlag=true});v.on("click",function(v1){if(!k._mouseDownFlag){return}k._mouseDownFlag=false;var Z=v1.target;while(!Z.__regions){Z=Z.parent}if(!Z){return}var cc={type:(e.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:De(Z.__regions,function(v2){return{name:v2.name,from:i.uid}})};cc[e.mainType+"Id"]=e.id;m.dispatchAction(cc);eS(e,v)})}}function eS(e,i){i.eachChild(function(k){ow(k.__regions,function(m){k.trigger(e.isSelected(m.name)?"emphasis":"normal")})})}function Bp(i,e){var k=new Bd();this._controller=new ad(i.getZr());this._controllerHost={target:e?k:null};this.group=k;this._updateGroup=e;this._mouseDownFlag}Bp.prototype={constructor:Bp,draw:function(G5,cc,v1,i,G4){var m=G5.mainType==="geo";var Z=G5.getData&&G5.getData();m&&cc.eachComponent({mainType:"series",subType:"map"},function(Ha){if(!Z&&Ha.getHostGeoModel()===G5){Z=Ha.getData()}});var v=G5.coordinateSystem;var G6=this.group;var k=v.scale;var v3={position:v.position,scale:k};if(!G6.childAt(0)||G4){G6.attr(v3)}else{og(G6,v3,G5)}G6.removeAll();var G7=["itemStyle"];var G9=["emphasis","itemStyle"];var e=["label"];var G8=["emphasis","label"];var v2=BN();ow(v.regions,function(Hf){var Hc=v2.get(Hf.name)||v2.set(Hf.name,new Bd());var Hm=new ja({shape:{paths:[]}});Hc.add(Hm);var Hr=G5.getRegionModel(Hf.name)||G5;var Hb=Hr.getModel(G7);var Ha=Hr.getModel(G9);var Hj=jv(Hb,k);var Hd=jv(Ha,k);var Hl=Hr.getModel(e);var Hn=Hr.getModel(G8);var Ho;if(Z){Ho=Z.indexOfName(Hf.name);var Hg=Z.getItemVisual(Ho,"color",true);if(Hg){Hj.fill=Hg}}ow(Hf.geometries,function(Hv){if(Hv.type!=="polygon"){return}Hm.shape.paths.push(new hV({shape:{points:Hv.exterior}}));for(var Hu=0;Hu<(Hv.interiors?Hv.interiors.length:0);Hu++){Hm.shape.paths.push(new hV({shape:{points:Hv.interiors[Hu]}}))}});Hm.setStyle(Hj);Hm.style.strokeNoScale=true;Hm.culling=true;var Hq=Hl.get("show");var He=Hn.get("show");var Hk=Z&&isNaN(Z.get(Z.mapDimension("value"),Ho));var Hs=Z&&Z.getItemLayout(Ho);if((m||Hk&&(Hq||He))||(Hs&&Hs.showLabel)){var Hh=!m?Ho:Hf.name;var Ht;if(!Z||Ho>=0){Ht=G5}var Hp=new iC({position:Hf.center.slice(),scale:[1/k[0],1/k[1]],z2:10,silent:true});AG(Hp.style,Hp.hoverStyle={},Hl,Hn,{labelFetcher:Ht,labelDataIndex:Hh,defaultText:Hf.name,useInsideStyle:false},{textAlign:"center",textVerticalAlign:"middle"});Hc.add(Hp)}if(Z){Z.setItemGraphicEl(Ho,Hc)}else{var Hr=G5.getRegionModel(Hf.name);Hm.eventData={componentType:"geo",geoIndex:G5.componentIndex,name:Hf.name,region:(Hr&&Hr.option)||{}}}var Hi=Hc.__regions||(Hc.__regions=[]);Hi.push(Hf);xz(Hc,Hd,{hoverSilentOnTouch:!!G5.get("selectedMode")});G6.add(Hc)});this._updateController(G5,cc,v1);eU(this,G5,G6,v1,i);eS(G5,G6)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(i,e,v){var Z=i.coordinateSystem;var k=this._controller;var v1=this._controllerHost;v1.zoomLimit=i.get("scaleLimit");v1.zoom=Z.getZoom();k.enable(i.get("roam")||false);var cc=i.mainType;function m(){var v2={type:"geoRoam",componentType:cc};v2[cc+"Id"]=i.id;return v2}k.off("pan").on("pan",function(v3,v2){this._mouseDownFlag=false;EI(v1,v3,v2);v.dispatchAction(bY(m(),{dx:v3,dy:v2}))},this);k.off("zoom").on("zoom",function(G4,v3,v2){this._mouseDownFlag=false;yN(v1,G4,v3,v2);v.dispatchAction(bY(m(),{zoom:G4,originX:v3,originY:v2}));if(this._updateGroup){var G5=this.group;var G6=G5.scale;G5.traverse(function(G7){if(G7.type==="text"){G7.attr("scale",[1/G6[0],1/G6[1]])}})}},this);k.setPointerChecker(function(v3,v2,G4){return Z.getViewRectAfterRoam().contain(v2,G4)&&!BU(v3,v,i)})}};AO({type:"map",render:function(i,e,m,Z){if(Z&&Z.type==="mapToggleSelect"&&Z.from===this.uid){return}var v=this.group;v.removeAll();if(i.getHostGeoModel()){return}if(!(Z&&Z.type==="geoRoam"&&Z.componentType==="series"&&Z.seriesId===i.id)){if(i.needsDrawMap){var k=this._mapDraw||new Bp(m,true);v.add(k.group);k.draw(i,e,m,this,Z);this._mapDraw=k}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var k=this._mapDraw;k&&v.add(k.group)}i.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(i,e,m)},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(i,e,k){var m=i.originalData;var v=this.group;m.each(m.mapDimension("value"),function(Ha,Hb){if(isNaN(Ha)){return}var G7=m.getItemLayout(Hb);if(!G7||!G7.point){return}var Hc=G7.point;var G4=G7.offset;var Z=new Fx({style:{fill:i.getData().getVisual("color")},shape:{cx:Hc[0]+G4*9,cy:Hc[1],r:3},silent:true,z2:!G4?10:8});if(!G4){var G8=i.mainSeries.getData();var cc=m.getName(Hb);var v2=G8.indexOfName(cc);var He=m.getItemModel(Hb);var Hf=He.getModel("label");var G9=He.getModel("emphasis.label");var Hd=G8.getItemGraphicEl(v2);var G6=jP(i.getFormattedLabel(Hb,"normal"),cc);var v1=jP(i.getFormattedLabel(Hb,"emphasis"),G6);var v3=function(){var Hg=oB({},G9,{text:G9.get("show")?v1:null},{isRectText:true,useInsideStyle:false},true);Z.style.extendFrom(Hg);Z.__mapOriginalZ2=Z.z2;Z.z2+=1};var G5=function(){oB(Z.style,Hf,{text:Hf.get("show")?G6:null,textPosition:Hf.getShallow("position")||"bottom"},{isRectText:true,useInsideStyle:false});if(Z.__mapOriginalZ2!=null){Z.z2=Z.__mapOriginalZ2;Z.__mapOriginalZ2=null}};Hd.on("mouseover",v3).on("mouseout",G5).on("emphasis",v3).on("normal",G5);G5()}v.add(Z)})}});function bC(v1,v3,v){var i=v1.getZoom();var e=v1.getCenter();var G5=v3.zoom;var G4=v1.dataToPoint(e);if(v3.dx!=null&&v3.dy!=null){G4[0]-=v3.dx;G4[1]-=v3.dy;var e=v1.pointToData(G4);v1.setCenter(e)}if(G5!=null){if(v){var m=v.min||0;var v2=v.max||Infinity;G5=Math.max(Math.min(i*G5,v2),m)/i}v1.scale[0]*=G5;v1.scale[1]*=G5;var k=v1.position;var cc=(v3.originX-k[0])*(G5-1);var Z=(v3.originY-k[1])*(G5-1);k[0]-=cc;k[1]-=Z;v1.updateTransform();var e=v1.pointToData(G4);v1.setCenter(e);v1.setZoom(G5*i)}return{center:v1.getCenter(),zoom:v1.getZoom()}}bZ({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(k,e){var i=k.componentType||"series";e.eachComponent({mainType:i,query:k},function(m){var Z=m.coordinateSystem;if(Z.type!=="geo"){return}var v=bC(Z,k,m.get("scaleLimit"));m.setCenter&&m.setCenter(v.center);m.setZoom&&m.setZoom(v.zoom);if(i==="series"){ow(m.seriesGroup,function(cc){cc.setCenter(v.center);cc.setZoom(v.zoom)})}})});var FI=function(e){var i={};e.eachSeriesByType("map",function(Z){var m=Z.getMapType();if(Z.getHostGeoModel()||i[m]){return}var v={};ow(Z.seriesGroup,function(v1){var v2=v1.coordinateSystem;var cc=v1.originalData;if(v1.get("showLegendSymbol")&&e.getComponent("legend")){cc.each(cc.mapDimension("value"),function(G6,G4){var G5=cc.getName(G4);var G7=v2.getRegion(G5);if(!G7||isNaN(G6)){return}var G8=v[G5]||0;var v3=v2.dataToPoint(G7.center);v[G5]=G8+1;cc.setItemLayout(G4,{point:v3,offset:G8})})}});var k=Z.getData();k.each(function(cc){var v1=k.getName(cc);var v2=k.getItemLayout(cc)||{};v2.showLabel=!v[v1];k.setItemLayout(cc,v2)});i[m]=true})};var gH=function(e){e.eachSeriesByType("map",function(m){var v=m.get("color");var Z=m.getModel("itemStyle");var i=Z.get("areaColor");var k=Z.get("color")||v[m.seriesIndex%v.length];m.getData().setVisual({areaColor:i,color:k})})};function oZ(e,k){var i={};ow(e,function(m){m.each(m.mapDimension("value"),function(cc,v){var Z="ec-"+m.getName(v);i[Z]=i[Z]||[];if(!isNaN(cc)){i[Z].push(cc)}})});return e[0].map(e[0].mapDimension("value"),function(v3,G4){var v1="ec-"+e[0].getName(G4);var Z=0;var m=Infinity;var v2=-Infinity;var cc=i[v1].length;for(var v=0;v<cc;v++){m=Math.min(m,i[v1][v]);v2=Math.max(v2,i[v1][v]);Z+=i[v1][v]}var G5;if(k==="min"){G5=m}else{if(k==="max"){G5=v2}else{if(k==="average"){G5=Z/cc}else{G5=Z}}}return cc===0?NaN:G5})}var ej=function(e){var i={};e.eachSeriesByType("map",function(k){var v=k.getHostGeoModel();var m=v?"o"+v.id:"i"+k.getMapType();(i[m]=i[m]||[]).push(k)});ow(i,function(v,m){var Z=oZ(De(v,function(cc){return cc.getData()}),v[0].get("mapValueCalculation"));for(var k=0;k<v.length;k++){v[k].originalData=v[k].getData()}for(var k=0;k<v.length;k++){v[k].seriesGroup=v;v[k].needsDrawMap=k===0&&!v[k].getHostGeoModel();v[k].setData(Z.cloneShallow());v[k].mainSeries=v[0]}})};var kc=function(e){var i=[];ow(e.series,function(k){if(k&&k.type==="map"){i.push(k);k.map=k.map||k.mapType;Ch(k,k.mapLocation)}})};oM(FI);E(gH);d3(Bb.PROCESSOR.STATISTIC,ej);yc(kc);eK("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var om=ow;var jj="\0__link_datas";var sy="\0__link_mainData";function AN(k){var i=k.mainData;var e=k.datas;if(!e){e={main:i};k.datasAttr={main:"data"}}k.datas=k.mainData=null;i1(i,e,k);om(e,function(m){om(i.TRANSFERABLE_METHODS,function(v){m.wrapMethod(v,rH(GH,k))})});i.wrapMethod("cloneShallow",rH(pZ,k));om(i.CHANGABLE_METHODS,function(m){i.wrapMethod(m,rH(Fs,k))});bK(e[i.dataType]===i)}function GH(k,i){if(lO(this)){var e=bY({},this[jj]);e[this.dataType]=i;i1(i,e,k)}else{i5(i,this.dataType,this[sy],k)}return i}function Fs(i,e){i.struct&&i.struct.update(this);return e}function pZ(i,e){om(e[jj],function(m,k){m!==e&&i5(m.cloneShallow(),k,e,i)});return e}function pp(i){var e=this[sy];return(i==null||e==null)?e:e[jj][i]}function lO(e){return e[sy]===e}function i1(i,e,k){i[jj]={};om(e,function(v,m){i5(v,m,i,k)})}function i5(m,i,e,k){e[jj][i]=m;m[sy]=e;m.dataType=i;if(k.struct){m[k.structAttr]=k.struct;k.struct[k.datasAttr[i]]=m}m.getLinkedData=pp}var j4=function(e,i){this.name=e||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=i};j4.prototype={constructor:j4,isRemoved:function(){return this.dataIndex<0},eachNode:function(v,k,v1){if(typeof v==="function"){v1=k;k=v;v=null}v=v||{};if(vi(v)){v={order:v}}var e=v.order||"preorder";var cc=this[v.attr||"children"];var m;e==="preorder"&&(m=k.call(v1,this));for(var Z=0;!m&&Z<cc.length;Z++){cc[Z].eachNode(v,k,v1)}e==="postorder"&&k.call(v1,this)},updateDepthAndHeight:function(m){var e=0;this.depth=m;for(var k=0;k<this.children.length;k++){var v=this.children[k];v.updateDepthAndHeight(m+1);if(v.height>e){e=v.height}}this.height=e+1},getNodeById:function(Z){if(this.getId()===Z){return this}for(var v=0,m=this.children,e=m.length;v<e;v++){var k=m[v].getNodeById(Z);if(k){return k}}},contains:function(Z){if(Z===this){return true}for(var v=0,m=this.children,e=m.length;v<e;v++){var k=m[v].contains(Z);if(k){return k}}},getAncestors:function(e){var i=[];var k=e?this:this.parentNode;while(k){i.push(k);k=k.parentNode}i.reverse();return i},getValue:function(i){var e=this.hostTree.data;return e.get(e.getDimension(i||"value"),this.dataIndex)},setLayout:function(i,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,i,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(m){if(this.dataIndex<0){return}var k=this.hostTree;var e=k.data.getItemModel(this.dataIndex);var v=this.getLevelModel();var i;if(!v&&(this.children.length===0||(this.children.length!==0&&this.isExpand===false))){i=this.getLeavesModel()}return e.getModel(m,(v||i||k.hostModel).getModel(m))},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,i){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,i)},getVisual:function(i,e){return this.hostTree.data.getItemVisual(this.dataIndex,i,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(i){var e=i.parentNode;while(e){if(e===this){return true}e=e.parentNode}return false},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}};function m3(i,k,e){this.root;this.data;this._nodes=[];this.hostModel=i;this.levelModels=De(k||[],function(m){return new fg(m,i,i.ecModel)});this.leavesModel=new fg(e||{},i,i.ecModel)}m3.prototype={constructor:m3,type:"tree",eachNode:function(i,e,k){this.root.eachNode(i,e,k)},getNodeByDataIndex:function(i){var e=this.data.getRawIndex(i);return this._nodes[e]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){var v=this.data;var k=this._nodes;for(var m=0,e=k.length;m<e;m++){k[m].dataIndex=-1}for(var m=0,e=v.count();m<e;m++){k[v.getRawIndex(m)].dataIndex=m}},clearLayouts:function(){this.data.clearItemLayouts()}};m3.createTree=function(cc,k,Z){var v2=new m3(k,Z.levels,Z.leaves);var m=[];var v1=1;i(cc);function i(G4,v3){var G8=G4.value;v1=Math.max(v1,Fw(G8)?G8.length:1);m.push(G4);var G7=new j4(G4.name,v2);v3?bi(G7,v3):(v2.root=G7);v2._nodes.push(G7);var G6=G4.children;if(G6){for(var G5=0;G5<G6.length;G5++){i(G6[G5],G7)}}}v2.root.updateDepthAndHeight(0);var e=xH(m,{coordDimensions:["value"],dimensionsCount:v1});var v=new wF(e,k);v.initData(m);AN({mainData:v,struct:v2,structAttr:"tree"});v2.update();return v2};function bi(k,i){var e=i.children;if(k.parentNode===i){return}e.push(k);k.parentNode=i}nl.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(Z){var i={name:Z.name,children:Z.data};var v1=Z.leaves||{};var m={};m.leaves=v1;var e=m3.createTree(i,this,m);var k=0;e.eachNode("preorder",function(v2){if(v2.depth>k){k=v2.depth}});var cc=Z.expandAndCollapse;var v=(cc&&Z.initialTreeDepth>=0)?Z.initialTreeDepth:k;e.root.eachNode("preorder",function(v3){var v2=v3.hostTree.data.getRawDataItem(v3.dataIndex);v3.isExpand=(v2&&v2.collapsed!=null)?!v2.collapsed:v3.depth<=v});return e.data},formatTooltip:function(m){var e=this.getData().tree;var i=e.root.children[0];var v=e.getNodeByDataIndex(m);var Z=v.getValue();var k=v.name;while(v&&(v!==i)){k=v.parentNode.name+"."+k;v=v.parentNode}return l3(k+((isNaN(Z)||Z==null)?"":" : "+Z))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:0.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:true,color:"#555"},leaves:{label:{show:true}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}});function m6(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var k=[e];var Z;var v;while(Z=k.pop()){v=Z.children;if(Z.isExpand&&v.length){var v1=v.length;for(var m=v1-1;m>=0;m--){var cc=v[m];cc.hierNode={defaultAncestor:null,ancestor:cc,prelim:0,modifier:0,change:0,shift:0,i:m,thread:null};k.push(cc)}}}}function B7(m,k){var i=m.isExpand?m.children:[];var v=m.parentNode.children;var e=m.hierNode.i?v[m.hierNode.i-1]:null;if(i.length){dr(m);var Z=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;if(e){m.hierNode.prelim=e.hierNode.prelim+k(m,e);m.hierNode.modifier=m.hierNode.prelim-Z}else{m.hierNode.prelim=Z}}else{if(e){m.hierNode.prelim=e.hierNode.prelim+k(m,e)}}m.parentNode.hierNode.defaultAncestor=AD(m,e,m.parentNode.hierNode.defaultAncestor||v[0],k)}function af(e){var i=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:i},true);e.hierNode.modifier+=e.parentNode.hierNode.modifier}function Bc(e){return arguments.length?e:D1}function jF(e,k){var i={};e-=Math.PI/2;i.x=k*Math.cos(e);i.y=k*Math.sin(e);return i}function vs(e,i){return kx(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function dr(k){var i=k.children;var Z=i.length;var e=0;var v=0;while(--Z>=0){var m=i[Z];m.hierNode.prelim+=e;m.hierNode.modifier+=e;v+=m.hierNode.change;e+=m.hierNode.shift+v}}function AD(m,k,v2,v){if(k){var G4=m;var G6=m;var e=G6.parentNode.children[0];var v1=k;var G5=G4.hierNode.modifier;var cc=G6.hierNode.modifier;var v3=e.hierNode.modifier;var Z=v1.hierNode.modifier;while(v1=xp(v1),G6=D6(G6),v1&&G6){G4=xp(G4);e=D6(e);G4.hierNode.ancestor=m;var i=v1.hierNode.prelim+Z-G6.hierNode.prelim-cc+v(v1,G6);if(i>0){wy(uF(v1,m,v2),m,i);cc+=i;G5+=i}Z+=v1.hierNode.modifier;cc+=G6.hierNode.modifier;G5+=G4.hierNode.modifier;v3+=e.hierNode.modifier}if(v1&&!xp(G4)){G4.hierNode.thread=v1;G4.hierNode.modifier+=Z-G5}if(G6&&!D6(e)){e.hierNode.thread=G6;e.hierNode.modifier+=cc-v3;v2=m}}return v2}function xp(i){var e=i.children;return e.length&&i.isExpand?e[e.length-1]:i.hierNode.thread}function D6(i){var e=i.children;return e.length&&i.isExpand?e[0]:i.hierNode.thread}function uF(k,i,e){return k.hierNode.ancestor.parentNode===i.parentNode?k.hierNode.ancestor:e}function wy(k,i,e){var m=e/(i.hierNode.i-k.hierNode.i);i.hierNode.change-=m;i.hierNode.shift+=e;i.hierNode.modifier+=e;i.hierNode.prelim+=e;k.hierNode.change+=m}function D1(i,e){return i.parentNode===e.parentNode?1:2}AO({type:"tree",init:function(e,i){this._oldTree;this._mainGroup=new Bd();this.group.add(this._mainGroup)},render:function(i,Z,cc,v2){var k=i.getData();var e=i.layoutInfo;var v3=this._mainGroup;var v=i.get("layout");if(v==="radial"){v3.attr("position",[e.x+e.width/2,e.y+e.height/2])}else{v3.attr("position",[e.x,e.y])}var m=this._data;var v1={expandAndCollapse:i.get("expandAndCollapse"),layout:v,orient:i.get("orient"),curvature:i.get("lineStyle.curveness"),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),useNameLabel:true,fadeIn:true};k.diff(m).add(function(G4){if(rE(k,G4)){gx(k,G4,null,v3,i,v1)}}).update(function(G5,G4){var G6=m.getItemGraphicEl(G4);if(!rE(k,G5)){G6&&fj(k,G5,G6,v3,i,v1);return}gx(k,G5,G6,v3,i,v1)}).remove(function(G4){var G5=m.getItemGraphicEl(G4);fj(k,G4,G5,v3,i,v1)}).execute();if(v1.expandAndCollapse===true){k.eachItemGraphicEl(function(G5,G4){G5.off("click").on("click",function(){cc.dispatchAction({type:"treeExpandAndCollapse",seriesId:i.id,dataIndex:G4})})})}this._data=k},dispose:function(){},remove:function(){this._mainGroup.removeAll();this._data=null}});function rE(k,e){var i=k.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&k.getItemVisual(e,"symbol")!=="none"}function hZ(k,i,e){e.itemModel=i;e.itemStyle=i.getModel("itemStyle").getItemStyle();e.hoverItemStyle=i.getModel("emphasis.itemStyle").getItemStyle();e.lineStyle=i.getModel("lineStyle").getLineStyle();e.labelModel=i.getModel("label");e.hoverLabelModel=i.getModel("emphasis.label");if(k.isExpand===false&&k.children.length!==0){e.symbolInnerColor=e.itemStyle.fill}else{e.symbolInnerColor="#fff"}return e}function gx(Hh,Hg,Hc,cc,G4,v2){var G9=!Hc;var G6=Hh.tree.getNodeByDataIndex(Hg);var G7=G6.getModel();var v2=hZ(G6,G7,v2);var e=Hh.tree.root;var G5=G6.parentNode===e?G6:G6.parentNode||G6;var Z=Hh.getItemGraphicEl(G5.dataIndex);var v1=G5.getLayout();var Hf=Z?{x:Z.position[0],y:Z.position[1],rawX:Z.__radialOldRawX,rawY:Z.__radialOldRawY}:v1;var v3=G6.getLayout();if(G9){Hc=new lo(Hh,Hg,v2);Hc.attr("position",[Hf.x,Hf.y])}else{Hc.updateData(Hh,Hg,v2)}Hc.__radialOldRawX=Hc.__radialRawX;Hc.__radialOldRawY=Hc.__radialRawY;Hc.__radialRawX=v3.rawX;Hc.__radialRawY=v3.rawY;cc.add(Hc);Hh.setItemGraphicEl(Hg,Hc);og(Hc,{position:[v3.x,v3.y]},G4);var Hd=Hc.getSymbolPath();if(v2.layout==="radial"){var Ha=e.children[0];var G8=Ha.getLayout();var i=Ha.children.length;var He;var m;if(v3.x===G8.x&&G6.isExpand===true){var Hb={};Hb.x=(Ha.children[0].getLayout().x+Ha.children[i-1].getLayout().x)/2;Hb.y=(Ha.children[0].getLayout().y+Ha.children[i-1].getLayout().y)/2;He=Math.atan2(Hb.y-G8.y,Hb.x-G8.x);if(He<0){He=Math.PI*2+He}m=Hb.x<G8.x;if(m){He=He-Math.PI}}else{He=Math.atan2(v3.y-G8.y,v3.x-G8.x);if(He<0){He=Math.PI*2+He}if(G6.children.length===0||(G6.children.length!==0&&G6.isExpand===false)){m=v3.x<G8.x;if(m){He=He-Math.PI}}else{m=v3.x>G8.x;if(!m){He=He-Math.PI}}}var k=m?"left":"right";Hd.setStyle({textPosition:k,textRotation:-He,textOrigin:"center",verticalAlign:"middle"})}if(G6.parentNode&&G6.parentNode!==e){var v=Hc.__edge;if(!v){v=Hc.__edge=new gJ({shape:kk(v2,Hf,Hf),style:Ch({opacity:0},v2.lineStyle)})}og(v,{shape:kk(v2,v1,v3),style:{opacity:1}},G4);cc.add(v)}}function fj(v,v1,Z,G4,m,v2){var k=v.tree.getNodeByDataIndex(v1);var cc=v.tree.root;var G5=k.getModel();var v2=hZ(k,G5,v2);var e=k.parentNode===cc?k:k.parentNode||k;var v3;while(v3=e.getLayout(),v3==null){e=e.parentNode===cc?e:e.parentNode||e}og(Z,{position:[v3.x+1,v3.y+1]},m,function(){G4.remove(Z);v.setItemGraphicEl(v1,null)});Z.fadeOut(null,{keepLabel:true});var i=Z.__edge;if(i){og(i,{shape:kk(v2,v3,v3),style:{opacity:0}},m,function(){G4.remove(i)})}}function kk(G8,G9,k){var v2;var v;var cc;var m;var Z=G8.orient;if(G8.layout==="radial"){var i=G9.rawX;var G7=G9.rawY;var e=k.rawX;var G5=k.rawY;var G6=jF(i,G7);var G4=jF(i,G7+(G5-G7)*G8.curvature);var v3=jF(e,G5+(G7-G5)*G8.curvature);var v1=jF(e,G5);return{x1:G6.x,y1:G6.y,x2:v1.x,y2:v1.y,cpx1:G4.x,cpy1:G4.y,cpx2:v3.x,cpy2:v3.y}}else{var i=G9.x;var G7=G9.y;var e=k.x;var G5=k.y;if(Z==="horizontal"){v2=i+(e-i)*G8.curvature;v=G7;cc=e+(i-e)*G8.curvature;m=G5}if(Z==="vertical"){v2=i;v=G7+(G5-G7)*G8.curvature;cc=e;m=G5+(G7-G5)*G8.curvature}return{x1:i,y1:G7,x2:e,y2:G5,cpx1:v2,cpy1:v,cpx2:cc,cpy2:m}}}bZ({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"tree",query:i},function(m){var v=i.dataIndex;var k=m.getData().tree;var Z=k.getNodeByDataIndex(v);Z.isExpand=!Z.isExpand})});function lk(e,v2,cc){var k=[e];var Z=[];var v1;while(v1=k.pop()){Z.push(v1);if(v1.isExpand){var v=v1.children;if(v.length){for(var m=0;m<v.length;m++){k.push(v[m])}}}}while(v1=Z.pop()){v2(v1,cc)}}function rs(e,cc){var k=[e];var Z;while(Z=k.pop()){cc(Z);if(Z.isExpand){var v=Z.children;if(v.length){for(var m=v.length-1;m>=0;m--){k.push(v[m])}}}}}var pq=function(v1,m){var cc=vs(v1,m);v1.layoutInfo=cc;var G6=v1.get("layout");var v2=0;var v=0;var Z=null;if(G6==="radial"){v2=2*Math.PI;v=Math.min(cc.height,cc.width)/2;Z=Bc(function(Hd,Hc){return(Hd.parentNode===Hc.parentNode?1:2)/Hd.depth})}else{v2=cc.width;v=cc.height;Z=Bc()}var e=v1.getData().tree.root;var v3=e.children[0];m6(e);lk(v3,B7,Z);e.hierNode.modifier=-v3.hierNode.prelim;rs(v3,af);var i=v3;var G7=v3;var k=v3;rs(v3,function(Hd){var Hc=Hd.getLayout().x;if(Hc<i.getLayout().x){i=Hd}if(Hc>G7.getLayout().x){G7=Hd}if(Hd.depth>k.depth){k=Hd}});var G8=i===G7?1:Z(i,G7)/2;var Ha=G8-i.getLayout().x;var G5=0;var G4=0;var Hb=0;var G9=0;if(G6==="radial"){G5=v2/(G7.getLayout().x+G8+Ha);G4=v/((k.depth-1)||1);rs(v3,function(Hc){Hb=(Hc.getLayout().x+Ha)*G5;G9=(Hc.depth-1)*G4;var Hd=jF(Hb,G9);Hc.setLayout({x:Hd.x,y:Hd.y,rawX:Hb,rawY:G9},true)})}else{if(v1.get("orient")==="horizontal"){G4=v/(G7.getLayout().x+G8+Ha);G5=v2/((k.depth-1)||1);rs(v3,function(Hc){G9=(Hc.getLayout().x+Ha)*G4;Hb=(Hc.depth-1)*G5;Hc.setLayout({x:Hb,y:G9},true)})}else{G5=v2/(G7.getLayout().x+G8+Ha);G4=v/((k.depth-1)||1);rs(v3,function(Hc){Hb=(Hc.getLayout().x+Ha)*G5;G9=(Hc.depth-1)*G4;Hc.setLayout({x:Hb,y:G9},true)})}}};var Gs=function(e,i){e.eachSeriesByType("tree",function(k){pq(k,i)})};var Fj=function(e,i){e.eachSeriesByType("tree",function(k){pq(k,i)})};E(lS("tree","circle"));oM(Gs);oM(Fj);function t5(v,k,i){if(v&&eB(k,v.type)>=0){var e=i.getData().tree.root;var m=v.targetNode;if(m&&e.contains(m)){return{node:m}}var Z=v.targetNodeId;if(Z!=null&&(m=e.getNodeById(Z))){return{node:m}}}}function sY(e){var i=[];while(e){e=e.parentNode;e&&i.push(e)}return i.reverse()}function vT(k,i){var e=sY(k);return eB(e,i)>=0}function dD(m,k){var i=[];while(m){var e=m.dataIndex;i.push({name:m.name,dataIndex:e,value:k.getRawValue(e)});m=m.parentNode}i.reverse();return i}nl.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:0.32*0.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:true},upperLabel:{show:false,position:[0,"50%"],height:20,color:"#fff",ellipsis:true,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],color:"#fff",ellipsis:true,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(m,e){var i={name:m.name,children:m.data};ui(i);var v=m.levels||[];v=m.levels=wv(v,e);var k={};k.levels=v;return m3.createTree(i,this,k).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(i){var v=this.getData();var m=this.getRawValue(i);var k=Fw(m)?jK(m[0]):jK(m);var e=v.getName(i);return l3(e+": "+k)},getDataParams:function(e){var k=nl.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);k.treePathInfo=dD(i,this);return k},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{};bY(this.layoutInfo,e)},mapIdToIndex:function(k){var e=this._idIndexMap;if(!e){e=this._idIndexMap=BN();this._idIndexMapCount=0}var i=e.get(k);if(i==null){e.set(k,i=this._idIndexMapCount++)}return i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(i){i?(this._viewRoot=i):(i=this._viewRoot);var e=this.getRawData().tree.root;if(!i||(i!==e&&!e.contains(i))){this._viewRoot=e}}});function ui(i){var k=0;ow(i.children,function(v){ui(v);var m=v.value;Fw(m)&&(m=m[0]);k+=m});var e=i.value;if(Fw(e)){e=e[0]}if(e==null||isNaN(e)){e=k}if(e<0){e=0}Fw(i.value)?(i.value[0]=e):(i.value=e)}function wv(m,i){var k=i.get("color");if(!k){return}m=m||[];var e;ow(m,function(v1){var Z=new fg(v1);var cc=Z.get("color");if(Z.get("itemStyle.color")||(cc&&cc!=="none")){e=true}});if(!e){var v=m[0]||(m[0]={});v.color=k.slice()}return m}var yr=8;var AE=8;var DC=5;function kn(e){this.group=new Bd();e.add(this.group)}kn.prototype={constructor:kn,render:function(e,m,v,cc){var k=e.getModel("breadcrumb");var i=this.group;i.removeAll();if(!k.get("show")||!v){return}var Z=k.getModel("itemStyle");var v1=Z.getModel("textStyle");var v2={pos:{left:k.get("left"),right:k.get("right"),top:k.get("top"),bottom:k.get("bottom")},box:{width:m.getWidth(),height:m.getHeight()},emptyItemWidth:k.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(v,v2,v1);this._renderContent(e,v2,Z,v1,cc);zF(i,v2.pos,v2.box)},_prepare:function(v,k,e){for(var i=v;i;i=i.parentNode){var cc=i.getModel().get("name");var Z=e.getTextRect(cc);var m=Math.max(Z.width+yr*2,k.emptyItemWidth);k.totalWidth+=m+AE;k.renderList.push({node:i,text:cc,width:m})}},_renderContent:function(cc,Hb,G5,G7,G6){var k=0;var v1=Hb.emptyItemWidth;var G9=cc.get("breadcrumb.height");var Z=l7(Hb.pos,Hb.box);var v3=Hb.totalWidth;var e=Hb.renderList;for(var v2=e.length-1;v2>=0;v2--){var Ha=e[v2];var v=Ha.node;var G4=Ha.width;var G8=Ha.text;if(v3>Z.width){v3-=G4-v1;G4=v1;G8=null}var m=new hV({shape:{points:bf(k,0,G4,G9,v2===e.length-1,v2===0)},style:Ch(G5.getItemStyle(),{lineJoin:"bevel",text:G8,textFill:G7.getTextColor(),textFont:G7.getFont()}),z:10,onclick:rH(G6,v)});this.group.add(m);gt(m,cc,v);k+=G4+AE}},remove:function(){this.group.removeAll()}};function bf(e,cc,v,Z,k,i){var m=[[k?e:e-DC,cc],[e+v,cc],[e+v,cc+Z],[k?e:e-DC,cc+Z]];!i&&m.splice(2,0,[e+v+DC,cc+Z/2]);!k&&m.push([e,cc+Z/2]);return m}function gt(i,e,k){i.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:k&&k.dataIndex,name:k&&k.name},treePathInfo:k&&dD(k,e)}}function sh(){var k=[];var i={};var e;return{add:function(v,cc,Z,m,v1){if(vi(m)){v1=m;m=0}if(i[v.id]){return false}i[v.id]=1;k.push({el:v,target:cc,time:Z,delay:m,easing:v1});return true},done:function(m){e=m;return this},start:function(){var v1=k.length;for(var Z=0,m=k.length;Z<m;Z++){var cc=k[Z];cc.el.animateTo(cc.target,cc.time,cc.delay,cc.easing,v)}return this;function v(){v1--;if(!v1){k.length=0;i={};e&&e()}}}}}var oX=j0;var qx=Bd;var z6=DD;var ok=ow;var s8=3;var Eg=["label"];var dL=["emphasis","label"];var Gf=["upperLabel"];var lK=["emphasis","upperLabel"];var ll=10;var qw=1;var CA=2;var hT=xX([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var zY=function(e){var i=hT(e);i.stroke=i.fill=i.lineWidth=null;return i};AO({type:"treemap",init:function(i,e){this._containerGroup;this._storage=z5();this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(v,v1,v3,G5){var e=v1.findComponents({mainType:"series",subType:"treemap",query:G5});if(eB(e,v)<0){return}this.seriesModel=v;this.api=v3;this.ecModel=v1;var G4=["treemapZoomToNode","treemapRootToNode"];var v2=t5(G5,G4,v);var G6=G5&&G5.type;var m=v.layoutInfo;var cc=!this._oldTree;var k=this._storage;var i=(G6==="treemapRootToNode"&&v2&&k)?{rootNodeGroup:k.nodeGroup[v2.node.getRawIndex()],direction:G5.direction}:null;var Z=this._giveContainerGroup(m);var G7=this._doRender(Z,v,i);(!cc&&(!G6||G6==="treemapZoomToNode"||G6==="treemapRootToNode"))?this._doAnimation(Z,G7,v,i):G7.renderFinally();this._resetController(v3);this._renderBreadcrumb(v,v3,v2)},_giveContainerGroup:function(e){var i=this._containerGroup;if(!i){i=this._containerGroup=new qx();this._initEvents(i);this.group.add(i)}i.attr("position",[e.x,e.y]);return i},_doRender:function(v3,Z,v){var m=Z.getData().tree;var e=this._oldTree;var G6=z5();var cc=z5();var v1=this._storage;var k=[];var G7=rH(a3,Z,cc,v1,v,G6,k);i(m.root?[m.root]:[],(e&&e.root)?[e.root]:[],v3,m===e||!e,0);var G5=G4(v1);this._oldTree=m;this._storage=cc;return{lastsForAnimation:G6,willDeleteEls:G5,renderFinally:v2};function i(He,Hd,Ha,G8,Hc){if(G8){Hd=He;ok(He,function(Hg,Hf){!Hg.isRemoved()&&Hb(Hf,Hf)})}else{(new Fp(Hd,He,G9,G9)).add(Hb).update(Hb).remove(rH(Hb,null)).execute()}function G9(Hf){return Hf.getId()}function Hb(Hg,Hj){var Hf=Hg!=null?He[Hg]:null;var Hi=Hj!=null?Hd[Hj]:null;var Hh=G7(Hf,Hi,Ha,Hc);Hh&&i(Hf&&Hf.viewChildren||[],Hi&&Hi.viewChildren||[],Hh,G8,Hc+1)}}function G4(G9){var G8=z5();G9&&ok(G9,function(Ha,Hb){var Hc=G8[Hb];ok(Ha,function(Hd){Hd&&(Hc.push(Hd),Hd.__tmWillDelete=1)})});return G8}function v2(){ok(G5,function(G8){ok(G8,function(G9){G9.parent&&G9.parent.remove(G9)})});ok(k,function(G8){G8.invisible=true;G8.dirty()})}},_doAnimation:function(cc,Z,e,m){if(!e.get("animation")){return}var k=e.get("animationDurationUpdate");var v=e.get("animationEasing");var i=sh();ok(Z.willDeleteEls,function(v1,v2){ok(v1,function(G6,v3){if(G6.invisible){return}var G5=G6.parent;var G8;if(m&&m.direction==="drillDown"){G8=G5===m.rootNodeGroup?{shape:{x:0,y:0,width:G5.__tmNodeWidth,height:G5.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var G7=0;var G4=0;if(!G5.__tmWillDelete){G7=G5.__tmNodeWidth/2;G4=G5.__tmNodeHeight/2}G8=v2==="nodeGroup"?{position:[G7,G4],style:{opacity:0}}:{shape:{x:G7,y:G4,width:0,height:0},style:{opacity:0}}}G8&&i.add(G6,G8,k,v)})});ok(this._storage,function(v1,v2){ok(v1,function(G4,v3){var G5=Z.lastsForAnimation[v2][v3];var G6={};if(!G5){return}if(v2==="nodeGroup"){if(G5.old){G6.position=G4.position.slice();G4.attr("position",G5.old)}}else{if(G5.old){G6.shape=bY({},G4.shape);G4.setShape(G5.old)}if(G5.fadein){G4.setStyle("opacity",0);G6.style={opacity:1}}else{if(G4.style.opacity!==1){G6.style={opacity:1}}}}i.add(G4,G6,k,v)})},this);this._state="animating";i.done(oX(function(){this._state="ready";Z.renderFinally()},this)).start()},_resetController:function(i){var e=this._controller;if(!e){e=this._controller=new ad(i.getZr());e.enable(this.seriesModel.get("roam"));e.on("pan",oX(this._onPan,this));e.on("zoom",oX(this._onZoom,this))}var k=new BM(0,0,i.getWidth(),i.getHeight());e.setPointerChecker(function(v,m,Z){return k.contain(m,Z)})},_clearController:function(){var e=this._controller;if(e){e.dispose();e=null}},_onPan:function(m,k){if(this._state!=="animating"&&(Math.abs(m)>s8||Math.abs(k)>s8)){var i=this.seriesModel.getData().tree.root;if(!i){return}var e=i.getLayout();if(!e){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x+m,y:e.y+k,width:e.width,height:e.height}})}},_onZoom:function(v2,Z,v){if(this._state!=="animating"){var k=this.seriesModel.getData().tree.root;if(!k){return}var i=k.getLayout();if(!i){return}var cc=new BM(i.x,i.y,i.width,i.height);var v1=this.seriesModel.layoutInfo;Z-=v1.x;v-=v1.y;var e=BF();uy(e,e,[-Z,-v]);qb(e,e,[v2,v2]);uy(e,e,[Z,v]);cc.applyTransform(e);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:cc.x,y:cc.y,width:cc.width,height:cc.height}})}},_initEvents:function(e){e.on("click",function(Z){if(this._state!=="ready"){return}var i=this.seriesModel.get("nodeClick",true);if(!i){return}var v1=this.findTarget(Z.offsetX,Z.offsetY);if(!v1){return}var v=v1.node;if(v.getLayout().isLeafRoot){this._rootToNode(v1)}else{if(i==="zoomToNode"){this._zoomToNode(v1)}else{if(i==="link"){var k=v.hostTree.data.getItemModel(v.dataIndex);var m=k.get("link",true);var cc=k.get("target",true)||"blank";m&&window.open(m,cc)}}}},this)},_renderBreadcrumb:function(e,k,m){if(!m){m=e.get("leafDepth",true)!=null?{node:e.getViewRoot()}:this.findTarget(k.getWidth()/2,k.getHeight()/2);if(!m){m={node:e.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new kn(this.group))).render(e,k,m.node,oX(i,this));function i(v){if(this._state!=="animating"){vT(e.getViewRoot(),v)?this._rootToNode({node:v}):this._zoomToNode({node:v})}}},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=z5();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,m){var k;var i=this.seriesModel.getViewRoot();i.eachNode({attr:"viewChildren",order:"preorder"},function(v1){var cc=this._storage.background[v1.getRawIndex()];if(cc){var v=cc.transformCoordToLocal(e,m);var Z=cc.shape;if(Z.x<=v[0]&&v[0]<=Z.x+Z.width&&Z.y<=v[1]&&v[1]<=Z.y+Z.height){k={node:v1,offsetX:v[0],offsetY:v[1]}}else{return false}}},this);return k}});function z5(){return{nodeGroup:[],background:[],content:[]}}function a3(Hb,v,v2,v3,Ha,G5,G8,Hd,v1,Hn){if(!G8){return}var Hh=G8.getLayout();if(!Hh||!Hh.isInView){return}var Hp=Hh.width;var G9=Hh.height;var Ho=Hh.borderWidth;var G7=Hh.invisible;var k=G8.getRawIndex();var Hm=Hd&&Hd.getRawIndex();var i=G8.viewChildren;var He=Hh.upperHeight;var Hk=i&&i.length;var e=G8.getModel("itemStyle");var G4=G8.getModel("emphasis.itemStyle");var G6=m("nodeGroup",qx);if(!G6){return}v1.add(G6);G6.attr("position",[Hh.x||0,Hh.y||0]);G6.__tmNodeWidth=Hp;G6.__tmNodeHeight=G9;if(Hh.isAboveViewRoot){return G6}var cc=m("background",z6,Hn,qw);cc&&Z(G6,cc,Hk&&Hh.upperHeight);if(!Hk){var Hf=m("content",z6,Hn,CA);Hf&&Hj(G6,Hf)}return G6;function Z(Ht,Hr,Hq){Hr.dataIndex=G8.dataIndex;Hr.seriesIndex=Hb.seriesIndex;Hr.setShape({x:0,y:0,width:Hp,height:G9});var Hs=G8.getVisual("borderColor",true);var Hu=G4.get("borderColor");Hc(Hr,function(){var Hx=zY(e);Hx.fill=Hs;var Hv=hT(G4);Hv.fill=Hu;if(Hq){var Hw=Hp-2*Ho;Hl(Hx,Hv,Hs,Hw,He,{x:Ho,y:0,width:Hw,height:He})}else{Hx.text=Hv.text=null}Hr.setStyle(Hx);xz(Hr,Hv)});Ht.add(Hr)}function Hj(Hu,Ht){Ht.dataIndex=G8.dataIndex;Ht.seriesIndex=Hb.seriesIndex;var Hq=Math.max(Hp-2*Ho,0);var Hs=Math.max(G9-2*Ho,0);Ht.culling=true;Ht.setShape({x:Ho,y:Ho,width:Hq,height:Hs});var Hr=G8.getVisual("color",true);Hc(Ht,function(){var Hw=zY(e);Hw.fill=Hr;var Hv=hT(G4);Hl(Hw,Hv,Hr,Hq,Hs);Ht.setStyle(Hw);xz(Ht,Hv)});Hu.add(Ht)}function Hc(Hr,Hq){if(!G7){Hq();if(!Hr.__tmWillVisible){Hr.invisible=false}}else{!Hr.invisible&&G5.push(Hr)}}function Hl(Hq,Hs,Hy,Hr,Hz,Hw){var Ht=G8.getModel();var Hx=gg(Hb.getFormattedLabel(G8.dataIndex,"normal",null,null,Hw?"upperLabel":"label"),Ht.get("name"));if(!Hw&&Hh.isLeafRoot){var Hv=Hb.get("drillDownIcon",true);Hx=Hv?Hv+" "+Hx:Hx}var HB=Ht.getModel(Hw?Gf:Eg);var HA=Ht.getModel(Hw?lK:dL);var Hu=HB.getShallow("show");AG(Hq,Hs,HB,HA,{defaultText:Hu?Hx:null,autoColor:Hy,isRectText:true});Hw&&(Hq.textRect=B8(Hw));Hq.truncate=(Hu&&HB.get("ellipsis"))?{outerWidth:Hr,outerHeight:Hz,minChar:2}:null}function m(Ht,Hr,Hv,Hu){var Hs=Hm!=null&&v2[Ht][Hm];var Hq=Ha[Ht];if(Hs){v2[Ht][Hm]=null;Hi(Hq,Hs,Ht)}else{if(!G7){Hs=new Hr({z:sp(Hv,Hu)});Hs.__tmDepth=Hv;Hs.__tmStorageName=Ht;Hg(Hq,Hs,Ht)}}return(v[Ht][k]=Hs)}function Hi(Hq,Hs,Hr){var Ht=Hq[k]={};Ht.old=Hr==="nodeGroup"?Hs.position.slice():bY({},Hs.shape)}function Hg(Hs,Hv,Hu){var Hw=Hs[k]={};var Hr=G8.parentNode;if(Hr&&(!v3||v3.direction==="drillDown")){var Hq=0;var Hx=0;var Ht=Ha.background[Hr.getRawIndex()];if(!v3&&Ht&&Ht.old){Hq=Ht.old.width;Hx=Ht.old.height}Hw.old=Hu==="nodeGroup"?[0,Hx]:{x:Hq,y:Hx,width:0,height:0}}Hw.fadein=Hu!=="nodeGroup"}}function sp(k,i){var e=k*ll+i;return(e-1)/e}var uU=function(){};var fE=["treemapZoomToNode","treemapRender","treemapMove"];for(var zk=0;zk<fE.length;zk++){bZ({type:fE[zk],update:"updateView"},uU)}bZ({type:"treemapRootToNode",update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"treemap",query:k},i);function i(Z,v){var cc=["treemapZoomToNode","treemapRootToNode"];var v1=t5(k,cc,Z);if(v1){var m=Z.getViewRoot();if(m){k.direction=vT(m,v1.node)?"rollUp":"drillDown"}Z.resetViewRoot(v1.node)}}});var te=ow;var sN=sU;var nJ=-1;var me=function(m){var e=m.mappingMethod;var v=m.type;var i=this.option=B8(m);this.type=v;this.mappingMethod=e;this._normalizeData=rD[e];var k=rS[v];this.applyVisual=k.applyVisual;this.getColorMapper=k.getColorMapper;this._doMap=k._doMap[e];if(e==="piecewise"){hh(i);nS(i)}else{if(e==="category"){i.categories?eG(i):hh(i,true)}else{bK(e!=="linear"||i.dataExtent);hh(i)}}};me.prototype={constructor:me,mapValueToVisual:function(e){var i=this._normalizeData(e);return this._doMap(i,e)},getNormalizer:function(){return j0(this._normalizeData,this)}};var rS=me.visualHandlers={color:{applyVisual:bM("color"),getColorMapper:function(){var e=this.option;return j0(e.mappingMethod==="category"?function(k,i){!i&&(k=this._normalizeData(k));return rB.call(this,k)}:function(v,m,i){var k=!!i;!m&&(v=this._normalizeData(v));i=P(v,e.parsedVisual,i);return k?i:vw(i,"rgba")},this)},_doMap:{linear:function(e){return vw(P(e,this.option.parsedVisual),"rgba")},category:rB,piecewise:function(k,i){var e=tn.call(this,i);if(e==null){e=vw(P(k,this.option.parsedVisual),"rgba")}return e},fixed:rx}},colorHue:uc(function(e,i){return k8(e,i)}),colorSaturation:uc(function(e,i){return k8(e,null,i)}),colorLightness:uc(function(e,i){return k8(e,null,null,i)}),colorAlpha:uc(function(e,i){return h4(e,i)}),opacity:{applyVisual:bM("opacity"),_doMap:o6([0,1])},symbol:{applyVisual:function(k,e,v){var m=this.mapValueToVisual(k);if(vi(m)){v("symbol",m)}else{if(sN(m)){for(var i in m){if(m.hasOwnProperty(i)){v(i,m[i])}}}}},_doMap:{linear:xk,category:rB,piecewise:function(k,i){var e=tn.call(this,i);if(e==null){e=xk.call(this,k)}return e},fixed:rx}},symbolSize:{applyVisual:bM("symbolSize"),_doMap:o6([0,1])}};function nS(i){var e=i.pieceList;i.hasSpecialVisual=false;ow(e,function(m,k){m.originIndex=k;if(m.visual!=null){i.hasSpecialVisual=true}})}function eG(v){var e=v.categories;var cc=v.visual;var Z=v.categoryMap={};te(e,function(v1,i){Z[v1]=i});if(!Fw(cc)){var m=[];if(sU(cc)){te(cc,function(i,v2){var v1=Z[v2];m[v1!=null?v1:nJ]=i})}else{m[nJ]=cc}cc=Dx(v,m)}for(var k=e.length-1;k>=0;k--){if(cc[k]==null){delete Z[e[k]];e.pop()}}}function hh(k,e){var m=k.visual;var i=[];if(sU(m)){te(m,function(Z){i.push(Z)})}else{if(m!=null){i.push(m)}}var v={color:1,symbol:1};if(!e&&i.length===1&&!v.hasOwnProperty(k.type)){i[1]=i[0]}Dx(k,i)}function uc(e){return{applyVisual:function(k,i,m){k=this.mapValueToVisual(k);m("color",e(i("color"),k))},_doMap:o6([0,1])}}function xk(i){var e=this.option.visual;return e[Math.round(DM(i,[0,1],[0,e.length-1],true))]||{}}function bM(e){return function(k,i,m){m(e,this.mapValueToVisual(k))}}function rB(i){var e=this.option.visual;return e[(this.option.loop&&i!==nJ)?i%e.length:i]}function rx(){return this.option.visual[0]}function o6(e){return{linear:function(i){return DM(i,e,this.option.visual,true)},category:rB,piecewise:function(m,k){var i=tn.call(this,k);if(i==null){i=DM(m,e,this.option.visual,true)}return i},fixed:rx}}function tn(v){var i=this.option;var e=i.pieceList;if(i.hasSpecialVisual){var m=me.findPieceIndex(v,e);var k=e[m];if(k&&k.visual){return k.visual[this.type]}}}function Dx(i,e){i.visual=e;if(i.type==="color"){i.parsedVisual=De(e,function(k){return eH(k)})}return e}var rD={linear:function(e){return DM(e,this.option.dataExtent,[0,1],true)},piecewise:function(k){var e=this.option.pieceList;var i=me.findPieceIndex(k,e,true);if(i!=null){return DM(i,[0,e.length-1],[0,1],true)}},category:function(i){var e=this.option.categories?this.option.categoryMap[i]:i;return e==null?nJ:e},fixed:U};me.listVisualTypes=function(){var e=[];ow(rS,function(k,i){e.push(i)});return e};me.addVisualHandler=function(e,i){rS[e]=i};me.isValidType=function(e){return rS.hasOwnProperty(e)};me.eachVisual=function(i,k,e){if(sU(i)){ow(i,k,e)}else{k.call(e,i)}};me.mapVisual=function(i,v,e){var m;var k=Fw(i)?[]:sU(i)?{}:(m=true,null);me.eachVisual(i,function(Z,v1){var cc=v.call(e,Z,v1);m?(k=cc):(k[v1]=cc)});return k};me.retrieveVisuals=function(k){var i={};var e;k&&te(rS,function(m,v){if(k.hasOwnProperty(v)){i[v]=k[v];e=true}});return e?i:null};me.prepareVisualTypes=function(i){if(sN(i)){var e=[];te(i,function(m,k){e.push(k)});i=e}else{if(Fw(i)){i=i.slice()}else{return[]}}i.sort(function(m,k){return(k==="color"&&m!=="color"&&m.indexOf("color")===0)?1:-1});return i};me.dependsOn=function(i,e){return e==="color"?!!(i&&i.indexOf(e)===0):i===e};me.findPieceIndex=function(v3,e,Z){var v1;var G6=Infinity;for(var m=0,v2=e.length;m<v2;m++){var cc=e[m].value;if(cc!=null){if(cc===v3||(typeof cc==="string"&&cc===v3+"")){return m}Z&&v(cc,m)}}for(var m=0,v2=e.length;m<v2;m++){var G5=e[m];var k=G5.interval;var G4=G5.close;if(k){if(k[0]===-Infinity){if(nx(G4[1],v3,k[1])){return m}}else{if(k[1]===Infinity){if(nx(G4[0],k[0],v3)){return m}}else{if(nx(G4[0],k[0],v3)&&nx(G4[1],v3,k[1])){return m}}}Z&&v(k[0],m);Z&&v(k[1],m)}}if(Z){return v3===Infinity?e.length-1:v3===-Infinity?0:v1}function v(G8,i){var G7=Math.abs(G8-v3);if(G7<G6){G6=G7;v1=i}}};function nx(k,i,e){return k?i<=e:i<e}var G1=Fw;var dY="itemStyle";var xj={seriesType:"treemap",reset:function(v,i,Z,v1){var e=v.getData().tree;var k=e.root;var cc=v.getModel(dY);if(k.isRemoved()){return}var m=De(e.levelModels,function(v2){return v2?v2.get(dY):null});gM(k,{},m,cc,v.getViewRoot().getAncestors(),v)}};function gM(v,G9,i,G8,G6,cc){var k=v.getModel();var v3=v.getLayout();if(!v3||v3.invisible||!v3.isInView){return}var G4=v.getModel(dY);var G5=i[v.depth];var Z=qW(G4,G9,G5,G8);var m=G4.get("borderColor");var v2=G4.get("borderColorSaturation");var v1;if(v2!=null){v1=GV(Z,v);m=EO(v2,v1)}v.setVisual("borderColor",m);var G7=v.viewChildren;if(!G7||!G7.length){v1=GV(Z,v);v.setVisual("color",v1)}else{var e=xA(v,k,v3,G4,Z,G7);ow(G7,function(Hc,Ha){if(Hc.depth>=G6.length||Hc===G6[Hc.depth]){var Hb=mm(k,Z,Hc,Ha,e,cc);gM(Hc,Hb,i,G8,G6,cc)}})}}function qW(v,e,m,i){var k=bY({},e);ow(["color","colorAlpha","colorSaturation"],function(Z){var cc=v.get(Z,true);cc==null&&m&&(cc=m[Z]);cc==null&&(cc=e[Z]);cc==null&&(cc=i.get(Z));cc!=null&&(k[Z]=cc)});return k}function GV(m){var i=yi(m,"color");if(i){var k=yi(m,"colorAlpha");var e=yi(m,"colorSaturation");if(e){i=k8(i,null,null,e)}if(k){i=h4(i,k)}return i}}function EO(i,e){return e!=null?k8(e,null,null,i):null}function yi(k,e){var i=k[e];if(i!=null&&i!=="none"){return i}}function xA(v,m,v2,G4,cc,G5){if(!G5||!G5.length){return}var i=kH(m,"color")||(cc.color!=null&&cc.color!=="none"&&(kH(m,"colorAlpha")||kH(m,"colorSaturation")));if(!i){return}var v1=m.get("visualMin");var v3=m.get("visualMax");var G6=v2.dataExtent.slice();v1!=null&&v1<G6[0]&&(G6[0]=v1);v3!=null&&v3>G6[1]&&(G6[1]=v3);var Z=m.get("colorMappingBy");var k={type:i.name,dataExtent:G6,visual:i.range};if(k.type==="color"&&(Z==="index"||Z==="id")){k.mappingMethod="category";k.loop=true}else{k.mappingMethod="linear"}var e=new me(k);e.__drColorMappingBy=Z;return e}function kH(k,i){var e=k.get(i);return(G1(e)&&e.length)?{name:i,range:e}:null}function mm(m,Z,i,v2,e,cc){var k=bY({},Z);if(e){var v1=e.type;var v=v1==="color"&&e.__drColorMappingBy;var v3=v==="index"?v2:v==="id"?cc.mapIdToIndex(i.getId()):i.getValue(m.get("visualDimension"));k[v1]=e.mapValueToVisual(v3)}return k}var zR=Math.max;var jd=Math.min;var bA=gg;var tc=ow;var gc=["itemStyle","borderWidth"];var jH=["itemStyle","gapWidth"];var DY=["upperLabel","show"];var tz=["upperLabel","height"];var eC={seriesType:"treemap",reset:function(Ha,Hf,G6,Hb){var G4=G6.getWidth();var i=G6.getHeight();var v=Ha.option;var G9=kx(Ha.getBoxLayoutParams(),{width:G6.getWidth(),height:G6.getHeight()});var G8=v.size||[];var v3=yW(bA(G9.width,G8[0]),G4);var G7=yW(bA(G9.height,G8[1]),i);var e=Hb&&Hb.type;var G5=["treemapZoomToNode","treemapRootToNode"];var v2=t5(Hb,G5,Ha);var Z=(e==="treemapRender"||e==="treemapMove")?Hb.rootRect:null;var v1=Ha.getViewRoot();var cc=sY(v1);if(e!=="treemapMove"){var Hd=e==="treemapZoomToNode"?T(Ha,v2,v1,v3,G7):Z?[Z.width,Z.height]:[v3,G7];var He=v.sort;if(He&&He!=="asc"&&He!=="desc"){He="desc"}var m={squareRatio:v.squareRatio,sort:He,leafDepth:v.leafDepth};v1.hostTree.clearLayouts();var k={x:0,y:0,width:Hd[0],height:Hd[1],area:Hd[0]*Hd[1]};v1.setLayout(k);qv(v1,m,false,0);var k=v1.getLayout();tc(cc,function(Hi,Hh){var Hg=(cc[Hh+1]||v1).getValue();Hi.setLayout(bY({dataExtent:[Hg,Hg],borderWidth:0,upperHeight:0},k))})}var Hc=Ha.getData().tree.root;Hc.setLayout(Gv(G9,Z,v2),true);Ha.setLayoutInfo(G9);vA(Hc,new BM(-G9.x,-G9.y,G4,i),cc,v1,0)}};function qv(G5,v,Hd,Hi){var G4;var v2;if(G5.isRemoved()){return}var Hg=G5.getLayout();G4=Hg.width;v2=Hg.height;var v3=G5.getModel();var Hj=v3.get(gc);var G8=v3.get(jH)/2;var Ha=oS(v3);var G7=Math.max(Hj,Ha);var Hh=Hj-G8;var e=G7-G8;var v3=G5.getModel();G5.setLayout({borderWidth:Hj,upperHeight:G7,upperLabelHeight:Ha},true);G4=zR(G4-2*Hh,0);v2=zR(v2-Hh-e,0);var Hf=G4*v2;var G6=qe(G5,v3,Hf,v,Hd,Hi);if(!G6.length){return}var k={x:Hh,y:e,width:G4,height:v2};var v1=jd(G4,v2);var m=Infinity;var cc=[];cc.area=0;for(var Hc=0,He=G6.length;Hc<He;){var Z=G6[Hc];cc.push(Z);cc.area+=Z.getLayout().area;var Hb=iA(cc,v1,v.squareRatio);if(Hb<=m){Hc++;m=Hb}else{cc.area-=cc.pop().getLayout().area;uQ(cc,v1,k,G8,false);v1=jd(k.width,k.height);cc.length=cc.area=0;m=Infinity}}if(cc.length){uQ(cc,v1,k,G8,true)}if(!Hd){var G9=v3.get("childrenVisibleMin");if(G9!=null&&Hf<G9){Hd=true}}for(var Hc=0,He=G6.length;Hc<He;Hc++){qv(G6[Hc],v,Hd,Hi+1)}}function qe(v,m,G6,G7,v1,cc){var G5=v.children||[];var v3=G7.sort;v3!=="asc"&&v3!=="desc"&&(v3=null);var G4=G7.leafDepth!=null&&G7.leafDepth<=cc;if(v1&&!G4){return(v.viewChildren=[])}G5=qi(G5,function(i){return !i.isRemoved()});fm(G5,v3);var k=fZ(m,G5,v3);if(k.sum===0){return(v.viewChildren=[])}k.sum=c5(m,G6,k.sum,v3,G5);if(k.sum===0){return(v.viewChildren=[])}for(var Z=0,v2=G5.length;Z<v2;Z++){var e=G5[Z].getValue()/k.sum*G6;G5[Z].setLayout({area:e})}if(G4){G5.length&&v.setLayout({isLeafRoot:true},true);G5.length=0}v.viewChildren=G5;v.setLayout({dataExtent:k.dataExtent},true);return G5}function c5(e,G4,Z,v1,v){if(!v1){return Z}var v3=e.get("visibleMin");var cc=v.length;var m=cc;for(var k=cc-1;k>=0;k--){var v2=v[v1==="asc"?cc-k-1:k].getValue();if(v2/Z*G4<v3){m=k;Z-=v2}}v1==="asc"?v.splice(0,cc-m):v.splice(m,cc-m);return Z}function fm(e,i){if(i){e.sort(function(m,k){var v=i==="asc"?m.getValue()-k.getValue():k.getValue()-m.getValue();return v===0?(i==="asc"?m.dataIndex-k.dataIndex:k.dataIndex-m.dataIndex):v})}return e}function fZ(v2,m,v1){var v=0;for(var k=0,e=m.length;k<e;k++){v+=m[k].getValue()}var cc=v2.get("visualDimension");var Z;if(!m||!m.length){Z=[NaN,NaN]}else{if(cc==="value"&&v1){Z=[m[m.length-1].getValue(),m[0].getValue()];v1==="asc"&&Z.reverse()}else{var Z=[Infinity,-Infinity];tc(m,function(v3){var i=v3.getValue(cc);i<Z[0]&&(Z[0]=i);i>Z[1]&&(Z[1]=i)})}}return{sum:v,dataExtent:Z}}function iA(G4,v2,v1){var k=0;var v3=Infinity;for(var v=0,e,cc=G4.length;v<cc;v++){e=G4[v].getLayout().area;if(e){e<v3&&(v3=e);e>k&&(k=e)}}var m=G4.area*G4.area;var Z=v2*v2*v1;return m?zR((Z*k)/m,m/(Z*v3)):Infinity}function uQ(v3,G4,e,Ha,G8){var Hb=G4===e.width?0:1;var Hd=1-Hb;var Z=["x","y"];var v2=["width","height"];var G5=e[Z[Hb]];var He=G4?v3.area/G4:0;if(G8||He>e[v2[Hd]]){He=e[v2[Hd]]}for(var Hc=0,cc=v3.length;Hc<cc;Hc++){var G9=v3[Hc];var G7={};var v1=He?G9.getLayout().area/He:0;var m=G7[v2[Hd]]=zR(He-2*Ha,0);var G6=e[Z[Hb]]+e[v2[Hb]]-G5;var k=(Hc===cc-1||G6<v1)?G6:v1;var v=G7[v2[Hb]]=zR(k-2*Ha,0);G7[Z[Hd]]=e[Z[Hd]]+jd(Ha,m/2);G7[Z[Hb]]=G5+jd(Ha,v/2);G5+=k;G9.setLayout(G7,true)}e[Z[Hd]]+=He;e[v2[Hd]]-=He}function T(G6,v1,Z,v3,G5){var m=(v1||{}).node;var G8=[v3,G5];if(!m||m===Z){return G8}var v2;var G4=v3*G5;var Hb=G4*G6.option.zoomToNodeRatio;while(v2=m.parentNode){var k=0;var v=v2.children;for(var G9=0,Ha=v.length;G9<Ha;G9++){k+=v[G9].getValue()}var cc=m.getValue();if(cc===0){return G8}Hb*=k/cc;var e=v2.getModel();var Hd=e.get(gc);var G7=Math.max(Hd,oS(e,Hd));Hb+=4*Hd*Hd+(3*Hd+G7)*Math.pow(Hb,0.5);Hb>x7&&(Hb=x7);m=v2}Hb<G4&&(Hb=G4);var Hc=Math.pow(Hb/G4,0.5);return[v3*Hc,G5*Hc]}function Gv(i,cc,m){if(cc){return{x:cc.x,y:cc.y}}var v2={x:0,y:0};if(!m){return v2}var v=m.node;var k=v.getLayout();if(!k){return v2}var Z=[k.width/2,k.height/2];var e=v;while(e){var v1=e.getLayout();Z[0]+=v1.x;Z[1]+=v1.y;e=e.parentNode}return{x:i.width/2-Z[0],y:i.height/2-Z[1]}}function vA(i,v,k,cc,Z){var v1=i.getLayout();var v2=k[Z];var m=v2&&v2===i;if((v2&&!m)||(Z===k.length&&i!==cc)){return}i.setLayout({isInView:true,invisible:!m&&!v.intersect(v1),isAboveViewRoot:m},true);var e=new BM(v.x-v1.x,v.y-v1.y,v.width,v.height);tc(i.viewChildren||[],function(v3){vA(v3,e,k,cc,Z+1)})}function oS(e){return e.get(DY)?e.get(tz):0}E(xj);oM(eC);function h8(e){return"_EC_"+e}var hk=function(e){this._directed=e||false;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};var Ce=hk.prototype;Ce.type="graph";Ce.isDirected=function(){return this._directed};Ce.addNode=function(m,e){m=m||(""+e);var k=this._nodesMap;if(k[h8(m)]){if(nK){console.error("Graph nodes have duplicate name or id")}return}var i=new rZ(m,e);i.hostGraph=this;this.nodes.push(i);k[h8(m)]=i;return i};Ce.getNodeByIndex=function(e){var i=this.data.getRawIndex(e);return this.nodes[i]};Ce.getNodeById=function(e){return this._nodesMap[h8(e)]};Ce.addEdge=function(v,m,k){var cc=this._nodesMap;var e=this._edgesMap;if(typeof v==="number"){v=this.nodes[v]}if(typeof m==="number"){m=this.nodes[m]}if(!rZ.isInstance(v)){v=cc[h8(v)]}if(!rZ.isInstance(m)){m=cc[h8(m)]}if(!v||!m){return}var i=v.id+"-"+m.id;if(e[i]){return}var Z=new iE(v,m,k);Z.hostGraph=this;if(this._directed){v.outEdges.push(Z);m.inEdges.push(Z)}v.edges.push(Z);if(v!==m){m.edges.push(Z)}this.edges.push(Z);e[i]=Z;return Z};Ce.getEdgeByIndex=function(e){var i=this.edgeData.getRawIndex(e);return this.edges[i]};Ce.getEdge=function(k,i){if(rZ.isInstance(k)){k=k.id}if(rZ.isInstance(i)){i=i.id}var e=this._edgesMap;if(this._directed){return e[k+"-"+i]}else{return e[k+"-"+i]||e[i+"-"+k]}};Ce.eachNode=function(k,Z){var m=this.nodes;var e=m.length;for(var v=0;v<e;v++){if(m[v].dataIndex>=0){k.call(Z,m[v],v)}}};Ce.eachEdge=function(k,Z){var m=this.edges;var e=m.length;for(var v=0;v<e;v++){if(m[v].dataIndex>=0&&m[v].node1.dataIndex>=0&&m[v].node2.dataIndex>=0){k.call(Z,m[v],v)}}};Ce.breadthFirstTraverse=function(Z,v,G5,k){if(!rZ.isInstance(v)){v=this._nodesMap[h8(v)]}if(!v){return}var G6=G5==="out"?"outEdges":(G5==="in"?"inEdges":"edges");for(var v2=0;v2<this.nodes.length;v2++){this.nodes[v2].__visited=false}if(Z.call(k,v,null)){return}var v3=[v];while(v3.length){var m=v3.shift();var v1=m[G6];for(var v2=0;v2<v1.length;v2++){var G4=v1[v2];var cc=G4.node1===m?G4.node2:G4.node1;if(!cc.__visited){if(Z.call(k,cc,m)){return}v3.push(cc);cc.__visited=true}}}};Ce.update=function(){var cc=this.data;var Z=this.edgeData;var m=this.nodes;var k=this.edges;for(var v=0,e=m.length;v<e;v++){m[v].dataIndex=-1}for(var v=0,e=cc.count();v<e;v++){m[cc.getRawIndex(v)].dataIndex=v}Z.filterSelf(function(i){var v1=k[Z.getRawIndex(i)];return v1.node1.dataIndex>=0&&v1.node2.dataIndex>=0});for(var v=0,e=k.length;v<e;v++){k[v].dataIndex=-1}for(var v=0,e=Z.count();v<e;v++){k[Z.getRawIndex(v)].dataIndex=v}};Ce.clone=function(){var Z=new hk(this._directed);var m=this.nodes;var k=this.edges;for(var v=0;v<m.length;v++){Z.addNode(m[v].id,m[v].dataIndex)}for(var v=0;v<k.length;v++){var cc=k[v];Z.addEdge(cc.node1.id,cc.node2.id,cc.dataIndex)}return Z};function rZ(i,e){this.id=i==null?"":i;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=e==null?-1:e}rZ.prototype={constructor:rZ,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(k){if(this.dataIndex<0){return}var i=this.hostGraph;var e=i.data.getItemModel(this.dataIndex);return e.getModel(k)}};function iE(k,i,e){this.node1=k;this.node2=i;this.dataIndex=e==null?-1:e}iE.prototype.getModel=function(k){if(this.dataIndex<0){return}var i=this.hostGraph;var e=i.edgeData.getItemModel(this.dataIndex);return e.getModel(k)};var Gy=function(i,e){return{getValue:function(m){var k=this[i][e];return k.get(k.getDimension(m||"value"),this.dataIndex)},setVisual:function(k,m){this.dataIndex>=0&&this[i][e].setItemVisual(this.dataIndex,k,m)},getVisual:function(m,k){return this[i][e].getItemVisual(this.dataIndex,m,k)},setLayout:function(m,k){this.dataIndex>=0&&this[i][e].setItemLayout(this.dataIndex,m,k)},getLayout:function(){return this[i][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][e].getRawIndex(this.dataIndex)}}};Ff(rZ,Gy("hostGraph","data"));Ff(iE,Gy("hostGraph","edgeData"));hk.Node=rZ;hk.Edge=iE;ze(rZ);ze(iE);var AM=function(G7,v,G6,Z,v3){var k=new hk(Z);for(var G9=0;G9<G7.length;G9++){k.addNode(gg(G7[G9].id,G7[G9].name,G9),G9)}var cc=[];var v1=[];var G5=0;for(var G9=0;G9<v.length;G9++){var G4=v[G9];var G8=G4.source;var Hc=G4.target;if(k.addEdge(G8,Hc,G5)){v1.push(G4);cc.push(gg(G4.id,G8+" > "+Hc));G5++}}var v2=G6.get("coordinateSystem");var e;if(v2==="cartesian2d"||v2==="polar"){e=a(G7,G6)}else{var Hb=fk.get(v2);var Ha=xH(G7,{coordDimensions:((Hb&&Hb.type!=="view")?(Hb.dimensions||[]):[]).concat(["value"])});e=new wF(Ha,G6);e.initData(G7)}var m=new wF(["value"],G6);m.initData(v1,cc);v3&&v3(e,m);AN({mainData:e,struct:k,structAttr:"graph",datas:{node:e,edge:m},datasAttr:{node:"data",edge:"edgeData"}});k.update();return k};var t6=A6({type:"series.graph",init:function(e){t6.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeOption:function(e){t6.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(e){t6.superApply(this,"mergeDefaultAndTheme",arguments);CB(e,["edgeLabel"],["show"])},getInitialData:function(Z,e){var m=Z.edges||Z.links||[];var k=Z.data||Z.nodes||[];var i=this;if(k&&m){return AM(k,m,this,true,v).data}function v(v2,G4){v2.wrapMethod("getItemModel",function(G5){var G7=i._categoriesModels;var G8=G5.getShallow("category");var G6=G7[G8];if(G6){G6.parentModel=G5.parentModel;G5.parentModel=G6}return G5});var v3=i.getModel("edgeLabel");var v1=new fg({label:v3.option},v3.parentModel,e);G4.wrapMethod("getItemModel",function(G5){G5.customizeGetParent(cc);return G5});function cc(G5){G5=this.parsePath(G5);return(G5&&G5[0]==="label")?v1:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(v1,m,v2){if(v2==="edge"){var e=this.getData();var v=this.getDataParams(v1,v2);var k=e.graph.getEdgeByIndex(v1);var i=e.getName(k.node1.dataIndex);var Z=e.getName(k.node2.dataIndex);var cc=[];i!=null&&cc.push(i);Z!=null&&cc.push(Z);cc=l3(cc.join(" > "));if(v.value){cc+=" : "+l3(v.value)}return cc}else{return t6.superApply(this,"formatTooltip",arguments)}},_updateCategoriesData:function(){var i=De(this.option.categories||[],function(k){return k.value!=null?k:bY({value:0},k)});var e=new wF(["value"],this);e.initData(i);this._categoriesData=e;this._categoriesModels=e.mapArray(function(k){return e.getItemModel(k,true)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return t6.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:true,hoverAnimation:true,layout:null,focusNodeAdjacency:false,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:0.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{label:{show:true}}}});var uf=yK.prototype;var cO=gJ.prototype;function AC(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var Gd=Gi({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,i){(AC(i)?uf:cO).buildPath(e,i)},pointAt:function(e){return AC(this.shape)?uf.pointAt.call(this,e):cO.pointAt.call(this,e)},tangentAt:function(i){var e=this.shape;var k=AC(e)?[e.x2-e.x1,e.y2-e.y1]:cO.tangentAt.call(this,i);return vP(k,k)}});var vS=["fromSymbol","toSymbol"];function jc(e){return"_"+e+"Type"}function Dj(m,cc,i){var k=cc.getItemVisual(i,"color");var Z=cc.getItemVisual(i,m);var v=cc.getItemVisual(i,m+"Size");if(!Z||Z==="none"){return}if(!Fw(v)){v=[v,v]}var e=tk(Z,-v[0]/2,-v[1]/2,v[0],v[1],k);e.name=m;return e}function Ga(i){var e=new Gd({name:"line"});Ez(e.shape,i);return e}function Ez(e,i){var v=i[0];var k=i[1];var m=i[2];e.x1=v[0];e.y1=v[1];e.x2=k[0];e.y2=k[1];e.percent=1;if(m){e.cpx1=m[0];e.cpy1=m[1]}else{e.cpx1=NaN;e.cpy1=NaN}}function ju(){var Hb=this;var e=Hb.childOfName("fromSymbol");var Hd=Hb.childOfName("toSymbol");var v1=Hb.childOfName("label");if(!e&&!Hd&&v1.ignore){return}var k=1;var v2=this.parent;while(v2){if(v2.scale){k/=v2.scale[0]}v2=v2.parent}var G4=Hb.childOfName("line");if(!this.__dirty&&!G4.__dirty){return}var i=G4.shape.percent;var Ha=G4.pointAt(0);var G9=G4.pointAt(i);var Hc=AQ([],G9,Ha);vP(Hc,Hc);if(e){e.attr("position",Ha);var v3=G4.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(v3[1],v3[0]));e.attr("scale",[k*i,k*i])}if(Hd){Hd.attr("position",G9);var v3=G4.tangentAt(1);Hd.attr("rotation",-Math.PI/2-Math.atan2(v3[1],v3[0]));Hd.attr("scale",[k*i,k*i])}if(!v1.ignore){v1.attr("position",G9);var v;var Z;var G6;var G5=5*k;if(v1.__position==="end"){v=[Hc[0]*G5+G9[0],Hc[1]*G5+G9[1]];Z=Hc[0]>0.8?"left":(Hc[0]<-0.8?"right":"center");G6=Hc[1]>0.8?"top":(Hc[1]<-0.8?"bottom":"middle")}else{if(v1.__position==="middle"){var m=i/2;var v3=G4.tangentAt(m);var G7=[v3[1],-v3[0]];var cc=G4.pointAt(m);if(G7[1]>0){G7[0]=-G7[0];G7[1]=-G7[1]}v=[cc[0]+G7[0]*G5,cc[1]+G7[1]*G5];Z="center";G6="bottom";var G8=-Math.atan2(v3[1],v3[0]);if(G9[0]<Ha[0]){G8=Math.PI+G8}v1.attr("rotation",G8)}else{v=[-Hc[0]*G5+Ha[0],-Hc[1]*G5+Ha[1]];Z=Hc[0]>0.8?"right":(Hc[0]<-0.8?"left":"center");G6=Hc[1]>0.8?"bottom":(Hc[1]<-0.8?"top":"middle")}}v1.attr({style:{textVerticalAlign:v1.__verticalAlign||G6,textAlign:v1.__textAlign||Z},position:v,scale:[k,k]})}}function mj(k,e,i){Bd.call(this);this._createLine(k,e,i)}var lj=mj.prototype;lj.beforeUpdate=ju;lj._createLine=function(cc,e,v){var k=cc.hostModel;var Z=cc.getItemLayout(e);var i=Ga(Z);i.shape.percent=0;ji(i,{shape:{percent:1}},k,e);this.add(i);var m=new iC({name:"label"});this.add(m);ow(vS,function(v1){var v2=Dj(v1,cc,e);this.add(v2);this[jc(v1)]=cc.getItemVisual(e,v1)},this);this._updateCommonStl(cc,e,v)};lj.updateData=function(cc,e,m){var k=cc.hostModel;var i=this.childOfName("line");var Z=cc.getItemLayout(e);var v={shape:{}};Ez(v.shape,Z);og(i,v,k,e);ow(vS,function(v2){var G4=cc.getItemVisual(e,v2);var v1=jc(v2);if(this[v1]!==G4){this.remove(this.childOfName(v2));var v3=Dj(v2,cc,e);this.add(v3)}this[v1]=G4},this);this._updateCommonStl(cc,e,m)};lj._updateCommonStl=function(G8,G6,G5){var G7=G8.hostModel;var v2=this.childOfName("line");var k=G5&&G5.lineStyle;var v3=G5&&G5.hoverLineStyle;var v1=G5&&G5.labelModel;var Hb=G5&&G5.hoverLabelModel;if(!G5||G8.hasItemOption){var Ha=G8.getItemModel(G6);k=Ha.getModel("lineStyle").getLineStyle();v3=Ha.getModel("emphasis.lineStyle").getLineStyle();v1=Ha.getModel("label");Hb=Ha.getModel("emphasis.label")}var Z=G8.getItemVisual(G6,"color");var v=jO(G8.getItemVisual(G6,"opacity"),k.opacity,1);v2.useStyle(Ch({strokeNoScale:true,fill:"none",stroke:Z,opacity:v},k));v2.hoverStyle=v3;ow(vS,function(He){var Hf=this.childOfName(He);if(Hf){Hf.setColor(Z);Hf.setStyle({opacity:v})}},this);var Hc=v1.getShallow("show");var m=Hb.getShallow("show");var cc=this.childOfName("label");var G4;var i;var G9;if(Hc||m){G4=Z||"#000";i=G7.getFormattedLabel(G6,"normal",G8.dataType);if(i==null){var Hd=G7.getRawValue(G6);i=Hd==null?G8.getName(G6):isFinite(Hd)?EE(Hd):Hd}G9=jP(G7.getFormattedLabel(G6,"emphasis",G8.dataType),i)}if(Hc){var e=oB(cc.style,v1,{text:i},{autoColor:G4});cc.__textAlign=e.textAlign;cc.__verticalAlign=e.textVerticalAlign;cc.__position=v1.get("position")||"middle"}else{cc.setStyle("text",null)}if(m){cc.hoverStyle={text:G9,textFill:Hb.getTextColor(true),fontStyle:Hb.getShallow("fontStyle"),fontWeight:Hb.getShallow("fontWeight"),fontSize:Hb.getShallow("fontSize"),fontFamily:Hb.getShallow("fontFamily")}}else{cc.hoverStyle={text:null}}cc.ignore=!Hc&&!m;xz(this)};lj.highlight=function(){this.trigger("emphasis")};lj.downplay=function(){this.trigger("normal")};lj.updateLayout=function(i,e){this.setLinePoints(i.getItemLayout(e))};lj.setLinePoints=function(i){var e=this.childOfName("line");Ez(e.shape,i);e.dirty()};lZ(mj,Bd);function hi(e){this._ctor=e||mj;this.group=new Bd()}var fH=hi.prototype;fH.isPersistent=function(){return true};fH.updateData=function(v){var e=this;var m=e.group;var k=e._lineData;e._lineData=v;if(!k){m.removeAll()}var i=d0(v);v.diff(k).add(function(Z){qo(e,v,Z,i)}).update(function(cc,Z){rW(e,k,v,Z,cc,i)}).remove(function(Z){m.remove(k.getItemGraphicEl(Z))}).execute()};function qo(i,Z,e,k){var v=Z.getItemLayout(e);if(!eP(v)){return}var m=new i._ctor(Z,e,k);Z.setItemGraphicEl(e,m);i.group.add(m)}function rW(e,v,cc,m,Z,k){var i=v.getItemGraphicEl(m);if(!eP(cc.getItemLayout(Z))){e.group.remove(i);return}if(!i){i=new e._ctor(cc,Z,k)}else{i.updateData(cc,Z,k)}cc.setItemGraphicEl(Z,i);e.group.add(i)}fH.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(k,i){k.updateLayout(e,i)},this)};fH.incrementalPrepareUpdate=function(e){this._seriesScope=d0(e);this._lineData=null;this.group.removeAll()};fH.incrementalUpdate=function(v,Z){function i(cc){if(!cc.isGroup){cc.incremental=cc.useHoverLayer=true}}for(var e=v.start;e<v.end;e++){var m=Z.getItemLayout(e);if(eP(m)){var k=new this._ctor(Z,e,this._seriesScope);k.traverse(i);this.group.add(k)}}};function d0(i){var e=i.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}fH.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};fH._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};function vR(e){return isNaN(e[0])||isNaN(e[1])}function eP(e){return !vR(e[0])&&!vR(e[1])}var At=[];var As=[];var Aq=[];var qf=j8;var qI=cj;var jN=Math.abs;function u5(m,e,v1){var G8=m[0];var G7=m[1];var G4=m[2];var v2=Infinity;var G9;var cc=v1*v1;var k=0.1;for(var G6=0.1;G6<=0.9;G6+=0.1){At[0]=qf(G8[0],G7[0],G4[0],G6);At[1]=qf(G8[1],G7[1],G4[1],G6);var v3=jN(qI(At,e)-cc);if(v3<v2){v2=v3;G9=G6}}for(var v=0;v<32;v++){var Z=G9+k;As[0]=qf(G8[0],G7[0],G4[0],G9);As[1]=qf(G8[1],G7[1],G4[1],G9);Aq[0]=qf(G8[0],G7[0],G4[0],Z);Aq[1]=qf(G8[1],G7[1],G4[1],Z);var v3=qI(As,e)-cc;if(jN(v3)<0.01){break}var G5=qI(Aq,e)-cc;k/=2;if(v3<0){if(G5>=0){G9=G9+k}else{G9=G9-k}}else{if(G5>=0){G9=G9-k}else{G9=G9+k}}}return G9}var mx=function(cc,i){var Z=[];var v2=DB;var v1=[[],[],[]];var m=[[],[]];var k=[];i/=2;function e(v){var v3=v.getVisual("symbolSize");if(v3 instanceof Array){v3=(v3[0]+v3[1])/2}return v3}cc.eachEdge(function(G7,v){var G9=G7.getLayout();var G5=G7.getVisual("fromSymbol");var G4=G7.getVisual("toSymbol");if(!G9.__original){G9.__original=[t4(G9[0]),t4(G9[1])];if(G9[2]){G9.__original.push(t4(G9[2]))}}var v3=G9.__original;if(G9[2]!=null){xS(v1[0],v3[0]);xS(v1[1],v3[2]);xS(v1[2],v3[1]);if(G5&&G5!="none"){var G8=e(G7.node1);var G6=u5(v1,v3[0],G8*i);v2(v1[0][0],v1[1][0],v1[2][0],G6,Z);v1[0][0]=Z[3];v1[1][0]=Z[4];v2(v1[0][1],v1[1][1],v1[2][1],G6,Z);v1[0][1]=Z[3];v1[1][1]=Z[4]}if(G4&&G4!="none"){var G8=e(G7.node2);var G6=u5(v1,v3[1],G8*i);v2(v1[0][0],v1[1][0],v1[2][0],G6,Z);v1[1][0]=Z[1];v1[2][0]=Z[2];v2(v1[0][1],v1[1][1],v1[2][1],G6,Z);v1[1][1]=Z[1];v1[2][1]=Z[2]}xS(G9[0],v1[0]);xS(G9[1],v1[2]);xS(G9[2],v1[1])}else{xS(m[0],v3[0]);xS(m[1],v3[1]);AQ(k,m[1],m[0]);vP(k,k);if(G5&&G5!="none"){var G8=e(G7.node1);Ab(m[0],m[0],k,G8*i)}if(G4&&G4!="none"){var G8=e(G7.node2);Ab(m[1],m[1],k,-G8*i)}xS(G9[0],m[0]);xS(G9[1],m[1])}})};var km=["itemStyle","opacity"];var Db=["lineStyle","opacity"];function eX(i,e){return i.getVisual("opacity")||i.getModel().get(e)}function a7(m,k,v){var i=m.getGraphicEl();var e=eX(m,k);if(v!=null){e==null&&(e=1);e*=v}i.downplay&&i.downplay();i.traverse(function(Z){if(Z.type!=="group"){Z.setStyle("opacity",e)}})}function GB(m,k){var e=eX(m,k);var i=m.getGraphicEl();i.highlight&&i.highlight();i.traverse(function(v){if(v.type!=="group"){v.setStyle("opacity",e)}})}AO({type:"graph",init:function(e,m){var k=new D4();var i=new hi();var v=this.group;this._controller=new ad(m.getZr());this._controllerHost={target:v};v.add(k.group);v.add(i.group);this._symbolDraw=k;this._lineDraw=i;this._firstRender=true},render:function(k,cc,v1){var v=k.coordinateSystem;this._model=k;this._nodeScaleRatio=k.get("nodeScaleRatio");var e=this._symbolDraw;var v3=this._lineDraw;var G6=this.group;if(v.type==="view"){var G4={position:v.position,scale:v.scale};if(this._firstRender){G6.attr(G4)}else{og(G6,G4,k)}}mx(k.getGraph(),this._getNodeGlobalScale(k));var Z=k.getData();e.updateData(Z);var v2=k.getEdgeData();v3.updateData(v2);this._updateNodeAndLinkScale();this._updateController(k,cc,v1);clearTimeout(this._layoutTimeout);var G5=k.forceLayout;var G8=k.get("force.layoutAnimation");if(G5){this._startForceLayoutIteration(G5,G8)}Z.eachItemGraphicEl(function(Hc,Ha){var Hb=Z.getItemModel(Ha);Hc.off("drag").off("dragend");var G9=Z.getItemModel(Ha).get("draggable");if(G9){Hc.on("drag",function(){if(G5){G5.warmUp();!this._layouting&&this._startForceLayoutIteration(G5,G8);G5.setFixed(Ha);Z.setItemLayout(Ha,Hc.position)}},this).on("dragend",function(){if(G5){G5.setUnfixed(Ha)}},this)}Hc.setDraggable(G9&&G5);Hc.off("mouseover",Hc.__focusNodeAdjacency);Hc.off("mouseout",Hc.__unfocusNodeAdjacency);if(Hb.get("focusNodeAdjacency")){Hc.on("mouseover",Hc.__focusNodeAdjacency=function(){v1.dispatchAction({type:"focusNodeAdjacency",seriesId:k.id,dataIndex:Hc.dataIndex})});Hc.on("mouseout",Hc.__unfocusNodeAdjacency=function(){v1.dispatchAction({type:"unfocusNodeAdjacency",seriesId:k.id})})}},this);Z.graph.eachEdge(function(Ha){var G9=Ha.getGraphicEl();G9.off("mouseover",G9.__focusNodeAdjacency);G9.off("mouseout",G9.__unfocusNodeAdjacency);if(Ha.getModel().get("focusNodeAdjacency")){G9.on("mouseover",G9.__focusNodeAdjacency=function(){v1.dispatchAction({type:"focusNodeAdjacency",seriesId:k.id,edgeDataIndex:Ha.dataIndex})});G9.on("mouseout",G9.__unfocusNodeAdjacency=function(){v1.dispatchAction({type:"unfocusNodeAdjacency",seriesId:k.id})})}});var G7=k.get("layout")==="circular"&&k.get("circular.rotateLabel");var m=Z.getLayout("cx");var i=Z.getLayout("cy");Z.eachItemGraphicEl(function(Hc,Hb){var Ha=Hc.getSymbolPath();if(G7){var Hf=Z.getItemLayout(Hb);var G9=Math.atan2(Hf[1]-i,Hf[0]-m);if(G9<0){G9=Math.PI*2+G9}var He=Hf[0]<m;if(He){G9=G9-Math.PI}var Hd=He?"left":"right";Ha.setStyle({textRotation:-G9,textPosition:Hd,textOrigin:"center"});Ha.hoverStyle&&(Ha.hoverStyle.textPosition=Hd)}else{Ha.setStyle({textRotation:0})}});this._firstRender=false},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(k,v,Z,v2){var m=this._model.getData();var v3=m.graph;var cc=v2.dataIndex;var v1=v2.edgeDataIndex;var i=v3.getNodeByIndex(cc);var e=v3.getEdgeByIndex(v1);if(!i&&!e){return}v3.eachNode(function(G4){a7(G4,km,0.1)});v3.eachEdge(function(G4){a7(G4,Db,0.1)});if(i){GB(i,km);ow(i.edges,function(G4){if(G4.dataIndex<0){return}GB(G4,Db);GB(G4.node1,km);GB(G4.node2,km)})}if(e){GB(e,Db);GB(e.node1,km);GB(e.node2,km)}},unfocusNodeAdjacency:function(i,e,k,v){var m=this._model.getData().graph;m.eachNode(function(Z){a7(Z,km)});m.eachEdge(function(Z){a7(Z,Db)})},_startForceLayoutIteration:function(m,k){var e=this;(function i(){m.step(function(v){e.updateLayout(e._model);(e._layouting=!v)&&(k?(e._layoutTimeout=setTimeout(i,16)):i())})})()},_updateController:function(k,e,m){var i=this._controller;var Z=this._controllerHost;var v=this.group;i.setPointerChecker(function(v2,cc,v3){var v1=v.getBoundingRect();v1.applyTransform(v.transform);return v1.contain(cc,v3)&&!BU(v2,m,k)});if(k.coordinateSystem.type!=="view"){i.disable();return}i.enable(k.get("roam"));Z.zoomLimit=k.get("scaleLimit");Z.zoom=k.coordinateSystem.getZoom();i.off("pan").off("zoom").on("pan",function(v1,cc){EI(Z,v1,cc);m.dispatchAction({seriesId:k.id,type:"graphRoam",dx:v1,dy:cc})}).on("zoom",function(v2,v1,cc){yN(Z,v2,v1,cc);m.dispatchAction({seriesId:k.id,type:"graphRoam",zoom:v2,originX:v1,originY:cc});this._updateNodeAndLinkScale();mx(k.getGraph(),this._getNodeGlobalScale(k));this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var e=this._model;var m=e.getData();var i=this._getNodeGlobalScale(e);var k=[i,i];m.eachItemGraphicEl(function(Z,v){Z.attr("scale",k)})},_getNodeGlobalScale:function(k){var m=k.coordinateSystem;if(m.type!=="view"){return 1}var cc=this._nodeScaleRatio;var i=m.scale;var e=(i&&i[0])||1;var Z=m.getZoom();var v=(Z-1)*cc+1;return v/e},updateLayout:function(e){mx(e.getGraph(),this._getNodeGlobalScale(e));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});var bE={type:"graphRoam",event:"graphRoam",update:"none"};bZ(bE,function(i,e){e.eachComponent({mainType:"series",query:i},function(k){var v=k.coordinateSystem;var m=bC(v,i);k.setCenter&&k.setCenter(m.center);k.setZoom&&k.setZoom(m.zoom)})});bZ({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});bZ({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var cK=function(e){var i=e.findComponents({mainType:"legend"});if(!i||!i.length){return}e.eachSeriesByType("graph",function(cc){var k=cc.getCategoriesData();var Z=cc.getGraph();var v=Z.data;var m=k.mapArray(k.getName);v.filterSelf(function(v1){var v2=v.getItemModel(v1);var G4=v2.getShallow("category");if(G4!=null){if(typeof G4==="number"){G4=m[G4]}for(var v3=0;v3<i.length;v3++){if(!i[v3].isSelected(G4)){return false}}}return true})},this)};var ga=function(e){var i={};e.eachSeriesByType("graph",function(v){var k=v.getCategoriesData();var Z=v.getData();var m={};k.each(function(cc){var v2=k.getName(cc);m["ec-"+v2]=cc;var v3=k.getItemModel(cc);var v1=v3.get("itemStyle.color")||v.getColorFromPalette(v2,i);k.setItemVisual(cc,"color",v1)});if(k.count()){Z.each(function(cc){var v1=Z.getItemModel(cc);var v2=v1.getShallow("category");if(v2!=null){if(typeof v2==="string"){v2=m["ec-"+v2]}if(!Z.getItemVisual(cc,"color",true)){Z.setItemVisual(cc,"color",k.getItemVisual(v2,"color"))}}})}})};function k6(e){if(!(e instanceof Array)){e=[e,e]}return e}var hE=function(e){e.eachSeriesByType("graph",function(k){var cc=k.getGraph();var v=k.getEdgeData();var v1=k6(k.get("edgeSymbol"));var Z=k6(k.get("edgeSymbolSize"));var m="lineStyle.color".split(".");var i="lineStyle.opacity".split(".");v.setVisual("fromSymbol",v1&&v1[0]);v.setVisual("toSymbol",v1&&v1[1]);v.setVisual("fromSymbolSize",Z&&Z[0]);v.setVisual("toSymbolSize",Z&&Z[1]);v.setVisual("color",k.get(m));v.setVisual("opacity",k.get(i));v.each(function(v2){var G5=v.getItemModel(v2);var G6=cc.getEdgeByIndex(v2);var G8=k6(G5.getShallow("symbol",true));var G7=k6(G5.getShallow("symbolSize",true));var v3=G5.get(m);var G4=G5.get(i);switch(v3){case"source":v3=G6.node1.getVisual("color");break;case"target":v3=G6.node2.getVisual("color");break}G8[0]&&G6.setVisual("fromSymbol",G8[0]);G8[1]&&G6.setVisual("toSymbol",G8[1]);G7[0]&&G6.setVisual("fromSymbolSize",G7[0]);G7[1]&&G6.setVisual("toSymbolSize",G7[1]);G6.setVisual("color",v3);G6.setVisual("opacity",G4)})})};function yq(e){var i=e.coordinateSystem;if(i&&i.type!=="view"){return}var k=e.getGraph();k.eachNode(function(v){var m=v.getModel();v.setLayout([+m.get("x"),+m.get("y")])});E9(k)}function E9(e){e.eachEdge(function(m){var i=m.getModel().get("lineStyle.curveness")||0;var Z=t4(m.node1.getLayout());var v=t4(m.node2.getLayout());var k=[Z,v];if(+i){k.push([(Z[0]+v[0])/2-(Z[1]-v[1])*i,(Z[1]+v[1])/2-(v[0]-Z[0])*i])}m.setLayout(k)})}var gh=function(e,i){e.eachSeriesByType("graph",function(v){var v2=v.get("layout");var Z=v.coordinateSystem;if(Z&&Z.type!=="view"){var v1=v.getData();var k=[];ow(Z.dimensions,function(G6){k=k.concat(v1.mapDimension(G6,true))});for(var v3=0;v3<v1.count();v3++){var G4=[];var G5=false;for(var cc=0;cc<k.length;cc++){var m=v1.get(k[cc],v3);if(!isNaN(m)){G5=true}G4.push(m)}if(G5){v1.setItemLayout(v3,Z.dataToPoint(G4))}else{v1.setItemLayout(v3,[NaN,NaN])}}E9(v1.graph)}else{if(!v2||v2==="none"){yq(v)}}})};function kl(v){var cc=v.coordinateSystem;if(cc&&cc.type!=="view"){return}var v3=cc.getBoundingRect();var i=v.getData();var G4=i.graph;var m=0;var v2=i.getSum("value");var v1=Math.PI*2/(v2||i.count());var Z=v3.width/2+v3.x;var k=v3.height/2+v3.y;var e=Math.min(v3.width,v3.height)/2;G4.eachNode(function(G5){var G6=G5.getValue("value");m+=v1*(v2?G6:1)/2;G5.setLayout([e*Math.cos(m)+Z,e*Math.sin(m)+k]);m+=v1*(v2?G6:1)/2});i.setLayout({cx:Z,cy:k});G4.eachEdge(function(G7){var G6=G7.getModel().get("lineStyle.curveness")||0;var Hb=t4(G7.node1.getLayout());var G9=t4(G7.node2.getLayout());var Ha;var G8=(Hb[0]+G9[0])/2;var G5=(Hb[1]+G9[1])/2;if(+G6){G6*=3;Ha=[Z*G6+G8*(1-G6),k*G6+G5*(1-G6)]}G7.setLayout([Hb,G9,Ha])})}var r9=function(e){e.eachSeriesByType("graph",function(i){if(i.get("layout")==="circular"){kl(i)}})};var uL=Ab;function CK(m,v1,e){var v3=e.rect;var v=v3.width;var G4=v3.height;var k=[v3.x+v/2,v3.y+G4/2];var G5=e.gravity==null?0.1:e.gravity;for(var v2=0;v2<m.length;v2++){var Z=m[v2];if(!Z.p){Z.p=FU(v*(Math.random()-0.5)+k[0],G4*(Math.random()-0.5)+k[1])}Z.pp=t4(Z.p);Z.edges=null}var cc=0.6;return{warmUp:function(){cc=0.5},setFixed:function(i){m[i].fixed=true},setUnfixed:function(i){m[i].fixed=false},step:function(G7){var Ha=[];var Hi=m.length;for(var Hb=0;Hb<v1.length;Hb++){var Hd=v1[Hb];var He=Hd.n1;var Hc=Hd.n2;AQ(Ha,Hc.p,He.p);var Hf=ep(Ha)-Hd.d;var Hg=Hc.w/(He.w+Hc.w);if(isNaN(Hg)){Hg=0}vP(Ha,Ha);!He.fixed&&uL(He.p,He.p,Ha,Hg*Hf*cc);!Hc.fixed&&uL(Hc.p,Hc.p,Ha,-(1-Hg)*Hf*cc)}for(var Hb=0;Hb<Hi;Hb++){var G6=m[Hb];if(!G6.fixed){AQ(Ha,k,G6.p);uL(G6.p,G6.p,Ha,G5*cc)}}for(var Hb=0;Hb<Hi;Hb++){var He=m[Hb];for(var G8=Hb+1;G8<Hi;G8++){var Hc=m[G8];AQ(Ha,Hc.p,He.p);var Hf=ep(Ha);if(Hf===0){Fy(Ha,Math.random()-0.5,Math.random()-0.5);Hf=1}var G9=(He.rep+Hc.rep)/Hf/Hf;!He.fixed&&uL(He.pp,He.pp,Ha,G9);!Hc.fixed&&uL(Hc.pp,Hc.pp,Ha,-G9)}}var Hh=[];for(var Hb=0;Hb<Hi;Hb++){var G6=m[Hb];if(!G6.fixed){AQ(Hh,G6.p,G6.pp);uL(G6.p,G6.p,Hh,cc);xS(G6.pp,G6.p)}}cc=cc*0.992;G7&&G7(m,v1,cc<0.01)}}}var xG=function(e){e.eachSeriesByType("graph",function(G8){var v1=G8.coordinateSystem;if(v1&&v1.type!=="view"){return}if(G8.get("layout")==="force"){var v2=G8.preservedPoints||{};var Hb=G8.getGraph();var k=Hb.data;var G7=Hb.edgeData;var G4=G8.getModel("force");var G6=G4.get("initLayout");if(G8.preservedPoints){k.each(function(Hc){var Hd=k.getId(Hc);k.setItemLayout(Hc,v2[Hd]||[NaN,NaN])})}else{if(!G6||G6==="none"){yq(G8)}else{if(G6==="circular"){kl(G8)}}}var Z=k.getDataExtent("value");var G5=G7.getDataExtent("value");var Ha=G4.get("repulsion");var v=G4.get("edgeLength");if(!Fw(Ha)){Ha=[Ha,Ha]}if(!Fw(v)){v=[v,v]}v=[v[1],v[0]];var i=k.mapArray("value",function(Hf,Hd){var Hc=k.getItemLayout(Hd);var He=DM(Hf,Z,Ha);if(isNaN(He)){He=(Ha[0]+Ha[1])/2}return{w:He,rep:He,fixed:k.getItemModel(Hd).get("fixed"),p:(!Hc||isNaN(Hc[0])||isNaN(Hc[1]))?null:Hc}});var cc=G7.mapArray("value",function(He,Hc){var Hd=Hb.getEdgeByIndex(Hc);var Hf=DM(He,G5,v);if(isNaN(Hf)){Hf=(v[0]+v[1])/2}return{n1:i[Hd.node1.dataIndex],n2:i[Hd.node2.dataIndex],d:Hf,curveness:Hd.getModel().get("lineStyle.curveness")||0}});var v1=G8.coordinateSystem;var G9=v1.getBoundingRect();var v3=CK(i,cc,{rect:G9,gravity:G4.get("gravity")});var m=v3.step;v3.step=function(Hc){for(var He=0,Hd=i.length;He<Hd;He++){if(i[He].fixed){xS(i[He].p,Hb.getNodeByIndex(He).getLayout())}}m(function(Hg,Hj,Hf){for(var Hk=0,Hi=Hg.length;Hk<Hi;Hk++){if(!Hg[Hk].fixed){Hb.getNodeByIndex(Hk).setLayout(Hg[Hk].p)}v2[k.getId(Hk)]=Hg[Hk].p}for(var Hk=0,Hi=Hj.length;Hk<Hi;Hk++){var Hl=Hj[Hk];var Hh=Hb.getEdgeByIndex(Hk);var Ho=Hl.n1.p;var Hn=Hl.n2.p;var Hm=Hh.getLayout();Hm=Hm?Hm.slice():[];Hm[0]=Hm[0]||[];Hm[1]=Hm[1]||[];xS(Hm[0],Ho);xS(Hm[1],Hn);if(+Hl.curveness){Hm[2]=[(Ho[0]+Hn[0])/2-(Ho[1]-Hn[1])*Hl.curveness,(Ho[1]+Hn[1])/2-(Hn[0]-Ho[0])*Hl.curveness]}Hh.setLayout(Hm)}Hc&&Hc(Hf)})};G8.forceLayout=v3;G8.preservedPoints=v2;v3.step()}else{G8.forceLayout=null}})};function q7(i,m,e){var k=i.getBoxLayoutParams();k.aspect=e;return kx(k,{width:m.getWidth(),height:m.getHeight()})}var aQ=function(e,k){var i=[];e.eachSeriesByType("graph",function(v1){var G9=v1.get("coordinateSystem");if(!G9||G9==="view"){var v3=v1.getData();var G4=v3.mapArray(function(Ha){var Hb=v3.getItemModel(Ha);return[+Hb.get("x"),+Hb.get("y")]});var v2=[];var G8=[];n7(G4,v2,G8);if(G8[0]-v2[0]===0){G8[0]+=1;v2[0]-=1}if(G8[1]-v2[1]===0){G8[1]+=1;v2[1]-=1}var v=(G8[0]-v2[0])/(G8[1]-v2[1]);var G6=q7(v1,k,v);if(isNaN(v)){v2=[G6.x,G6.y];G8=[G6.x+G6.width,G6.y+G6.height]}var m=G8[0]-v2[0];var G7=G8[1]-v2[1];var G5=G6.width;var cc=G6.height;var Z=v1.coordinateSystem=new Bq();Z.zoomLimit=v1.get("scaleLimit");Z.setBoundingRect(v2[0],v2[1],m,G7);Z.setViewRect(G6.x,G6.y,G5,cc);Z.setCenter(v1.get("center"));Z.setZoom(v1.get("zoom"));i.push(Z)}});return i};d3(cK);E(lS("graph","circle",null));E(ga);E(hE);oM(gh);oM(r9);oM(xG);vG("graphView",{create:aQ});var H=nl.extend({type:"series.gauge",getInitialData:function(i,e){var k=i.data||[];if(!Fw(k)){k=[k]}i.data=k;return wt(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:true,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:true,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:true,distance:5,color:"auto"},pointer:{show:true,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:true,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var w2=lT.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(v2,v){var Z=Math.cos;var m=Math.sin;var e=v.r;var i=v.width;var k=v.angle;var v1=v.x-Z(k)*i*(i>=e/3?1:2);var cc=v.y-m(k)*i*(i>=e/3?1:2);k=v.angle-Math.PI/2;v2.moveTo(v1,cc);v2.lineTo(v.x+Z(k)*i,v.y+m(k)*i);v2.lineTo(v.x+Z(v.angle)*e,v.y+m(v.angle)*e);v2.lineTo(v.x-Z(k)*i,v.y-m(k)*i);v2.lineTo(v1,cc);return}});function ls(v,cc){var i=v.get("center");var k=cc.getWidth();var v1=cc.getHeight();var v2=Math.min(k,v1);var Z=yW(i[0],cc.getWidth());var m=yW(i[1],cc.getHeight());var e=yW(v.get("radius"),v2/2);return{cx:Z,cy:m,r:e}}function f5(e,i){if(i){if(typeof i==="string"){e=i.replace("{value}",e!=null?e:"")}else{if(typeof i==="function"){e=i(e)}}}return e}var FK=Math.PI*2;var r5=dw.extend({type:"gauge",render:function(k,i,v){this.group.removeAll();var m=k.get("axisLine.lineStyle.color");var e=ls(k,v);this._renderMain(k,i,v,m,e)},dispose:function(){},_renderMain:function(v2,Hd,cc,v1,Z){var v=this.group;var m=v2.getModel("axisLine");var G4=m.getModel("lineStyle");var Hb=v2.get("clockwise");var G8=-v2.get("startAngle")/180*Math.PI;var G6=-v2.get("endAngle")/180*Math.PI;var v3=(G6-G8)%FK;var Ha=G8;var G5=G4.get("width");for(var G9=0;G9<v1.length;G9++){var e=Math.min(Math.max(v1[G9][0],0),1);var G6=G8+v3*e;var G7=new sI({shape:{startAngle:Ha,endAngle:G6,cx:Z.cx,cy:Z.cy,clockwise:Hb,r0:Z.r-G5,r:Z.r},silent:true});G7.setStyle({fill:v1[G9][1]});G7.setStyle(G4.getLineStyle(["color","borderWidth","borderColor"]));v.add(G7);Ha=G6}var k=function(Hf){if(Hf<=0){return v1[0][1]}for(var He=0;He<v1.length;He++){if(v1[He][0]>=Hf&&(He===0?0:v1[He-1][0])<Hf){return v1[He][1]}}return v1[He-1][1]};if(!Hb){var Hc=G8;G8=G6;G6=Hc}this._renderTicks(v2,Hd,cc,k,Z,G8,G6,Hb);this._renderPointer(v2,Hd,cc,k,Z,G8,G6,Hb);this._renderTitle(v2,Hd,cc,k,Z);this._renderDetail(v2,Hd,cc,k,Z)},_renderTicks:function(Hg,Ht,Hd,m,Ha,Hk,Hh,Hn){var G8=this.group;var k=Ha.cx;var e=Ha.cy;var Hf=Ha.r;var Hp=+Hg.get("min");var G7=+Hg.get("max");var Hs=Hg.getModel("splitLine");var Hq=Hg.getModel("axisTick");var G9=Hg.getModel("axisLabel");var v2=Hg.get("splitNumber");var cc=Hq.get("splitNumber");var Hm=yW(Hs.get("length"),Hf);var Hb=yW(Hq.get("length"),Hf);var Ho=Hk;var G4=(Hh-Hk)/v2;var Hr=G4/cc;var He=Hs.getModel("lineStyle").getLineStyle();var v3=Hq.getModel("lineStyle").getLineStyle();for(var Hl=0;Hl<=v2;Hl++){var v1=Math.cos(Ho);var Z=Math.sin(Ho);if(Hs.get("show")){var G6=new yK({shape:{x1:v1*Hf+k,y1:Z*Hf+e,x2:v1*(Hf-Hm)+k,y2:Z*(Hf-Hm)+e},style:He,silent:true});if(He.stroke==="auto"){G6.setStyle({stroke:m(Hl/v2)})}G8.add(G6)}if(G9.get("show")){var G5=f5(EE(Hl/v2*(G7-Hp)+Hp),G9.get("formatter"));var v=G9.get("distance");var Hi=m(Hl/v2);G8.add(new iC({style:oB({},G9,{text:G5,x:v1*(Hf-Hm-v)+k,y:Z*(Hf-Hm-v)+e,textVerticalAlign:Z<-0.4?"top":(Z>0.4?"bottom":"middle"),textAlign:v1<-0.4?"left":(v1>0.4?"right":"center")},{autoColor:Hi}),silent:true}))}if(Hq.get("show")&&Hl!==v2){for(var Hj=0;Hj<=cc;Hj++){var v1=Math.cos(Ho);var Z=Math.sin(Ho);var Hc=new yK({shape:{x1:v1*Hf+k,y1:Z*Hf+e,x2:v1*(Hf-Hb)+k,y2:Z*(Hf-Hb)+e},silent:true,style:v3});if(v3.stroke==="auto"){Hc.setStyle({stroke:m((Hl+Hj/cc)/v2)})}G8.add(Hc);Ho+=Hr}Ho-=Hr}else{Ho+=G4}}},_renderPointer:function(k,cc,v1,G7,m,v3,i,e){var G6=this.group;var Z=this._data;if(!k.get("pointer.show")){Z&&Z.eachItemGraphicEl(function(G8){G6.remove(G8)});return}var G4=[+k.get("min"),+k.get("max")];var G5=[v3,i];var v=k.getData();var v2=v.mapDimension("value");v.diff(Z).add(function(G8){var G9=new w2({shape:{angle:v3}});ji(G9,{shape:{angle:DM(v.get(v2,G8),G4,G5,true)}},k);G6.add(G9);v.setItemGraphicEl(G8,G9)}).update(function(G9,G8){var Ha=Z.getItemGraphicEl(G8);og(Ha,{shape:{angle:DM(v.get(v2,G9),G4,G5,true)}},k);G6.add(Ha);v.setItemGraphicEl(G9,Ha)}).remove(function(G8){var G9=Z.getItemGraphicEl(G8);G6.remove(G9)}).execute();v.eachItemGraphicEl(function(Hb,G8){var Ha=v.getItemModel(G8);var G9=Ha.getModel("pointer");Hb.setShape({x:m.cx,y:m.cy,width:yW(G9.get("width"),m.r),r:yW(G9.get("length"),m.r)});Hb.useStyle(Ha.getModel("itemStyle").getItemStyle());if(Hb.style.fill==="auto"){Hb.setStyle("fill",G7(DM(v.get(v2,G8),G4,[0,1],true)))}xz(Hb,Ha.getModel("emphasis.itemStyle").getItemStyle())});this._data=v},_renderTitle:function(k,Z,cc,G6,m){var v=k.getData();var v1=v.mapDimension("value");var e=k.getModel("title");if(e.get("show")){var i=e.get("offsetCenter");var v3=m.cx+yW(i[0],m.r);var v2=m.cy+yW(i[1],m.r);var G5=+k.get("min");var G7=+k.get("max");var G4=k.getData().get(v1,0);var G8=G6(DM(G4,[G5,G7],[0,1],true));this.group.add(new iC({silent:true,style:oB({},e,{x:v3,y:v2,text:v.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:G8,forceRich:true})}))}},_renderDetail:function(k,Z,cc,G7,m){var v1=k.getModel("detail");var G5=+k.get("min");var G8=+k.get("max");if(v1.get("show")){var i=v1.get("offsetCenter");var v3=m.cx+yW(i[0],m.r);var v2=m.cy+yW(i[1],m.r);var e=yW(v1.get("width"),m.r);var G6=yW(v1.get("height"),m.r);var v=k.getData();var G4=v.get(v.mapDimension("value"),0);var G9=G7(DM(G4,[G5,G8],[0,1],true));this.group.add(new iC({silent:true,style:oB({},v1,{x:v3,y:v2,text:f5(G4,v1.get("formatter")),textWidth:isNaN(e)?null:e,textHeight:isNaN(G6)?null:G6,textAlign:"center",textVerticalAlign:"middle"},{autoColor:G9,forceRich:true})}))}}});var ic=A6({type:"series.funnel",init:function(e){ic.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(e)},getInitialData:function(i,e){return wt(this,["value"])},_defaultLabelLine:function(i){CB(i,"labelLine",["show"]);var e=i.labelLine;var k=i.emphasis.labelLine;e.show=e.show&&i.label.show;k.show=k.show&&i.emphasis.label.show},getDataParams:function(e){var k=this.getData();var m=ic.superCall(this,"getDataParams",e);var v=k.mapDimension("value");var i=k.getSum(v);m.percent=!i?0:+(k.get(v,e)/i*100).toFixed(2);m.$vars.push("percent");return m},defaultOption:{zlevel:0,z:2,legendHoverLink:true,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}}}});function ah(v,k){Bd.call(this);var m=new hV();var cc=new zf();var Z=new iC();this.add(m);this.add(cc);this.add(Z);this.updateData(v,k,true);function i(){cc.ignore=cc.hoverIgnore;Z.ignore=Z.hoverIgnore}function e(){cc.ignore=cc.normalIgnore;Z.ignore=Z.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var G=ah.prototype;var mE=["itemStyle","opacity"];G.updateData=function(k,v1,Z){var cc=this.childAt(0);var e=k.hostModel;var v3=k.getItemModel(v1);var m=k.getItemLayout(v1);var v=k.getItemModel(v1).get(mE);v=v==null?1:v;cc.useStyle({});if(Z){cc.setShape({points:m.points});cc.setStyle({opacity:0});ji(cc,{style:{opacity:v}},e,v1)}else{og(cc,{style:{opacity:v},shape:{points:m.points}},e,v1)}var i=v3.getModel("itemStyle");var v2=k.getItemVisual(v1,"color");cc.setStyle(Ch({lineJoin:"round",fill:v2},i.getItemStyle(["opacity"])));cc.hoverStyle=i.getModel("emphasis").getItemStyle();this._updateLabel(k,v1);xz(this)};G._updateLabel=function(Z,v2){var v=this.childAt(1);var i=this.childAt(2);var k=Z.hostModel;var G4=Z.getItemModel(v2);var v1=Z.getItemLayout(v2);var G6=v1.label;var v3=Z.getItemVisual(v2,"color");og(v,{shape:{points:G6.linePoints||G6.linePoints}},k,v2);og(i,{style:{x:G6.x,y:G6.y}},k,v2);i.attr({rotation:G6.rotation,origin:[G6.x,G6.y],z2:10});var G5=G4.getModel("label");var cc=G4.getModel("emphasis.label");var m=G4.getModel("labelLine");var e=G4.getModel("emphasis.labelLine");var v3=Z.getItemVisual(v2,"color");AG(i.style,i.hoverStyle={},G5,cc,{labelFetcher:Z.hostModel,labelDataIndex:v2,defaultText:Z.getName(v2),autoColor:v3,useInsideStyle:!!G6.inside},{textAlign:G6.textAlign,textVerticalAlign:G6.verticalAlign});i.ignore=i.normalIgnore=!G5.get("show");i.hoverIgnore=!cc.get("show");v.ignore=v.normalIgnore=!m.get("show");v.hoverIgnore=!e.get("show");v.setStyle({stroke:v3});v.setStyle(m.getModel("lineStyle").getLineStyle());v.hoverStyle=e.getModel("lineStyle").getLineStyle()};lZ(ah,Bd);var wM=dw.extend({type:"funnel",render:function(i,e,k){var m=i.getData();var Z=this._data;var v=this.group;m.diff(Z).add(function(cc){var v1=new ah(m,cc);m.setItemGraphicEl(cc,v1);v.add(v1)}).update(function(v2,v1){var cc=Z.getItemGraphicEl(v1);cc.updateData(m,v2);v.add(cc);m.setItemGraphicEl(v2,cc)}).remove(function(cc){var v1=Z.getItemGraphicEl(cc);v.remove(v1)}).execute();this._data=m},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});function q6(e,i){return kx(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function mZ(Z,v){var v2=Z.mapDimension("value");var k=Z.mapArray(v2,function(i){return i});var v1=[];var cc=v==="ascending";for(var m=0,e=Z.count();m<e;m++){v1[m]=m}if(typeof v==="function"){v1.sort(v)}else{if(v!=="none"){v1.sort(function(v3,i){return cc?k[v3]-k[i]:k[i]-k[v3]})}}return v1}function yy(e){e.each(function(G8){var Ha=e.getItemModel(G8);var Hb=Ha.getModel("label");var v1=Hb.get("position");var v=Ha.getModel("labelLine");var v2=e.getItemLayout(G8);var G9=v2.points;var v3=v1==="inner"||v1==="inside"||v1==="center";var m;var cc;var Z;var G6;if(v3){cc=(G9[0][0]+G9[1][0]+G9[2][0]+G9[3][0])/4;Z=(G9[0][1]+G9[1][1]+G9[2][1]+G9[3][1])/4;m="center";G6=[[cc,Z],[cc,Z]]}else{var k;var G5;var i;var G7=v.get("length");if(v1==="left"){k=(G9[3][0]+G9[0][0])/2;G5=(G9[3][1]+G9[0][1])/2;i=k-G7;cc=i-5;m="right"}else{k=(G9[1][0]+G9[2][0])/2;G5=(G9[1][1]+G9[2][1])/2;i=k+G7;cc=i+5;m="left"}var G4=G5;G6=[[k,G5],[i,G4]];Z=G4}v2.label={linePoints:G6,x:cc,y:Z,verticalAlign:"middle",textAlign:m,inside:v3}})}var hp=function(e,i,k){e.eachSeriesByType("funnel",function(G8){var Hi=G8.getData();var v=Hi.mapDimension("value");var Hg=G8.get("sort");var Hd=q6(G8,i);var v1=mZ(Hi,Hg);var v3=[yW(G8.get("minSize"),Hd.width),yW(G8.get("maxSize"),Hd.width)];var G9=Hi.getDataExtent(v);var Ha=G8.get("min");var He=G8.get("max");if(Ha==null){Ha=Math.min(G9[0],0)}if(He==null){He=G9[1]}var m=G8.get("funnelAlign");var G7=G8.get("gap");var Hb=(Hd.height-G7*(Hi.count()-1))/Hi.count();var v2=Hd.y;var G5=function(Hk,Hj){var Hn=Hi.get(v,Hk)||0;var Hm=DM(Hn,[Ha,He],v3,true);var Hl;switch(m){case"left":Hl=Hd.x;break;case"center":Hl=Hd.x+(Hd.width-Hm)/2;break;case"right":Hl=Hd.x+Hd.width-Hm;break}return[[Hl,Hj],[Hl+Hm,Hj]]};if(Hg==="ascending"){Hb=-Hb;G7=-G7;v2+=Hd.height;v1=v1.reverse()}for(var Hf=0;Hf<v1.length;Hf++){var G4=v1[Hf];var Hh=v1[Hf+1];var Hc=Hi.getItemModel(G4);var G6=Hc.get("itemStyle.height");if(G6==null){G6=Hb}else{G6=yW(G6,Hd.height);if(Hg==="ascending"){G6=-G6}}var cc=G5(G4,v2);var Z=G5(Hh,v2+G6);v2+=G6+G7;Hi.setItemLayout(G4,{points:cc.concat(Z.slice().reverse())})}yy(Hi)})};E(ez("funnel"));oM(hp);d3(C6("funnel"));var nF=function(e){ip(e);os(e)};function ip(e){if(e.parallel){return}var i=false;ow(e.series,function(k){if(k&&k.type==="parallel"){i=true}});if(i){e.parallel=[{}]}}function os(e){var i=lW(e.parallelAxis);ow(i,function(v){if(!sU(v)){return}var k=v.parallelIndex||0;var m=lW(e.parallel)[k];if(m&&m.parallelAxisDefault){vb(v,m.parallelAxisDefault,false)}})}var xV=function(m,v,k,e,i){AV.call(this,m,v,k);this.type=e||"value";this.axisIndex=i};xV.prototype={constructor:xV,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}};lZ(xV,AV);var mY=function(v1,m,G4,e,v3,Z){m[0]=qJ(m[0],G4);m[1]=qJ(m[1],G4);v1=v1||0;var k=G4[1]-G4[0];if(v3!=null){v3=qJ(v3,[0,k])}if(Z!=null){Z=Math.max(Z,v3!=null?v3:0)}if(e==="all"){v3=Z=Math.abs(m[1]-m[0]);e=0}var v2=fz(m,e);m[e]+=v1;var i=v3||0;var cc=G4.slice();v2.sign<0?(cc[0]+=i):(cc[1]-=i);m[e]=qJ(m[e],cc);var v=fz(m,e);if(v3!=null&&(v.sign!==v2.sign||v.span<v3)){m[1-e]=m[e]+v2.sign*v3}var v=fz(m,e);if(Z!=null&&v.span>Z){m[1-e]=m[e]+v.sign*Z}return m};function fz(i,k){var e=i[k]-i[1-k];return{span:Math.abs(e),sign:e>0?-1:e<0?1:k?-1:1}}function qJ(e,i){return Math.min(i[1],Math.max(i[0],e))}var s9=ow;var jb=Math.min;var zP=Math.max;var u8=Math.floor;var oe=Math.ceil;var ED=EE;var xN=Math.PI;function dS(i,e,k){this._axesMap=BN();this._axesLayout={};this.dimensions=i.dimensions;this._rect;this._model=i;this._init(i,e,k)}dS.prototype={type:"parallel",constructor:dS,_init:function(k,e,m){var v=k.dimensions;var i=k.parallelAxisIndex;s9(v,function(G4,Z){var v2=i[Z];var v1=e.getComponent("parallelAxis",v2);var v3=this._axesMap.set(G4,new xV(G4,mT(v1),[0,0],v1.get("type"),v2));var cc=v3.type==="category";v3.onBand=cc&&v1.get("boundaryGap");v3.inverse=v1.get("inverse");v1.axis=v3;v3.model=v1;v3.coordinateSystem=v1.coordinateSystem=this},this)},update:function(e,i){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var cc=this._makeLayoutInfo();var k=cc.axisBase;var Z=cc.layoutBase;var v=cc.pixelDimIndex;var m=e[1-v];var i=e[v];return m>=k&&m<=k+cc.axisLength&&i>=Z&&i<=Z+cc.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(i,e){e.eachSeries(function(k){if(!i.contains(k,e)){return}var m=k.getData();s9(this.dimensions,function(Z){var v=this._axesMap.get(Z);v.scale.unionExtentFromData(m,m.mapDimension(Z));ne(v.scale,v.model)},this)},this)},resize:function(e,i){this._rect=kx(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var m=this._model;var i=this._rect;var Z=["x","y"];var cc=["width","height"];var G9=m.get("layout");var v=G9==="horizontal"?0:1;var G6=i[cc[v]];var e=[0,G6];var G4=this.dimensions.length;var G8=Bh(m.get("axisExpandWidth"),e);var v2=Bh(m.get("axisExpandCount")||0,[0,G4]);var G5=m.get("axisExpandable")&&G4>3&&G4>v2&&v2>1&&G8>0&&G6>0;var Ha=m.get("axisExpandWindow");var v1;if(!Ha){v1=Bh(G8*(v2-1),e);var v3=m.get("axisExpandCenter")||u8(G4/2);Ha=[G8*v3-v1/2];Ha[1]=Ha[0]+v1}else{v1=Bh(Ha[1]-Ha[0],e);Ha[1]=Ha[0]+v1}var k=(G6-v1)/(G4-v2);k<3&&(k=0);var G7=[u8(ED(Ha[0]/G8,1))+1,oe(ED(Ha[1]/G8,1))-1];var Hb=k/G8*Ha[0];return{layout:G9,pixelDimIndex:v,layoutBase:i[Z[v]],layoutLength:G6,axisBase:i[Z[1-v]],axisLength:i[cc[1-v]],axisExpandable:G5,axisExpandWidth:G8,axisCollapseWidth:k,axisExpandWindow:Ha,axisCount:G4,winInnerIndices:G7,axisExpandWindow0Pos:Hb}},_layoutAxes:function(){var k=this._rect;var v=this._axesMap;var i=this.dimensions;var m=this._makeLayoutInfo();var e=m.layout;v.each(function(cc){var v1=[0,m.axisLength];var Z=cc.inverse?1:0;cc.setExtent(v1[Z],v1[1-Z])});s9(i,function(G6,v1){var cc=(m.axisExpandable?gj:fr)(v1,m);var G5={horizontal:{x:cc.position,y:m.axisLength},vertical:{x:0,y:cc.position}};var G4={horizontal:xN/2,vertical:0};var Z=[G5[e].x+k.x,G5[e].y+k.y];var v3=G4[e];var v2=BF();jW(v2,v2,v3);uy(v2,v2,Z);this._axesLayout[G6]={position:Z,rotation:v3,transform:v2,axisNameAvailableWidth:cc.axisNameAvailableWidth,axisLabelShow:cc.axisLabelShow,nameTruncateMaxWidth:cc.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:v.get(G6).getLabelInterval()}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,i){return this.axisCoordToPoint(this._axesMap.get(i).dataToCoord(e),i)},eachActiveState:function(v1,G9,m){var e=this.dimensions;var v=De(e,function(i){return v1.mapDimension(i)});var G6=this._axesMap;var G5=this.hasAxisBrushed();for(var v2=0,G4=v1.count();v2<G4;v2++){var G7=v1.getValues(v,v2);var v3;if(!G5){v3="normal"}else{v3="active";for(var cc=0,G8=e.length;cc<G8;cc++){var Z=e[cc];var k=G6.get(Z).model.getActiveState(G7[cc],cc);if(k==="inactive"){v3="inactive";break}}}G9.call(m,v3,v2)}},hasAxisBrushed:function(){var v=this.dimensions;var m=this._axesMap;var i=false;for(var k=0,e=v.length;k<e;k++){if(m.get(v[k]).model.getActiveState()!=="normal"){i=true}}return i},axisCoordToPoint:function(k,i){var e=this._axesLayout[i];return ve([k,0],e.transform)},getAxisLayout:function(e){return B8(this._axesLayout[e])},getSlidedAxisExpandWindow:function(v3){var m=this._makeLayoutInfo();var G5=m.pixelDimIndex;var i=m.axisExpandWindow.slice();var Z=i[1]-i[0];var G6=[0,m.axisExpandWidth*(m.axisCount-1)];if(!this.containPoint(v3)){return{behavior:"none",axisExpandWindow:i}}var v2=v3[G5]-m.layoutBase-m.axisExpandWindow0Pos;var G4;var e="slide";var v=m.axisCollapseWidth;var v1=this._model.get("axisExpandSlideTriggerArea");var k=v1[0]!=null;if(v){if(k&&v&&v2<Z*v1[0]){e="jump";G4=v2-Z*v1[2]}else{if(k&&v&&v2>Z*(1-v1[0])){e="jump";G4=v2-Z*(1-v1[2])}else{(G4=v2-Z*v1[1])>=0&&(G4=v2-Z*(1-v1[1]))<=0&&(G4=0)}}G4*=m.axisExpandWidth/v;G4?mY(G4,i,G6,"all"):(e="none")}else{var Z=i[1]-i[0];var cc=G6[1]*v2/Z;i=[zP(0,cc-Z/2)];i[1]=jb(G6[1],i[0]+Z);i[0]=i[1]-Z}return{axisExpandWindow:i,behavior:e}}};function Bh(e,i){return jb(zP(e,i[0]),i[1])}function fr(e,k){var i=k.layoutLength/(k.axisCount-1);return{position:i*e,axisNameAvailableWidth:i,axisLabelShow:true}}function gj(G4,i){var e=i.layoutLength;var cc=i.axisExpandWidth;var v3=i.axisCount;var m=i.axisCollapseWidth;var v1=i.winInnerIndices;var v;var Z=m;var k=false;var v2;if(G4<v1[0]){v=G4*m;v2=m}else{if(G4<=v1[1]){v=i.axisExpandWindow0Pos+G4*cc-i.axisExpandWindow[0];Z=cc;k=true}else{v=e-(v3-1-G4)*m;v2=m}}return{position:v,axisNameAvailableWidth:Z,axisLabelShow:k,nameTruncateMaxWidth:v2}}function BE(e,k){var i=[];e.eachComponent("parallel",function(v,m){var Z=new dS(v,e,k);Z.name="parallel_"+m;Z.resize(v,k);v.coordinateSystem=Z;Z.model=v;i.push(Z)});e.eachSeries(function(m){if(m.get("coordinateSystem")==="parallel"){var v=e.queryComponents({mainType:"parallel",index:m.get("parallelIndex"),id:m.get("parallelId")})[0];m.coordinateSystem=v.coordinateSystem}});return i}fk.register("parallel",{create:BE});var lV=aI.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return xX([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(k){var m=this.activeIntervals=B8(k);if(m){for(var e=m.length-1;e>=0;e--){ou(m[e])}}},getActiveState:function(m){var v=this.activeIntervals;if(!v.length){return"normal"}if(m==null){return"inactive"}for(var k=0,e=v.length;k<e;k++){if(v[k][0]<=m&&m<=v[k][1]){return"active"}}return"inactive"}});var pC={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:true,z:10};vb(lV.prototype,m4);function rq(i,e){return e.type||(e.data?"category":"value")}mn("parallel",lV,rq,pC);aI.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){aI.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(i){var e=this.option;i&&vb(e,i,true);this._initDimensions()},contains:function(k,e){var i=k.get("parallelIndex");return i!=null&&e.getComponent("parallel",i)===this},setAxisExpand:function(e){ow(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){if(e.hasOwnProperty(i)){this.option[i]=e[i]}},this)},_initDimensions:function(){var k=this.dimensions=[];var e=this.parallelAxisIndex=[];var i=qi(this.dependentModels.parallelAxis,function(m){return(m.get("parallelIndex")||0)===this.componentIndex},this);ow(i,function(m){k.push("dim"+m.get("dim"));e.push(m.componentIndex)})}});var Bk={type:"axisAreaSelect",event:"axisAreaSelected"};bZ(Bk,function(i,e){e.eachComponent({mainType:"parallelAxis",query:i},function(k){k.axis.model.setActiveIntervals(i.intervals)})});bZ("parallelAxisExpand",function(i,e){e.eachComponent({mainType:"parallel",query:i},function(k){k.setAxisExpand(i)})});var tw=rH;var s7=ow;var zx=De;var i9=Math.min;var zO=Math.max;var cY=Math.pow;var ey=10000;var F5=6;var Cb=6;var qM="globalPan";var GE={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var zd={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var nE={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:true,brushMode:"single",removeOnClick:false};var Gz=0;function j9(e){if(nK){bK(e)}E1.call(this);this._zr=e;this.group=new Bd();this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;if(nK){this._mounted}this._uid="brushController_"+Gz++;this._handlers={};s7(sM,function(k,i){this._handlers[i]=j0(k,this)},this)}j9.prototype={constructor:j9,enableBrush:function(e){if(nK){bK(this._mounted)}this._brushType&&Ey(this);e.brushType&&CG(this,e);return this},setPanels:function(e){if(e&&e.length){var i=this._panels={};ow(e,function(k){i[k.panelId]=B8(k)})}else{this._panels=null}return this},mount:function(i){i=i||{};if(nK){this._mounted=true}this._enableGlobalPan=i.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({position:i.position||[0,0],rotation:i.rotation||0,scale:i.scale||[1,1]});this._transform=e.getLocalTransform();return this},eachCover:function(e,i){s7(this._covers,e,i)},updateCovers:function(i){if(nK){bK(this._mounted)}i=De(i,function(G4){return vb(B8(nE),G4,true)});var v3="\0-brush-index-";var k=this._covers;var m=this._covers=[];var v1=this;var v2=this._creatingCover;(new Fp(k,i,cc,Z)).add(e).update(e).remove(v).execute();return this;function Z(G5,G4){return(G5.id!=null?G5.id:v3+G4)+"-"+G5.brushType}function cc(G5,G4){return Z(G5.__brushOption,G4)}function e(G4,G7){var G6=i[G4];if(G7!=null&&k[G7]===v2){m[G4]=k[G7]}else{var G5=m[G4]=G7!=null?(k[G7].__brushOption=G6,k[G7]):hX(v1,nQ(v1,G6));aO(v1,G5)}}function v(G4){if(k[G4]!==v2){v1.group.remove(k[G4])}}},unmount:function(){if(nK){if(!this._mounted){return}}this.enableBrush(false);zC(this);this._zr.remove(this.group);if(nK){this._mounted=false}return this},dispose:function(){this.unmount();this.off()}};Ff(j9,E1);function CG(e,k){var i=e._zr;if(!e._enableGlobalPan){he(i,qM,e._uid)}s7(e._handlers,function(v,m){i.on(m,v)});e._brushType=k.brushType;e._brushOption=vb(B8(nE),k,true)}function Ey(e){var i=e._zr;bl(i,qM,e._uid);s7(e._handlers,function(m,k){i.off(k,m)});e._brushType=e._brushOption=null}function nQ(e,k){var i=wG[k.brushType].createCover(e,k);i.__brushOption=k;gP(i,k);e.group.add(i);return i}function hX(i,k){var e=iH(k);if(e.endCreating){e.endCreating(i,k);gP(k,k.__brushOption)}return k}function fY(e,i){var k=i.__brushOption;iH(i).updateCoverShape(e,i,k.range,k)}function gP(e,k){var i=k.z;i==null&&(i=ey);e.traverse(function(m){m.z=i;m.z2=i})}function aO(e,i){iH(i).updateCommon(e,i);fY(e,i)}function iH(e){return wG[e.__brushOption.brushType]}function zt(k,cc,Z){var v=k._panels;if(!v){return true}var i;var m=k._transform;s7(v,function(e){e.isTargetByCursor(cc,Z,m)&&(i=e)});return i}function fy(e,m){var i=e._panels;if(!i){return true}var k=m.__brushOption.panelId;return k!=null?i[k]:true}function zC(i){var e=i._covers;var k=e.length;s7(e,function(m){i.group.remove(m)},i);e.length=0;return !!k}function D2(e,k){var i=zx(e._covers,function(v){var Z=v.__brushOption;var m=B8(Z.range);return{brushType:Z.brushType,panelId:Z.panelId,range:m}});e.trigger("brush",i,{isEnd:!!k.isEnd,removeOnClick:!!k.removeOnClick})}function wW(k){var i=k._track;if(!i.length){return false}var v=i[i.length-1];var cc=i[0];var m=v[0]-cc[0];var e=v[1]-cc[1];var Z=cY(m*m+e*e,0.5);return Z>F5}function Q(e){var i=e.length-1;i<0&&(i=0);return[e[0],e[i]]}function xb(k,i,v,e){var m=new Bd();m.add(new DD({name:"main",style:hd(v),silent:true,draggable:true,cursor:"move",drift:tw(k,i,m,"nswe"),ondragend:tw(D2,i,{isEnd:true})}));s7(e,function(Z){m.add(new DD({name:Z,style:{opacity:0},draggable:true,silent:true,invisible:true,drift:tw(k,i,m,Z),ondragend:tw(D2,i,{isEnd:true})}))});return m}function EN(G5,Ha,Z,v3){var e=v3.brushStyle.lineWidth||0;var i=zO(e,Cb);var v2=Z[0][0];var v1=Z[1][0];var G8=v2-e/2;var m=v1-e/2;var G7=Z[0][1];var k=Z[1][1];var cc=G7-i+e/2;var Hb=k-i+e/2;var G6=G7-v2;var G4=k-v1;var G9=G6+e;var v=G4+e;tI(G5,Ha,"main",v2,v1,G6,G4);if(v3.transformable){tI(G5,Ha,"w",G8,m,i,v);tI(G5,Ha,"e",cc,m,i,v);tI(G5,Ha,"n",G8,m,G9,i);tI(G5,Ha,"s",G8,Hb,G9,i);tI(G5,Ha,"nw",G8,m,i,i);tI(G5,Ha,"ne",cc,m,i,i);tI(G5,Ha,"sw",G8,Hb,i,i);tI(G5,Ha,"se",cc,Hb,i,i)}}function nk(e,m){var v=m.__brushOption;var k=v.transformable;var i=m.childAt(0);i.useStyle(hd(v));i.attr({silent:!k,cursor:k?"move":"default"});s7(["w","e","n","s","se","sw","ne","nw"],function(cc){var v1=m.childOfName(cc);var Z=Ct(e,cc);v1&&v1.attr({silent:!k,invisible:!k,cursor:k?zd[Z]+"-resize":null})})}function tI(k,cc,m,e,v1,i,Z){var v=cc.childOfName(m);v&&v.setShape(vg(nB(k,cc,[[e,v1],[e+i,v1+Z]])))}function hd(e){return Ch({strokeNoScale:true},e.brushStyle)}function o0(i,Z,k,v){var m=[i9(i,k),i9(Z,v)];var e=[zO(i,k),zO(Z,v)];return[[m[0],e[0]],[m[1],e[1]]]}function so(e){return aJ(e.group)}function Ct(i,m){if(m.length>1){m=m.split("");var e=[Ct(i,m[0]),Ct(i,m[1])];(e[0]==="e"||e[0]==="w")&&e.reverse();return e.join("")}else{var v={w:"left",e:"right",n:"top",s:"bottom"};var k={left:"w",right:"e",top:"n",bottom:"s"};var e=nr(v[m],so(i));return k[e]}}function ub(m,cc,v,G4,i,G5,v2,Z){var k=G4.__brushOption;var v1=m(k.range);var v3=zs(v,G5,v2);s7(i.split(""),function(e){var G6=GE[e];v1[G6[0]][G6[1]]+=v3[G6[0]]});k.range=cc(o0(v1[0][0],v1[1][0],v1[0][1],v1[1][1]));aO(v,G4);D2(v,{isEnd:false})}function pW(k,v1,v,i,cc){var m=v1.__brushOption.range;var Z=zs(k,v,i);s7(m,function(e){e[0]+=Z[0];e[1]+=Z[1]});aO(k,v1);D2(k,{isEnd:false})}function zs(k,v,i){var m=k.group;var e=m.transformCoordToLocal(v,i);var Z=m.transformCoordToLocal(0,0);return[e[0]-Z[0],e[1]-Z[1]]}function nB(i,m,k){var e=fy(i,m);return(e&&e!==true)?e.clipPath(k,i._transform):B8(k)}function vg(m){var v=i9(m[0][0],m[1][0]);var k=i9(m[0][1],m[1][1]);var i=zO(m[0][0],m[1][0]);var e=zO(m[0][1],m[1][1]);return{x:v,y:k,width:i-v,height:e-k}}function hU(m,v2,cc){if(!m._brushType){return}var v1=m._zr;var k=m._covers;var Z=zt(m,v2,cc);if(!m._dragging){for(var v=0;v<k.length;v++){var v3=k[v].__brushOption;if(Z&&(Z===true||v3.panelId===Z.panelId)&&wG[v3.brushType].contain(k[v],cc[0],cc[1])){return}}}Z&&v1.setCursorStyle("crosshair")}function aM(i){var k=i.event;k.preventDefault&&k.preventDefault()}function gD(i,e,k){return i.childOfName("main").contain(e,k)}function tR(cc,G5,i,Z){var v2=cc._creatingCover;var k=cc._creatingPanel;var v=cc._brushOption;var v1;cc._track.push(i.slice());if(wW(cc)||v2){if(k&&!v2){v.brushMode==="single"&&zC(cc);var m=B8(v);m.brushType=En(m.brushType,k);m.panelId=k===true?null:k.panelId;v2=cc._creatingCover=nQ(cc,m);cc._covers.push(v2)}if(v2){var G4=wG[En(cc._brushType,k)];var v3=v2.__brushOption;v3.range=G4.getCreatingRange(nB(cc,v2,cc._track));if(Z){hX(cc,v2);G4.updateCommon(cc,v2)}fY(cc,v2);v1={isEnd:Z}}}else{if(Z&&v.brushMode==="single"&&v.removeOnClick){if(zt(cc,G5,i)&&zC(cc)){v1={isEnd:Z,removeOnClick:true}}}}return v1}function En(i,e){if(i==="auto"){if(nK){bK(e&&e.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return e.defaultBrushType}return i}var sM={mousedown:function(m){if(this._dragging){xi.call(this,m)}else{if(!m.target||!m.target.draggable){aM(m);var k=this.group.transformCoordToLocal(m.offsetX,m.offsetY);this._creatingCover=null;var i=this._creatingPanel=zt(this,m,k);if(i){this._dragging=true;this._track=[k.slice()]}}}},mousemove:function(k){var i=this.group.transformCoordToLocal(k.offsetX,k.offsetY);hU(this,k,i);if(this._dragging){aM(k);var m=tR(this,k,i,false);m&&D2(this,m)}},mouseup:xi};function xi(k){if(this._dragging){aM(k);var i=this.group.transformCoordToLocal(k.offsetX,k.offsetY);var m=tR(this,k,i,true);this._dragging=false;this._track=[];this._creatingCover=null;m&&D2(this,m)}}var wG={lineX:yX(0),lineY:yX(1),rect:{createCover:function(e,i){return xb(tw(ub,function(k){return k},function(k){return k}),e,i,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(i){var e=Q(i);return o0(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(e,k,i,m){EN(e,k,i,m)},updateCommon:nk,contain:gD},polygon:{createCover:function(e,k){var i=new Bd();i.add(new zf({name:"main",style:hd(k),silent:true}));return i},getCreatingRange:function(e){return e},endCreating:function(e,i){i.remove(i.childAt(0));i.add(new hV({name:"main",draggable:true,drift:tw(pW,e,i),ondragend:tw(D2,e,{isEnd:true})}))},updateCoverShape:function(e,k,i,m){k.childAt(0).setShape({points:nB(e,k,i)})},updateCommon:nk,contain:gD}};function yX(e){return{createCover:function(i,k){return xb(tw(ub,function(m){var v=[m,[0,100]];e&&v.reverse();return v},function(m){return m[e]}),i,k,[["w","e"],["n","s"]][e])},getCreatingRange:function(v){var k=Q(v);var m=i9(k[0][e],k[1][e]);var i=zO(k[0][e],k[1][e]);return[m,i]},updateCoverShape:function(k,cc,Z,v2){var v1;var i=fy(k,cc);if(i!==true&&i.getLinearBrushOtherExtent){v1=i.getLinearBrushOtherExtent(e,k._transform)}else{var v=k._zr;v1=[0,[v.getWidth(),v.getHeight()][1-e]]}var m=[Z,v1];e&&m.reverse();EN(k,cc,m,v2)},updateCommon:nk,contain:gD}}function Ea(e){e=u4(e);return function(k,i){return n3(k,e)}}function uK(i,e){i=u4(i);return function(Z){var k=e!=null?e:Z;var m=k?i.width:i.height;var v=k?i.x:i.y;return[v,v+(m||0)]}}function p0(k,i,e){k=u4(k);return function(Z,v,m){return k.contain(v[0],v[1])&&!BU(Z,i,e)}}function u4(e){return BM.create(e)}var z9=["axisLine","axisTickLabel","axisName"];var cI=pO({type:"parallelAxis",init:function(e,i){cI.superApply(this,"init",arguments);(this._brushController=new j9(i.getZr())).on("brush",j0(this._onBrush,this))},render:function(G7,cc,v1,G4){if(iI(G7,cc,G4)){return}this.axisModel=G7;this.api=v1;this.group.removeAll();var v=this._axisGroup;this._axisGroup=new Bd();this.group.add(this._axisGroup);if(!G7.get("show")){return}var i=kz(G7,cc);var k=i.coordinateSystem;var e=G7.getAreaSelectStyle();var v3=e.width;var m=G7.axis.dim;var G6=k.getAxisLayout(m);var G5=bY({strokeContainThreshold:v3},G6);var v2=new c3(G7,G5);ow(z9,v2.add,v2);this._axisGroup.add(v2.getGroup());this._refreshBrushController(G5,e,G7,i,v3,v1);var Z=(G4&&G4.animation===false)?null:G7;C(v,this._axisGroup,Z)},_refreshBrushController:function(v2,e,v1,k,cc,m){var v3=v1.axis.getExtent();var Z=v3[1]-v3[0];var i=Math.min(30,Math.abs(Z)*0.1);var v=BM.create({x:v3[0],y:-cc/2,width:Z,height:cc});v.x-=i;v.width+=2*i;this._brushController.mount({enableGlobalPan:true,rotation:v2.rotation,position:v2.position}).setPanels([{panelId:"pl",clipPath:Ea(v),isTargetByCursor:p0(v,m,k),getLinearBrushOtherExtent:uK(v,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:true}).updateCovers(Cx(v1))},_onBrush:function(v,k){var i=this.axisModel;var m=i.axis;var e=De(v,function(Z){return[m.coordToData(Z.range[0],true),m.coordToData(Z.range[1],true)]});if(!i.option.realtime===k.isEnd||k.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:e})}},dispose:function(){this._brushController.dispose()}});function iI(i,e,k){return k&&k.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:k})[0]===i}function Cx(e){var i=e.axis;return De(e.activeIntervals,function(k){return{brushType:"lineX",panelId:"pl",range:[i.dataToCoord(k[0],true),i.dataToCoord(k[1],true)]}})}function kz(i,e){return e.getComponent("parallel",i.get("parallelIndex"))}var ik=5;pO({type:"parallel",render:function(i,e,k){this._model=i;this._api=k;if(!this._handlers){this._handlers={};ow(hg,function(v,m){k.getZr().on(m,this._handlers[m]=j0(v,this))},this)}mh(this,"_throttledDispatchExpand",i.get("axisExpandRate"),"fixRate")},dispose:function(e,i){ow(this._handlers,function(m,k){i.getZr().off(k,m)});this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(bY({type:"parallelAxisExpand"},e))}});var hg={mousedown:function(i){if(Cm(this,"click")){this._mouseDownPoint=[i.offsetX,i.offsetY]}},mouseup:function(v){var m=this._mouseDownPoint;if(Cm(this,"click")&&m){var k=[v.offsetX,v.offsetY];var Z=Math.pow(m[0]-k[0],2)+Math.pow(m[1]-k[1],2);if(Z>ik){return}var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([v.offsetX,v.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(v){if(this._mouseDownPoint||!Cm(this,"mousemove")){return}var k=this._model;var i=k.coordinateSystem.getSlidedAxisExpandWindow([v.offsetX,v.offsetY]);var m=i.behavior;m==="jump"&&this._throttledDispatchExpand.debounceNextCall(k.get("axisExpandDebounce"));this._throttledDispatchExpand(m==="none"?null:{axisExpandWindow:i.axisExpandWindow,animation:m==="jump"?null:false})}};function Cm(i,e){var k=i._model;return k.get("axisExpandable")&&k.get("axisExpandTriggerOn")===e}yc(nF);nl.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(i,e){if(this.option.progressive){this.option.animation=false}var k=this.getSource();E5(k,this);return a(k,this)},getRawIndicesByActiveState:function(i){var e=this.coordinateSystem;var k=this.getData();var m=[];e.eachActiveState(k,function(v,Z){if(i===v){m.push(k.getRawIndex(Z))}});return m},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{width:1,opacity:0.45,type:"solid"},emphasis:{label:{show:false}},progressive:false,smooth:false,animationEasing:"linear"}});function E5(k,e){if(k.encodeDefine){return}var i=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!i){return}var m=k.encodeDefine=BN();ow(i.dimensions,function(Z){var v=lU(Z);m.set(Z,v)})}function lU(e){return +e.replace("dim","")}var Bo=0.3;var yE=dw.extend({type:"parallel",init:function(){this._dataGroup=new Bd();this.group.add(this._dataGroup);this._data},render:function(i,e,k,m){this._renderForNormal(i,m)},dispose:function(){},_renderForNormal:function(m,G5){var k=this._dataGroup;var v1=m.getData();var v2=this._data;var Z=m.coordinateSystem;var e=Z.dimensions;var v3=m.option;var i=v3.smooth?Bo:null;v1.diff(v2).add(G6).update(v).remove(cc).execute();q0(v1,i);if(!this._data){var G4=uv(Z,m,function(){setTimeout(function(){k.removeClipPath()})});k.setClipPath(G4)}this._data=v1;function G6(G7){y1(v1,k,G7,e,Z,null,i)}function v(Hb,G7){var G8=v2.getItemGraphicEl(G7);var Ha=D5(v1,Hb,e,Z);v1.setItemGraphicEl(Hb,G8);var G9=(G5&&G5.animation===false)?null:m;og(G8,{shape:{points:Ha}},G9,Hb)}function cc(G7){var G8=v2.getItemGraphicEl(G7);k.remove(G8)}},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});function uv(v,i,e){var k=v.model;var Z=v.getRect();var m=new DD({shape:{x:Z.x,y:Z.y,width:Z.width,height:Z.height}});var cc=k.get("layout")==="horizontal"?"width":"height";m.setShape(cc,0);ji(m,{shape:{width:Z.width,height:Z.height}},i,e);return m}function D5(v1,m,Z,k){var v=[];for(var e=0;e<Z.length;e++){var v2=Z[e];var cc=v1.get(v1.mapDimension(v2),m);if(!u7(cc,k.getAxis(v2).type)){v.push(k.dataToPoint(cc,v2))}}return v}function y1(Z,cc,k,v,i){var m=D5(Z,k,v,i);var e=new zf({shape:{points:m},silent:true,z2:10});cc.add(e);Z.setItemGraphicEl(k,e)}function q0(k,i){var m=k.hostModel.getModel("lineStyle");var e=m.getLineStyle();k.eachItemGraphicEl(function(v,Z){if(k.hasItemOption){var cc=k.getItemModel(Z);var v1=cc.getModel("lineStyle",m);e=v1.getLineStyle(["color","stroke"])}v.useStyle(bY(e,{fill:null,stroke:k.getItemVisual(Z,"color"),opacity:k.getItemVisual(Z,"opacity")}));v.shape.smooth=i})}function u7(i,e){return e==="category"?i==null:(i==null||isNaN(i))}var Fb=["lineStyle","normal","opacity"];var qR=function(e){e.eachSeriesByType("parallel",function(m){var v1=m.getModel("itemStyle");var G4=m.getModel("lineStyle");var k=e.get("color");var Z=G4.get("color")||v1.get("color")||k[m.seriesIndex%k.length];var i=m.get("inactiveOpacity");var v=m.get("activeOpacity");var v3=m.getModel("lineStyle").getLineStyle();var cc=m.coordinateSystem;var v2=m.getData();var G5={normal:v3.opacity,active:v,inactive:i};cc.eachActiveState(v2,function(G8,G7){var Ha=v2.getItemModel(G7);var G6=G5[G8];if(G8==="normal"){var G9=Ha.get(Fb,true);G9!=null&&(G6=G9)}v2.setItemVisual(G7,"opacity",G6)});v2.setVisual("color",Z)})};E(qR);var tC=nl.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(k){var i=k.edges||k.links;var e=k.data||k.nodes;if(e&&i){var m=AM(e,i,this,true);return m.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(k,m,e){if(e==="edge"){var v=this.getDataParams(k,e);var Z=v.data;var i=Z.source+" -- "+Z.target;if(v.value){i+=" : "+v.value}return l3(i)}return tC.superCall(this,"formatTooltip",k,m)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{show:true,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{label:{show:true},lineStyle:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}});var p3=Gi({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,i){var k=i.extent/2;e.moveTo(i.x1,i.y1-k);e.bezierCurveTo(i.cpx1,i.cpy1-k,i.cpx2,i.cpy2-k,i.x2,i.y2-k);e.lineTo(i.x2,i.y2+k);e.bezierCurveTo(i.cpx2,i.cpy2+k,i.cpx1,i.cpy1+k,i.x1,i.y1+k);e.closePath()}});AO({type:"sankey",_model:null,render:function(i,e,v){var Z=i.getGraph();var v1=this.group;var cc=i.layoutInfo;var k=i.getData();var m=i.getData("edge");this._model=i;v1.removeAll();v1.attr("position",[cc.x,cc.y]);Z.eachEdge(function(G4){var G5=new p3();G5.dataIndex=G4.dataIndex;G5.seriesIndex=i.seriesIndex;G5.dataType="edge";var He=G4.getModel("lineStyle");var Ha=He.get("curveness");var G8=G4.node1.getLayout();var Hg=G4.node2.getLayout();var Hb=G4.getLayout();G5.shape.extent=Math.max(1,Hb.dy);var v3=G8.x+G8.dx;var Hf=G8.y+Hb.sy+Hb.dy/2;var v2=Hg.x;var Hd=Hg.y+Hb.ty+Hb.dy/2;var Hc=v3*(1-Ha)+v2*Ha;var G7=Hf;var G9=v3*Ha+v2*(1-Ha);var G6=Hd;G5.setShape({x1:v3,y1:Hf,x2:v2,y2:Hd,cpx1:Hc,cpy1:G7,cpx2:G9,cpy2:G6});G5.setStyle(He.getItemStyle());switch(G5.style.fill){case"source":G5.style.fill=G4.node1.getVisual("color");break;case"target":G5.style.fill=G4.node2.getVisual("color");break}xz(G5,G4.getModel("emphasis.lineStyle").getItemStyle());v1.add(G5);m.setItemGraphicEl(G4.dataIndex,G5)});Z.eachNode(function(G6){var G5=G6.getLayout();var v3=G6.getModel();var G8=v3.getModel("label");var v2=v3.getModel("emphasis.label");var G4=new DD({shape:{x:G5.x,y:G5.y,width:G6.getLayout().dx,height:G6.getLayout().dy},style:v3.getModel("itemStyle").getItemStyle()});var G7=G6.getModel("emphasis.itemStyle").getItemStyle();AG(G4.style,G7,G8,v2,{labelFetcher:i,labelDataIndex:G6.dataIndex,defaultText:G6.id,isRectText:true});G4.setStyle("fill",G6.getVisual("color"));xz(G4,G7);v1.add(G4);k.setItemGraphicEl(G6.dataIndex,G4);G4.dataType="node"});if(!this._data&&i.get("animation")){v1.setClipPath(us(v1.getBoundingRect(),i,function(){v1.removeClipPath()}))}this._data=i.getData()},dispose:function(){}});function us(m,i,e){var k=new DD({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}});ji(k,{shape:{width:m.width+20,height:m.height+20}},i,e);return k}function c4(){var i=[];var m=[];function e(G5,v3){if(v3>=i.length){return G5}var G4=-1;var cc=G5.length;var Z=i[v3++];var v={};var v1={};while(++G4<cc){var v2=Z(G5[G4]);var G6=v1[v2];if(G6){G6.push(G5[G4])}else{v1[v2]=[G5[G4]]}}ow(v1,function(G8,G7){v[G7]=e(G8,v3)});return v}function k(cc,Z){if(Z>=i.length){return cc}var v1=[];var v=m[Z++];ow(cc,function(v3,v2){v1.push({key:v2,values:k(v3,Z)})});if(v){return v1.sort(function(v3,v2){return v(v3.key,v2.key)})}else{return v1}}return{key:function(v){i.push(v);return this},sortKeys:function(v){m[i.length-1]=v;return this},entries:function(v){return k(e(v,0),0)}}}var sK=function(e,i,k){e.eachSeriesByType("sankey",function(v2){var G5=v2.get("nodeWidth");var G4=v2.get("nodeGap");var v1=q4(v2,i);v2.layoutInfo=v1;var v=v1.width;var G7=v1.height;var G6=v2.getGraph();var m=G6.nodes;var v3=G6.edges;CE(m);var Z=qi(m,function(G8){return G8.getLayout().value===0});var cc=Z.length!==0?0:v2.get("layoutIterations");xt(m,v3,G5,G4,v,G7,cc)})};function q4(e,i){return kx(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function xt(m,k,i,cc,v,e,Z){GR(m,i,v);xo(m,k,e,cc,Z);dU(m)}function CE(e){ow(e,function(m){var k=AB(m.outEdges,sx);var i=AB(m.inEdges,sx);var v=Math.max(k,i);m.setLayout({value:v},true)})}function GR(k,G5,m){var e=k;var Z=null;var G4=0;var v3=0;while(e.length){Z=[];for(var v1=0,v2=e.length;v1<v2;v1++){var v=e[v1];v.setLayout({x:G4},true);v.setLayout({dx:G5},true);for(var cc=0,G6=v.outEdges.length;cc<G6;cc++){Z.push(v.outEdges[cc].node2)}}e=Z;++G4}tN(k,G4);v3=(m-G5)/(G4-1);bL(k,v3)}function tN(i,e){ow(i,function(k){if(!k.outEdges.length){k.setLayout({x:e-1},true)}})}function bL(e,i){ow(e,function(k){var m=k.getLayout().x*i;k.setLayout({x:m},true)})}function xo(m,k,e,cc,v){var i=c4().key(function(v1){return v1.getLayout().x}).sortKeys(vq).entries(m).map(function(v1){return v1.values});vh(m,i,k,e,cc);hN(i,cc,e);for(var Z=1;v>0;v--){Z*=0.99;F(i,Z);hN(i,cc,e);ee(i,Z);hN(i,cc,e)}}function vh(v,k,m,e,cc){var i=[];ow(k,function(v1){var G4=v1.length;var v3=0;ow(v1,function(G5){v3+=G5.getLayout().value});var v2=(e-(G4-1)*cc)/v3;i.push(v2)});i.sort(function(v2,v1){return v2-v1});var Z=i[0];ow(k,function(v1){ow(v1,function(G4,v3){G4.setLayout({y:v3},true);var v2=G4.getLayout().value*Z;G4.setLayout({dy:v2},true)})});ow(m,function(v2){var v1=+v2.getValue()*Z;v2.setLayout({dy:v1},true)})}function hN(i,k,e){ow(i,function(v){var v2;var m;var v1=0;var v3=v.length;var Z;v.sort(n5);for(Z=0;Z<v3;Z++){v2=v[Z];m=v1-v2.getLayout().y;if(m>0){var cc=v2.getLayout().y+m;v2.setLayout({y:cc},true)}v1=v2.getLayout().y+v2.getLayout().dy+k}m=v1-k-e;if(m>0){var cc=v2.getLayout().y-m;v2.setLayout({y:cc},true);v1=v2.getLayout().y;for(Z=v3-2;Z>=0;--Z){v2=v[Z];m=v2.getLayout().y+v2.getLayout().dy+k-v1;if(m>0){cc=v2.getLayout().y-m;v2.setLayout({y:cc},true)}v1=v2.getLayout().y}}})}function F(e,i){ow(e.slice().reverse(),function(k){ow(k,function(v){if(v.outEdges.length){var Z=AB(v.outEdges,mO)/AB(v.outEdges,sx);var m=v.getLayout().y+(Z-nq(v))*i;v.setLayout({y:m},true)}})})}function mO(e){return nq(e.node2)*e.getValue()}function ee(e,i){ow(e,function(k){ow(k,function(v){if(v.inEdges.length){var Z=AB(v.inEdges,ff)/AB(v.inEdges,sx);var m=v.getLayout().y+(Z-nq(v))*i;v.setLayout({y:m},true)}})})}function ff(e){return nq(e.node1)*e.getValue()}function dU(e){ow(e,function(i){i.outEdges.sort(xm);i.inEdges.sort(av)});ow(e,function(k){var m=0;var i=0;ow(k.outEdges,function(v){v.setLayout({sy:m},true);m+=v.getLayout().dy});ow(k.inEdges,function(v){v.setLayout({ty:i},true);i+=v.getLayout().dy})})}function xm(i,e){return i.node2.getLayout().y-e.node2.getLayout().y}function av(i,e){return i.node1.getLayout().y-e.node1.getLayout().y}function AB(cc,Z){var m=0;var e=cc.length;var k=-1;while(++k<e){var v=+Z.call(cc,cc[k],k);if(!isNaN(v)){m+=v}}return m}function nq(e){return e.getLayout().y+e.getLayout().dy/2}function n5(i,e){return i.getLayout().y-e.getLayout().y}function vq(i,e){return i<e?-1:i>e?1:i===e?0:NaN}function sx(e){return e.getValue()}var dJ=function(e,i){e.eachSeriesByType("sankey",function(m){var Z=m.getGraph();var k=Z.nodes;k.sort(function(v2,v1){return v2.getLayout().value-v1.getLayout().value});var v=k[0].getLayout().value;var cc=k[k.length-1].getLayout().value;ow(k,function(G5){var v3=new me({type:"color",mappingMethod:"linear",dataExtent:[v,cc],visual:m.get("color")});var v1=v3.mapValueToVisual(G5.getLayout().value);G5.setVisual("color",v1);var G4=G5.getModel();var v2=G4.get("itemStyle.color");if(v2!=null){G5.setVisual("color",v2)}})})};oM(sK);E(dJ);var BX=lT.extend({type:"whiskerInBox",shape:{},buildPath:function(e,k){for(var m in k){if(k.hasOwnProperty(m)&&m.indexOf("ends")===0){var v=k[m];e.moveTo(v[0][0],v[0][1]);e.lineTo(v[1][0],v[1][1])}}}});function ho(k,e,i,m){Bd.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=i;this._createContent(k,e,m);this.updateData(k,e,m);this._seriesModel}var ac=ho.prototype;ac._createContent=function(m,e,cc){var i=m.getItemLayout(e);var Z=i.chartLayout==="horizontal"?1:0;var k=0;this.add(new hV({shape:{points:cc?fu(i.bodyEnds,Z,i):i.bodyEnds},style:{strokeNoScale:true},z2:100}));this.bodyIndex=k++;var v=De(i.whiskerEnds,function(v1){return cc?fu(v1,Z,i):v1});this.add(new BX({shape:qy(v),style:{strokeNoScale:true},z2:100}));this.whiskerIndex=k++};function fu(i,k,e){return De(i,function(m){m=m.slice();m[k]=e.initBaseline;return m})}function qy(i){var e={};ow(i,function(k,m){e["ends"+m]=k});return e}ac.updateData=function(m,e,Z){var i=this._seriesModel=m.hostModel;var k=m.getItemLayout(e);var v=xr[Z?"initProps":"updateProps"];v(this.childAt(this.bodyIndex),{shape:{points:k.bodyEnds}},i,e);v(this.childAt(this.whiskerIndex),{shape:qy(k.whiskerEnds)},i,e);this.styleUpdater.call(null,this,m,e)};lZ(ho,Bd);function f6(e){this.group=new Bd();this.styleUpdater=e}var zp=f6.prototype;zp.updateData=function(i){var k=this.group;var m=this._data;var e=this.styleUpdater;if(!this._data){k.removeAll()}i.diff(m).add(function(v){if(i.hasValue(v)){var Z=new ho(i,v,e,true);i.setItemGraphicEl(v,Z);k.add(Z)}}).update(function(Z,v){var cc=m.getItemGraphicEl(v);if(!i.hasValue(Z)){k.remove(cc);return}if(!cc){cc=new ho(i,Z,e)}else{cc.updateData(i,Z)}k.add(cc);i.setItemGraphicEl(Z,cc)}).remove(function(v){var Z=m.getItemGraphicEl(v);Z&&k.remove(Z)}).execute();this._data=i};zp.incrementalPrepareUpdate=function(i,e,k){this.group.removeAll();this._data=null};zp.incrementalUpdate=function(Z,k,i,m){var v=k.getData();for(var e=Z.start;e<Z.end;e++){var cc=new ho(v,e,this.styleUpdater,true);cc.incremental=true;this.group.add(cc)}};zp.remove=function(){var i=this.group;var e=this._data;this._data=null;e&&e.eachItemGraphicEl(function(k){k&&i.remove(k)})};var wD={_baseAxisDim:null,getInitialData:function(v2,Hb){var k;var i=Hb.getComponent("xAxis",this.get("xAxisIndex"));var cc=Hb.getComponent("yAxis",this.get("yAxisIndex"));var G4=i.get("type");var m=cc.get("type");var e;if(G4==="category"){v2.layout="horizontal";k=i.getOrdinalMeta();e=true}else{if(m==="category"){v2.layout="vertical";k=cc.getOrdinalMeta();e=true}else{v2.layout=v2.layout||"horizontal"}}var G9=["x","y"];var G8=v2.layout==="horizontal"?0:1;var Z=this._baseAxisDim=G9[G8];var v=G9[1-G8];var G7=[i,cc];var G6=G7[G8].get("type");var G5=G7[1-G8].get("type");var Ha=v2.data;if(Ha&&e){var v3=[];ow(Ha,function(He,Hc){var Hd;if(He.value&&Fw(He.value)){Hd=He.value.slice();He.value.unshift(Hc)}else{if(Fw(He)){Hd=He.slice();He.unshift(Hc)}else{Hd=He}}v3.push(Hd)});v2.data=v3}var v1=this.defaultValueDimensions;return wt(this,{coordDimensions:[{name:Z,type:pX(G6),ordinalMeta:k,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:v,type:pX(G5),dimsDef:v1.slice()}],dimensionsCount:v1.length+1})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};var BL={init:function(){var e=this._whiskerBoxDraw=new f6(this.getStyleUpdater());this.group.add(e.group)},render:function(i,e,k){this._whiskerBoxDraw.updateData(i.getData())},incrementalPrepareRender:function(i,e,k){this._whiskerBoxDraw.incrementalPrepareUpdate(i,e,k)},incrementalRender:function(m,i,e,k){this._whiskerBoxDraw.incrementalUpdate(m,i,e,k)},remove:function(e){this._whiskerBoxDraw.remove()}};var GO=nl.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});Ff(GO,wD,true);var aS=dw.extend({type:"boxplot",getStyleUpdater:function(){return vO},dispose:U});Ff(aS,BL,true);var Fh=["itemStyle"];var qX=["emphasis","itemStyle"];function vO(m,v,v1){var v3=v.getItemModel(v1);var k=v3.getModel(Fh);var e=v.getItemVisual(v1,"color");var cc=k.getItemStyle(["borderColor"]);var Z=m.childAt(m.whiskerIndex);Z.style.set(cc);Z.style.stroke=e;Z.dirty();var v2=m.childAt(m.bodyIndex);v2.style.set(cc);v2.style.stroke=e;v2.dirty();var i=v3.getModel(qX).getItemStyle();xz(m,i)}var vY=["itemStyle","borderColor"];var o7=function(e,i){var k=e.get("color");e.eachRawSeriesByType("boxplot",function(v){var m=k[v.seriesIndex%k.length];var Z=v.getData();Z.setVisual({legendSymbol:"roundRect",color:v.get(vY)||m});if(!e.isSeriesFiltered(v)){Z.each(function(cc){var v1=Z.getItemModel(cc);Z.setItemVisual(cc,{color:v1.get(vY,true)})})}})};var s5=ow;var EF=function(e){var i=p2(e);s5(i,function(k){var m=k.seriesModels;if(!m.length){return}GX(k);s5(m,function(Z,v){mr(Z,k.boxOffsetList[v],k.boxWidthList[v])})})};function p2(i){var e=[];var k=[];i.eachSeriesByType("boxplot",function(v){var Z=v.getBaseAxis();var m=eB(k,Z);if(m<0){m=k.length;k[m]=Z;e[m]={axis:Z,seriesModels:[]}}e[m].seriesModels.push(v)});return e}function GX(v3){var G6;var i=v3.axis;var k=v3.seriesModels;var v=k.length;var Z=v3.boxWidthList=[];var v2=v3.boxOffsetList=[];var G7=[];var m;if(i.type==="category"){m=i.getBandWidth()}else{var v1=0;s5(k,function(G8){v1=Math.max(v1,G8.getData().count())});G6=i.getExtent(),Math.abs(G6[1]-G6[0])/v1}s5(k,function(G8){var G9=G8.get("boxWidth");if(!Fw(G9)){G9=[G9,G9]}G7.push([yW(G9[0],m)||0,yW(G9[1],m)||0])});var G4=m*0.8-2;var G5=G4/v*0.3;var cc=(G4-G5*(v-1))/v;var e=cc/2-G4/2;s5(k,function(G9,G8){v2.push(e);e+=G5+cc;Z.push(Math.min(Math.max(cc,G7[G8][0]),G7[G8][1]))})}function mr(e,k,cc){var m=e.coordinateSystem;var Z=e.getData();var v=cc/2;var G4=e.get("layout");var G5=G4==="horizontal"?0:1;var i=1-G5;var v1=["x","y"];var v3=[];var v2;ow(Z.dimensions,function(G8){var G6=Z.getDimensionInfo(G8);var G7=G6.coordDim;if(G7===v1[i]){v3.push(G8)}else{if(G7===v1[G5]){v2=G8}}});if(v2==null||v3.length<5){return}Z.each([v2].concat(v3),function(){var Hb=arguments;var Hd=Hb[0];var He=Hb[v3.length+1];var Hg=G8(Hb[3]);var Hc=G8(Hb[1]);var G9=G8(Hb[5]);var Ha=[[Hc,G8(Hb[2])],[G9,G8(Hb[4])]];G7(Hc);G7(G9);G7(Hg);var Hf=[];G6(Ha[0][1],0);G6(Ha[1][1],1);Z.setItemLayout(He,{chartLayout:G4,initBaseline:Hg[i],median:Hg,bodyEnds:Hf,whiskerEnds:Ha});function G8(Hj){var Hi=[];Hi[G5]=Hd;Hi[i]=Hj;var Hh;if(isNaN(Hd)||isNaN(Hj)){Hh=[NaN,NaN]}else{Hh=m.dataToPoint(Hi);Hh[G5]+=k}return Hh}function G6(Hh,Hk){var Hj=Hh.slice();var Hi=Hh.slice();Hj[G5]+=v;Hi[G5]-=v;Hk?Hf.push(Hj,Hi):Hf.push(Hi,Hj)}function G7(Hi){var Hh=[Hi.slice(),Hi.slice()];Hh[0][G5]-=v;Hh[1][G5]+=v;Ha.push(Hh)}})}E(o7);oM(EF);var pz=nl.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:false,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(i,m,e){var k=m.getItemLayout(i);return e.rect(k.brushRect)}});Ff(pz,wD,true);var yx=dw.extend({type:"candlestick",getStyleUpdater:function(){return vM},dispose:U});Ff(yx,BL,true);var Fe=["itemStyle"];var qV=["emphasis","itemStyle"];function vM(m,Z,v2){var G4=Z.getItemModel(v2);var k=G4.getModel(Fe);var v=Z.getItemVisual(v2,"color");var e=Z.getItemVisual(v2,"borderColor")||v;var v1=k.getItemStyle(["color","color0","borderColor","borderColor0"]);var cc=m.childAt(m.whiskerIndex);cc.useStyle(v1);cc.style.stroke=e;var v3=m.childAt(m.bodyIndex);v3.useStyle(v1);v3.style.fill=v;v3.style.stroke=e;var i=G4.getModel(qV).getItemStyle();xz(m,i)}var kw=function(e){if(!e||!Fw(e.series)){return}ow(e.series,function(i){if(sU(i)&&i.type==="k"){i.type="candlestick"}})};var f=["itemStyle","borderColor"];var xE=["itemStyle","borderColor0"];var mS=["itemStyle","color"];var ri=["itemStyle","color0"];var pr=function(e,i){e.eachRawSeriesByType("candlestick",function(k){var m=k.getData();m.setVisual({legendSymbol:"roundRect"});if(!e.isSeriesFiltered(k)){m.each(function(v){var cc=m.getItemModel(v);var Z=m.getItemLayout(v).sign;m.setItemVisual(v,{color:cc.get(Z>0?mS:ri),borderColor:cc.get(Z>0?f:xE)})})}})};var sj=jP;var EW=function(e){e.eachSeriesByType("candlestick",function(i){var m=i.coordinateSystem;var v=i.getData();var G4=pN(i,v);var v3=i.get("layout");var G5=v3==="horizontal"?0:1;var k=1-G5;var Z=["x","y"];var v2=[];var cc;ow(v.dimensions,function(G8){var G6=v.getDimensionInfo(G8);var G7=G6.coordDim;if(G7===Z[k]){v2.push(G8)}else{if(G7===Z[G5]){cc=G8}}});if(cc==null||v2.length<4){return}var v1=0;v.each([cc].concat(v2),function(){var G8=arguments;var He=G8[0];var Hj=G8[v2.length+1];var Hk=G8[1];var Hd=G8[2];var G6=G8[3];var G9=G8[4];var Hi=Math.min(Hk,Hd);var Hc=Math.max(Hk,Hd);var Ho=Ha(Hi);var Hf=Ha(Hc);var G7=Ha(G6);var Hh=Ha(G9);var Hb=[[Hg(Hh),Hg(Hf)],[Hg(G7),Hg(Ho)]];var Hn=[];Hm(Hf,0);Hm(Ho,1);var Hp;if(Hk>Hd){Hp=-1}else{if(Hk<Hd){Hp=1}else{if(v1>0){Hp=v.getItemModel(v1-1).get()[2]<=Hd?1:-1}else{Hp=1}}}v.setItemLayout(Hj,{chartLayout:v3,sign:Hp,initBaseline:Hk>Hd?Hf[k]:Ho[k],bodyEnds:Hn,whiskerEnds:Hb,brushRect:Hl()});++v1;function Ha(Hr){var Hq=[];Hq[G5]=He;Hq[k]=Hr;return(isNaN(He)||isNaN(Hr))?[NaN,NaN]:m.dataToPoint(Hq)}function Hm(Hq,Ht){var Hs=Hq.slice();var Hr=Hq.slice();Hs[G5]=Fo(Hs[G5]+G4/2,1,false);Hr[G5]=Fo(Hr[G5]-G4/2,1,true);Ht?Hn.push(Hs,Hr):Hn.push(Hr,Hs)}function Hl(){var Hr=Ha(Math.min(Hk,Hd,G6,G9));var Hq=Ha(Math.max(Hk,Hd,G6,G9));Hr[G5]-=G4/2;Hq[G5]-=G4/2;return{x:Hr[0],y:Hr[1],width:k?G4:Hq[0]-Hr[0],height:k?Hq[1]-Hr[1]:G4}}function Hg(Hq){Hq[G5]=Fo(Hq[G5],1);return Hq}})})};function pN(i,v1){var cc=i.getBaseAxis();var Z;var e=cc.type==="category"?cc.getBandWidth():(Z=cc.getExtent(),Math.abs(Z[1]-Z[0])/v1.count());var m=yW(sj(i.get("barMaxWidth"),e),e);var k=yW(sj(i.get("barMinWidth"),1),e);var v=i.get("barWidth");return v!=null?yW(v,e):Math.max(Math.min(e/2,m),k)}yc(kw);E(pr);oM(EW);nl.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(i,e){return a(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var cT=3;function x9(e){if(!Fw(e)){e=[+e,+e]}return e}function m5(e,i){e.eachChild(function(k){k.attr({z:i.z,zlevel:i.zlevel,style:{stroke:i.brushType==="stroke"?i.color:null,fill:i.brushType==="fill"?i.color:null}})})}function Gu(m,e){Bd.call(this);var k=new lo(m,e);var i=new Bd();this.add(k);this.add(i);i.beforeUpdate=function(){this.attr(k.getScale())};this.updateData(m,e)}var qk=Gu.prototype;qk.stopEffectAnimation=function(){this.childAt(1).removeAll()};qk.startEffectAnimation=function(Z){var v1=Z.symbolType;var e=Z.color;var v=this.childAt(1);for(var m=0;m<cT;m++){var cc=tk(v1,-1,-1,2,2,e);cc.attr({style:{strokeNoScale:true},z2:99,silent:true,scale:[0.5,0.5]});var k=-m/cT*Z.period+Z.effectOffset;cc.animate("",true).when(Z.period,{scale:[Z.rippleScale/2,Z.rippleScale/2]}).delay(k).start();cc.animateStyle(true).when(Z.period,{opacity:0}).delay(k).start();v.add(cc)}m5(v,Z)};qk.updateEffectAnimation=function(Z){var e=this._effectCfg;var v=this.childAt(1);var m=["symbolType","period","rippleScale"];for(var k=0;k<m.length;k++){var cc=m[k];if(e[cc]!==Z[cc]){this.stopEffectAnimation();this.startEffectAnimation(Z);return}}m5(v,Z)};qk.highlight=function(){this.trigger("emphasis")};qk.downplay=function(){this.trigger("normal")};qk.updateData=function(Z,G5){var k=Z.hostModel;this.childAt(0).updateData(Z,G5);var G4=this.childAt(1);var G6=Z.getItemModel(G5);var G7=Z.getItemVisual(G5,"symbol");var i=x9(Z.getItemVisual(G5,"symbolSize"));var v=Z.getItemVisual(G5,"color");G4.attr("scale",i);G4.traverse(function(G8){G8.attr({fill:v})});var v2=G6.getShallow("symbolOffset");if(v2){var v3=G4.position;v3[0]=yW(v2[0],i[0]);v3[1]=yW(v2[1],i[1])}G4.rotation=(G6.getShallow("symbolRotate")||0)*Math.PI/180||0;var v1={};v1.showEffectOn=k.get("showEffectOn");v1.rippleScale=G6.get("rippleEffect.scale");v1.brushType=G6.get("rippleEffect.brushType");v1.period=G6.get("rippleEffect.period")*1000;v1.effectOffset=G5/Z.count();v1.z=G6.getShallow("z")||0;v1.zlevel=G6.getShallow("zlevel")||0;v1.symbolType=G7;v1.color=v;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if(v1.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(v1):this.startEffectAnimation(v1);this._effectCfg=v1}else{this._effectCfg=null;this.stopEffectAnimation();var e=this.childAt(0);var m=function(){e.highlight();if(v1.showEffectOn!=="render"){this.startEffectAnimation(v1)}};var cc=function(){e.downplay();if(v1.showEffectOn!=="render"){this.stopEffectAnimation()}};this.on("mouseover",m,this).on("mouseout",cc,this).on("emphasis",m,this).on("normal",cc,this)}this._effectCfg=v1};qk.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal");e&&e()};lZ(Gu,Bd);AO({type:"effectScatter",init:function(){this._symbolDraw=new D4(Gu)},render:function(i,e,m){var v=i.getData();var k=this._symbolDraw;k.updateData(v);this.group.add(k.group)},updateTransform:function(i,e,m){var v=i.getData();this.group.dirty();var k=pQ().reset(i);if(k.progress){k.progress({start:0,end:v.count()},v)}this._symbolDraw.updateLayout(v)},_updateGroupTransform:function(e){var i=e.coordinateSystem;if(i&&i.getRoamTransform){this.group.transform=t1(i.getRoamTransform());this.group.decomposeTransform()}},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove(i)},dispose:function(){}});E(lS("effectScatter","circle"));oM(pQ("effectScatter"));var aj=typeof window==="undefined"?global:window;var qG=aj.Uint32Array||Array;var CI=aj.Float64Array||Array;function bP(e){var i=e.data;if(i&&i[0]&&i[0][0]&&i[0][0].coord){if(nK){console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }")}e.data=De(i,function(v){var k=[v[0].coord,v[1].coord];var m={coords:k};if(v[0].name){m.fromName=v[0].name}if(v[1].name){m.toName=v[1].name}return Y([m,v[0],v[1]])})}}var xn=nl.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(i){bP(i);var e=this._processFlatCoordsArray(i.data);this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset;if(e.flatCoords){i.data=new Float32Array(e.count)}xn.superApply(this,"init",arguments)},mergeOption:function(i){bP(i);if(i.data){var e=this._processFlatCoordsArray(i.data);this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset;if(e.flatCoords){i.data=new Float32Array(e.count)}}xn.superApply(this,"mergeOption",arguments)},appendData:function(i){var e=this._processFlatCoordsArray(i.data);if(e.flatCoords){if(!this._flatCoords){this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset}else{this._flatCoords=kP(this._flatCoords,e.flatCoords);this._flatCoordsOffset=kP(this._flatCoordsOffset,e.flatCoordsOffset)}i.data=new Float32Array(e.count)}this.getRawData().appendData(i.data)},_getCoordsFromItemModel:function(e){var i=this.getData().getItemModel(e);var k=(i.option instanceof Array)?i.option:i.getShallow("coords");if(nK){if(!(k instanceof Array&&k.length>0&&k[0] instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(k)+". Lines must have 2d coords array in data item.")}}return k},getLineCoordsCount:function(e){if(this._flatCoordsOffset){return this._flatCoordsOffset[e*2+1]}else{return this._getCoordsFromItemModel(e).length}},getLineCoords:function(k,m){if(this._flatCoordsOffset){var cc=this._flatCoordsOffset[k*2];var e=this._flatCoordsOffset[k*2+1];for(var v=0;v<e;v++){m[v]=m[v]||[];m[v][0]=this._flatCoords[cc+v*2];m[v][1]=this._flatCoords[cc+v*2+1]}return e}else{var Z=this._getCoordsFromItemModel(k);for(var v=0;v<Z.length;v++){m[v]=m[v]||[];m[v][0]=Z[v][0];m[v][1]=Z[v][1]}return Z.length}},_processFlatCoordsArray:function(Z){var v3=0;if(this._flatCoords){v3=this._flatCoords.length}if(typeof Z[0]==="number"){var v2=Z.length;var G7=new qG(v2);var cc=new CI(v2);var G8=0;var e=0;var G6=0;for(var v=0;v<v2;){G6++;var v1=Z[v++];G7[e++]=G8+v3;G7[e++]=v1;for(var m=0;m<v1;m++){var G5=Z[v++];var G4=Z[v++];cc[G8++]=G5;cc[G8++]=G4;if(v>v2){if(nK){throw new Error("Invalid data format.")}}}}return{flatCoordsOffset:new Uint32Array(G7.buffer,0,e),flatCoords:cc,count:G6}}return{flatCoordsOffset:null,flatCoords:null,count:Z.length}},getInitialData:function(k,e){if(nK){var i=fk.get(k.coordinateSystem);if(!i){throw new Error("Unkown coordinate system "+k.coordinateSystem)}}var m=new wF(["value"],this);m.hasItemOption=false;m.initData(k.data,[],function(v,v2,Z,v1){if(v instanceof Array){return NaN}else{m.hasItemOption=true;var cc=v.value;if(cc!=null){return cc instanceof Array?cc[v1]:cc}}});return m},formatTooltip:function(v){var cc=this.getData();var Z=cc.getItemModel(v);var i=Z.get("name");if(i){return i}var m=Z.get("fromName");var e=Z.get("toName");var k=[];m!=null&&k.push(m);e!=null&&k.push(e);return l3(k.join(" > "))},preventIncremental:function(){return !!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;if(e==null){return this.option.large?10000:this.get("progressive")}return e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?20000:this.get("progressiveThreshold")}return e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:0.2},large:false,largeThreshold:2000,polyline:false,label:{show:false,position:"end"},lineStyle:{opacity:0.5}}});function xh(k,e,i){Bd.call(this);this.add(this.createLine(k,e,i));this._updateEffectSymbol(k,e)}var mu=xh.prototype;mu.createLine=function(k,e,i){return new mj(k,e,i)};mu._updateEffectSymbol=function(v1,e){var v=v1.getItemModel(e);var k=v.getModel("effect");var m=k.get("symbolSize");var cc=k.get("symbol");if(!Fw(m)){m=[m,m]}var i=k.get("color")||v1.getItemVisual(e,"color");var Z=this.childAt(1);if(this._symbolType!==cc){this.remove(Z);Z=tk(cc,-0.5,-0.5,1,1,i);Z.z2=100;Z.culling=true;this.add(Z)}if(!Z){return}Z.setStyle("shadowColor",i);Z.setStyle(k.getItemStyle(["color"]));Z.attr("scale",m);Z.setColor(i);Z.attr("scale",m);this._symbolType=cc;this._updateEffectAnimation(v1,k,e)};mu._updateEffectAnimation=function(k,G5,v3){var m=this.childAt(1);if(!m){return}var G6=this;var G4=k.getItemLayout(v3);var v2=G5.get("period")*1000;var Z=G5.get("loop");var v1=G5.get("constantSpeed");var e=gg(G5.get("delay"),function(G7){return G7/k.count()*v2/3});var cc=typeof e==="function";m.ignore=true;this.updateAnimationPoints(m,G4);if(v1>0){v2=this.getLineLength(m)/v1*1000}if(v2!==this._period||Z!==this._loop){m.stopAnimation();var v=e;if(cc){v=e(v3)}if(m.__t>0){v=-v2*m.__t}m.__t=0;var i=m.animate("",Z).when(v2,{__t:1}).delay(v).during(function(){G6.updateSymbolPosition(m)});if(!Z){i.done(function(){G6.remove(m)})}i.start()}this._period=v2;this._loop=Z};mu.getLineLength=function(e){return(CV(e.__p1,e.__cp1)+CV(e.__cp1,e.__p2))};mu.updateAnimationPoints=function(i,e){i.__p1=e[0];i.__p2=e[1];i.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};mu.updateData=function(k,e,i){this.childAt(0).updateData(k,e,i);this._updateEffectSymbol(k,e)};mu.updateSymbolPosition=function(e){var v2=e.__p1;var v1=e.__p2;var v=e.__cp1;var v3=e.__t;var cc=e.position;var Z=j8;var i=uH;cc[0]=Z(v2[0],v[0],v1[0],v3);cc[1]=Z(v2[1],v[1],v1[1],v3);var m=i(v2[0],v[0],v1[0],v3);var k=i(v2[1],v[1],v1[1],v3);e.rotation=-Math.atan2(k,m)-Math.PI/2;e.ignore=false};mu.updateLayout=function(k,e){this.childAt(0).updateLayout(k,e);var i=k.getItemModel(e).getModel("effect");this._updateEffectAnimation(k,i,e)};lZ(xh,Bd);function iu(k,e,i){Bd.call(this);this._createPolyline(k,e,i)}var ar=iu.prototype;ar._createPolyline=function(v,e,k){var m=v.getItemLayout(e);var i=new zf({shape:{points:m}});this.add(i);this._updateCommonStl(v,e,k)};ar.updateData=function(Z,e,m){var k=Z.hostModel;var i=this.childAt(0);var v={shape:{points:Z.getItemLayout(e)}};og(i,v,k,e);this._updateCommonStl(Z,e,m)};ar._updateCommonStl=function(v1,i,v){var k=this.childAt(0);var Z=v1.getItemModel(i);var m=v1.getItemVisual(i,"color");var e=v&&v.lineStyle;var cc=v&&v.hoverLineStyle;if(!v||v1.hasItemOption){e=Z.getModel("lineStyle").getLineStyle();cc=Z.getModel("emphasis.lineStyle").getLineStyle()}k.useStyle(Ch({strokeNoScale:true,fill:"none",stroke:m},e));k.hoverStyle=cc;xz(this)};ar.updateLayout=function(k,e){var i=this.childAt(0);i.setShape("points",k.getItemLayout(e))};lZ(iu,Bd);function d(k,e,i){xh.call(this,k,e,i);this._lastFrame=0;this._lastFramePercent=0}var qn=d.prototype;qn.createLine=function(k,e,i){return new iu(k,e,i)};qn.updateAnimationPoints=function(v,m){this._points=m;var v1=[0];var k=0;for(var e=1;e<m.length;e++){var cc=m[e-1];var Z=m[e];k+=CV(cc,Z);v1.push(k)}if(k===0){return}for(var e=0;e<v1.length;e++){v1[e]/=k}this._offsets=v1;this._length=k};qn.getLineLength=function(e){return this._length};qn.updateSymbolPosition=function(m){var v3=m.__t;var v2=this._points;var v=this._offsets;var v1=v2.length;if(!v){return}var i=this._lastFrame;var k;if(v3<this._lastFramePercent){var e=Math.min(i+1,v1-1);for(k=e;k>=0;k--){if(v[k]<=v3){break}}k=Math.min(k,v1-2)}else{for(var k=i;k<v1;k++){if(v[k]>v3){break}}k=Math.min(k-1,v1-2)}qU(m.position,v2[k],v2[k+1],(v3-v[k])/(v[k+1]-v[k]));var cc=v2[k+1][0]-v2[k][0];var Z=v2[k+1][1]-v2[k][1];m.rotation=-Math.atan2(Z,cc)-Math.PI/2;this._lastFrame=k;this._lastFramePercent=v3;m.ignore=false};lZ(d,xh);var iO=Gi({shape:{polyline:false,curveness:0,segs:[]},buildPath:function(G8,G4){var v=G4.segs;var v1=G4.curveness;if(G4.polyline){for(var v2=0;v2<v.length;){var v3=v[v2++];if(v3>0){G8.moveTo(v[v2++],v[v2++]);for(var cc=1;cc<v3;cc++){G8.lineTo(v[v2++],v[v2++])}}}}else{for(var v2=0;v2<v.length;){var Z=v[v2++];var G7=v[v2++];var m=v[v2++];var G6=v[v2++];G8.moveTo(Z,G7);if(v1>0){var e=(Z+m)/2-(G7-G6)*v1;var G5=(G7+G6)/2-(m-Z)*v1;G8.quadraticCurveTo(e,G5,m,G6)}else{G8.lineTo(m,G6)}}}},findDataIndex:function(G9,G6){var G4=this.shape;var v=G4.segs;var v1=G4.curveness;if(G4.polyline){var G8=0;for(var v2=0;v2<v.length;){var v3=v[v2++];if(v3>0){var Z=v[v2++];var Ha=v[v2++];for(var cc=1;cc<v3;cc++){var m=v[v2++];var G7=v[v2++];if(p9(Z,Ha,m,G7)){return G8}}}G8++}}else{var G8=0;for(var v2=0;v2<v.length;){var Z=v[v2++];var Ha=v[v2++];var m=v[v2++];var G7=v[v2++];if(v1>0){var e=(Z+m)/2-(Ha-G7)*v1;var G5=(Ha+G7)/2-(m-Z)*v1;if(p7(Z,Ha,e,G5,m,G7)){return G8}}else{if(p9(Z,Ha,m,G7)){return G8}}G8++}}return -1}});function Go(){this.group=new Bd()}var eJ=Go.prototype;eJ.isPersistent=function(){return !this._incremental};eJ.updateData=function(i){this.group.removeAll();var e=new iO({rectHover:true,cursor:"default"});e.setShape({segs:i.getLayout("linesPoints")});this._setCommon(e,i);this.group.add(e);this._incremental=null};eJ.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clearIncremental();if(e.count()>500000){if(!this._incremental){this._incremental=new yU({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};eJ.incrementalUpdate=function(k,i){var e=new iO();e.setShape({segs:i.getLayout("linesPoints")});this._setCommon(e,i,!!this._incremental);if(!this._incremental){e.rectHover=true;e.cursor="default";e.__startIndex=k.start;this.group.add(e)}else{this._incremental.addDisplayable(e,true)}};eJ.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};eJ._setCommon=function(k,m,e){var v=m.hostModel;k.setShape({polyline:v.get("polyline"),curveness:v.get("lineStyle.curveness")});k.useStyle(v.getModel("lineStyle").getLineStyle());k.style.strokeNoScale=true;var i=m.getVisual("color");if(i){k.setStyle("stroke",i)}k.setStyle("fill");if(!e){k.seriesIndex=v.seriesIndex;k.on("mousemove",function(cc){k.dataIndex=null;var Z=k.findDataIndex(cc.offsetX,cc.offsetY);if(Z>0){k.dataIndex=Z+k.__startIndex}})}};eJ._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};var bV={seriesType:"lines",plan:Dr(),reset:function(e){var k=e.coordinateSystem;var v=e.get("polyline");var m=e.pipelineContext.large;function i(v2,cc){var G9=[];if(m){var Ha;var Z=v2.end-v2.start;if(v){var G6=0;for(var G7=v2.start;G7<v2.end;G7++){G6+=e.getLineCoordsCount(G7)}Ha=new Float32Array(Z+G6*2)}else{Ha=new Float32Array(Z*2)}var G5=0;var Hd=[];for(var G7=v2.start;G7<v2.end;G7++){var G8=e.getLineCoords(G7,G9);if(v){Ha[G5++]=G8}for(var v1=0;v1<G8;v1++){Hd=k.dataToPoint(G9[v1],false,Hd);Ha[G5++]=Hd[0];Ha[G5++]=Hd[1]}}cc.setLayout("linesPoints",Ha)}else{for(var G7=v2.start;G7<v2.end;G7++){var Hb=cc.getItemModel(G7);var G8=e.getLineCoords(G7,G9);var Hc=[];if(v){for(var G4=0;G4<G8;G4++){Hc.push(k.dataToPoint(G9[G4]))}}else{Hc[0]=k.dataToPoint(G9[0]);Hc[1]=k.dataToPoint(G9[1]);var v3=Hb.get("lineStyle.curveness");if(+v3){Hc[2]=[(Hc[0][0]+Hc[1][0])/2-(Hc[0][1]-Hc[1][1])*v3,(Hc[0][1]+Hc[1][1])/2-(Hc[1][0]-Hc[0][0])*v3]}}cc.setItemLayout(G7,Hc)}}}return{progress:i}}};AO({type:"lines",init:function(){},render:function(i,cc,v1){var m=i.getData();var v3=this._updateLineDraw(m,i);var Z=i.get("zlevel");var v=i.get("effect.trailLength");var v2=v1.getZr();var k=v2.painter.getType()==="svg";if(!k){v2.painter.getLayer(Z).clear(true)}if(this._lastZlevel!=null&&!k){v2.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(i)&&v){if(nK){var e=false;cc.eachSeries(function(G4){if(G4!==i&&G4.get("zlevel")===Z){e=true}});e&&console.warn("Lines with trail effect should have an individual zlevel")}if(!k){v2.configLayer(Z,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(v/10+0.9,1),0)})}}v3.updateData(m);this._lastZlevel=Z;this._finished=true},incrementalPrepareRender:function(i,e,m){var v=i.getData();var k=this._updateLineDraw(v,i);k.incrementalPrepareUpdate(v);this._clearLayer(m);this._finished=false},incrementalRender:function(k,i,e){this._lineDraw.incrementalUpdate(k,i.getData());this._finished=k.end===i.getData().count()},updateTransform:function(i,e,m){var v=i.getData();if(!this._finished||i.pipelineContext.large){return{update:true}}else{var k=bV.reset(i);if(k.progress){k.progress({start:0,end:v.count()},v)}this._lineDraw.updateLayout();this._clearLayer(m)}},_updateLineDraw:function(Z,k){var m=this._lineDraw;var e=this._showEffect(k);var cc=!!k.get("polyline");var v=k.pipelineContext;var i=v.large;if(nK){if(e&&i){console.warn("Large lines not support effect")}}if(!m||e!==this._hasEffet||cc!==this._isPolyline||i!==this._isLargeDraw){if(m){m.remove()}m=this._lineDraw=i?new Go():new hi(cc?(e?d:iu):(e?xh:mj));this._hasEffet=e;this._isPolyline=cc;this._isLargeDraw=i;this.group.removeAll()}this.group.add(m.group);return m},_showEffect:function(e){return !!e.get("effect.show")},_clearLayer:function(e){var k=e.getZr();var i=k.painter.getType()==="svg";if(!i&&this._lastZlevel!=null){k.painter.getLayer(this._lastZlevel).clear(true)}},remove:function(e,i){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(i)},dispose:function(){}});function k3(e){if(!(e instanceof Array)){e=[e,e]}return e}var yY="lineStyle.opacity".split(".");var Ew={seriesType:"lines",reset:function(i,e,m){var cc=k3(i.get("symbol"));var Z=k3(i.get("symbolSize"));var v=i.getData();v.setVisual("fromSymbol",cc&&cc[0]);v.setVisual("toSymbol",cc&&cc[1]);v.setVisual("fromSymbolSize",Z&&Z[0]);v.setVisual("toSymbolSize",Z&&Z[1]);v.setVisual("opacity",i.get(yY));function k(G5,v1){var v3=G5.getItemModel(v1);var G6=k3(v3.getShallow("symbol",true));var G4=k3(v3.getShallow("symbolSize",true));var v2=v3.get(yY);G6[0]&&G5.setItemVisual(v1,"fromSymbol",G6[0]);G6[1]&&G5.setItemVisual(v1,"toSymbol",G6[1]);G4[0]&&G5.setItemVisual(v1,"fromSymbolSize",G4[0]);G4[1]&&G5.setItemVisual(v1,"toSymbolSize",G4[1]);G5.setItemVisual(v1,"opacity",v2)}return{dataEach:v.hasItemOption?k:null}}};oM(bV);E(Ew);nl.extend({type:"series.heatmap",getInitialData:function(i,e){return a(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=fk.get(this.get("coordinateSystem"));if(e&&e.dimensions){return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"}},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var oc=256;function l2(){var e=Cf();this.canvas=e;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}l2.prototype={update:function(Hm,Hd,Hb,Hg,k,e){var v=this._getBrush();var G8=this._getGradient(Hm,k,"inRange");var v1=this._getGradient(Hm,k,"outOfRange");var G9=this.pointSize+this.blurSize;var Z=this.canvas;var Hf=Z.getContext("2d");var Hj=Hm.length;Z.width=Hd;Z.height=Hb;for(var Hi=0;Hi<Hj;++Hi){var Hc=Hm[Hi];var G5=Hc[0];var G4=Hc[1];var He=Hc[2];var cc=Hg(He);Hf.globalAlpha=cc;Hf.drawImage(v,G5-G9,G4-G9)}if(!Z.width||!Z.height){return Z}var Hk=Hf.getImageData(0,0,Z.width,Z.height);var Ha=Hk.data;var v2=0;var v3=Ha.length;var Hh=this.minOpacity;var Hl=this.maxOpacity;var G6=Hl-Hh;while(v2<v3){var cc=Ha[v2+3]/256;var G7=Math.floor(cc*(oc-1))*4;if(cc>0){var m=e(cc)?G8:v1;cc>0&&(cc=cc*G6+Hh);Ha[v2++]=m[G7];Ha[v2++]=m[G7+1];Ha[v2++]=m[G7+2];Ha[v2++]=m[G7+3]*cc*256}else{v2+=4}}Hf.putImageData(Hk,0,0);return Z},_getBrush:function(){var k=this._brushCanvas||(this._brushCanvas=Cf());var i=this.pointSize+this.blurSize;var m=i*2;k.width=m;k.height=m;var e=k.getContext("2d");e.clearRect(0,0,m,m);e.shadowOffsetX=m;e.shadowBlur=this.blurSize;e.shadowColor="#000";e.beginPath();e.arc(-i,i,this.pointSize,0,Math.PI*2,true);e.closePath();e.fill();return k},_getGradient:function(v1,v,cc){var m=this._gradientPixels;var k=m[cc]||(m[cc]=new Uint8ClampedArray(256*4));var e=[0,0,0,0];var v2=0;for(var Z=0;Z<256;Z++){v[cc](Z/255,true,e);k[v2++]=e[0];k[v2++]=e[1];k[v2++]=e[2];k[v2++]=e[3]}return k}};function cL(v,i,m){var k=v[1]-v[0];i=De(i,function(cc){return{interval:[(cc.interval[0]-v[0])/k,(cc.interval[1]-v[0])/k]}});var e=i.length;var Z=0;return function(v2){for(var v1=Z;v1<e;v1++){var cc=i[v1].interval;if(cc[0]<=v2&&v2<=cc[1]){Z=v1;break}}if(v1===e){for(var v1=Z-1;v1>=0;v1--){var cc=i[v1].interval;if(cc[0]<=v2&&v2<=cc[1]){Z=v1;break}}}return v1>=0&&v1<e&&m[v1]}}function o(k,i){var e=k[1]-k[0];i=[(i[0]-k[0])/e,(i[1]-k[0])/e];return function(m){return m>=i[0]&&m<=i[1]}}function rJ(e){var i=e.dimensions;return i[0]==="lng"&&i[1]==="lat"}AO({type:"heatmap",render:function(i,e,m){var v;e.eachComponent("visualMap",function(Z){Z.eachTargetSeries(function(cc){if(cc===i){v=Z}})});if(nK){if(!v){throw new Error("Heatmap must use with visualMap")}}this.group.removeAll();this._incrementalDisplayable=null;var k=i.coordinateSystem;if(k.type==="cartesian2d"||k.type==="calendar"){this._renderOnCartesianAndCalendar(i,m,0,i.getData().count())}else{if(rJ(k)){this._renderOnGeo(k,i,v,m)}}},incrementalPrepareRender:function(i,e,k){this.group.removeAll()},incrementalRender:function(v,i,e,m){var k=i.coordinateSystem;if(k){this._renderOnCartesianAndCalendar(i,m,v.start,v.end,true)}},_renderOnCartesianAndCalendar:function(Ha,G6,cc,Z,Hc){var v1=Ha.coordinateSystem;var Hb;var G8;if(v1.type==="cartesian2d"){var v3=v1.getAxis("x");var e=v1.getAxis("y");if(nK){if(!(v3.type==="category"&&e.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(v3.onBand&&e.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}Hb=v3.getBandWidth();G8=e.getBandWidth()}var v2=this.group;var Hl=Ha.getData();var m="itemStyle";var k="emphasis.itemStyle";var G5="label";var Hj="emphasis.label";var Hi=Ha.getModel(m).getItemStyle(["color"]);var He=Ha.getModel(k).getItemStyle();var G4=Ha.getModel(G5);var Hh=Ha.getModel(Hj);var Hk=v1.type;var v=Hk==="cartesian2d"?[Hl.mapDimension("x"),Hl.mapDimension("y"),Hl.mapDimension("value")]:[Hl.mapDimension("time"),Hl.mapDimension("value")];for(var G7=cc;G7<Z;G7++){var i;if(Hk==="cartesian2d"){if(isNaN(Hl.get(v[2],G7))){continue}var Hd=v1.dataToPoint([Hl.get(v[0],G7),Hl.get(v[1],G7)]);i=new DD({shape:{x:Hd[0]-Hb/2,y:Hd[1]-G8/2,width:Hb,height:G8},style:{fill:Hl.getItemVisual(G7,"color"),opacity:Hl.getItemVisual(G7,"opacity")}})}else{if(isNaN(Hl.get(v[1],G7))){continue}i=new DD({z2:1,shape:v1.dataToRect([Hl.get(v[0],G7)]).contentShape,style:{fill:Hl.getItemVisual(G7,"color"),opacity:Hl.getItemVisual(G7,"opacity")}})}var Hg=Hl.getItemModel(G7);if(Hl.hasItemOption){Hi=Hg.getModel(m).getItemStyle(["color"]);He=Hg.getModel(k).getItemStyle();G4=Hg.getModel(G5);Hh=Hg.getModel(Hj)}var Hf=Ha.getRawValue(G7);var G9="-";if(Hf&&Hf[2]!=null){G9=Hf[2]}AG(Hi,He,G4,Hh,{labelFetcher:Ha,labelDataIndex:G7,defaultText:G9,isRectText:true});i.setStyle(Hi);xz(i,Hl.hasItemOption?He:bY({},He));i.incremental=Hc;if(Hc){i.useHoverLayer=true}v2.add(i);Hl.setItemGraphicEl(G7,i)}},_renderOnGeo:function(He,G7,v1,G4){var v=v1.targetVisuals.inRange;var v3=v1.targetVisuals.outOfRange;var Hc=G7.getData();var Z=this._hmLayer||(this._hmLayer||new l2());Z.blurSize=G7.get("blurSize");Z.pointSize=G7.get("pointSize");Z.minOpacity=G7.get("minOpacity");Z.maxOpacity=G7.get("maxOpacity");var i=He.getViewRect().clone();var m=He.getRoamTransform();i.applyTransform(m);var v2=Math.max(i.x,0);var cc=Math.max(i.y,0);var Hb=Math.min(i.width+i.x,G4.getWidth());var k=Math.min(i.height+i.y,G4.getHeight());var G8=Hb-v2;var G5=k-cc;var G6=[Hc.mapDimension("lng"),Hc.mapDimension("lat"),Hc.mapDimension("value")];var Ha=Hc.mapArray(G6,function(Hf,Hi,Hg){var Hh=He.dataToPoint([Hf,Hi]);Hh[0]-=v2;Hh[1]-=cc;Hh.push(Hg);return Hh});var G9=v1.getExtent();var e=v1.type==="visualMap.continuous"?o(G9,v1.option.range):cL(G9,v1.getPieceList(),v1.option.selected);Z.update(Ha,G8,G5,v.color.getNormalizer(),{inRange:v.color.getColorMapper(),outOfRange:v3.color.getColorMapper()},e);var Hd=new Ek({style:{width:G8,height:G5,x:v2,y:cc,image:Z.canvas},silent:true});this.group.add(Hd)},dispose:function(){}});var gq=vU.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:false},getInitialData:function(e){e.stack=null;return gq.superApply(this,"getInitialData",arguments)}});var zV=["itemStyle","borderWidth"];var xU=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var Bm=new Fx();var eZ=AO({type:"pictorialBar",render:function(k,cc,v1){var v3=this.group;var m=k.getData();var v=this._data;var Z=k.coordinateSystem;var i=Z.getBaseAxis();var v2=!!i.isHorizontal();var G4=Z.grid.getRect();var e={ecSize:{width:v1.getWidth(),height:v1.getHeight()},seriesModel:k,coordSys:Z,coordSysExtent:[[G4.x,G4.x+G4.width],[G4.y,G4.y+G4.height]],isHorizontal:v2,valueDim:xU[+v2],categoryDim:xU[1-v2]};m.diff(v).add(function(G6){if(!m.hasValue(G6)){return}var G7=yw(m,G6);var G5=nU(m,G6,G7,e);var G8=oy(m,e,G5);m.setItemGraphicEl(G6,G8);v3.add(G8);iG(G8,e,G5)}).update(function(G6,Ha){var G8=v.getItemGraphicEl(Ha);if(!m.hasValue(G6)){v3.remove(G8);return}var G7=yw(m,G6);var G5=nU(m,G6,G7,e);var G9=cr(m,G5);if(G8&&G9!==G8.__pictorialShapeStr){v3.remove(G8);m.setItemGraphicEl(G6,null);G8=null}if(G8){cU(G8,e,G5)}else{G8=oy(m,e,G5,true)}m.setItemGraphicEl(G6,G8);G8.__pictorialSymbolMeta=G5;v3.add(G8);iG(G8,e,G5)}).remove(function(G5){var G6=v.getItemGraphicEl(G5);G6&&vC(v,G5,G6.__pictorialSymbolMeta.animationModel,G6)}).execute();this._data=m;return this.group},dispose:U,remove:function(e,i){var m=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(v){vC(k,v.dataIndex,e,v)})}}else{m.removeAll()}}});function nU(cc,G5,G8,e){var v1=cc.getItemLayout(G5);var Z=G8.get("symbolRepeat");var v2=G8.get("symbolClip");var G6=G8.get("symbolPosition")||"start";var G4=G8.get("symbolRotate");var G7=(G4||0)*Math.PI/180||0;var v=G8.get("symbolPatternSize")||2;var i=G8.isAnimationEnabled();var k={dataIndex:G5,layout:v1,itemModel:G8,symbolType:cc.getItemVisual(G5,"symbol")||"circle",color:cc.getItemVisual(G5,"color"),symbolClip:v2,symbolRepeat:Z,symbolRepeatDirection:G8.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:G7,animationModel:i?G8:null,hoverAnimation:i&&G8.get("hoverAnimation"),z2:G8.getShallow("z",true)||0};n(G8,Z,v1,e,k);y6(cc,G5,v1,Z,v2,k.boundingLength,k.pxSign,v,e,k);pi(G8,k.symbolScale,G7,e,k);var m=k.symbolSize;var v3=G8.get("symbolOffset");if(Fw(v3)){v3=[yW(v3[0],m[0]),yW(v3[1],m[1])]}ku(G8,m,v1,Z,v2,v3,G6,k.valueLineWidth,k.boundingLength,k.repeatCutLength,e,k);return k}function n(G5,m,Z,e,i){var v1=e.valueDim;var cc=G5.get("symbolBoundingData");var v3=e.coordSys.getOtherAxis(e.coordSys.getBaseAxis());var G4=v3.toGlobalCoord(v3.dataToCoord(0));var k=1-+(Z[v1.wh]<=0);var v2;if(Fw(cc)){var v=[g(v3,cc[0])-G4,g(v3,cc[1])-G4];v[1]<v[0]&&(v.reverse());v2=v[k]}else{if(cc!=null){v2=g(v3,cc)-G4}else{if(m){v2=e.coordSysExtent[v1.index][k]-G4}else{v2=Z[v1.wh]}}}i.boundingLength=v2;if(m){i.repeatCutLength=Z[v1.wh]}i.pxSign=v2>0?1:v2<0?-1:0}function g(e,i){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(i)))}function y6(cc,G7,v3,Z,G4,G6,v1,v,e,k){var G5=e.valueDim;var G8=e.categoryDim;var i=Math.abs(v3[G8.wh]);var m=cc.getItemVisual(G7,"symbolSize");if(Fw(m)){m=m.slice()}else{if(m==null){m="100%"}m=[m,m]}m[G8.index]=yW(m[G8.index],i);m[G5.index]=yW(m[G5.index],Z?i:Math.abs(G6));k.symbolSize=m;var v2=k.symbolScale=[m[0]/v,m[1]/v];v2[G5.index]*=(e.isHorizontal?-1:1)*v1}function pi(m,Z,k,i,e){var v=m.get(zV)||0;if(v){Bm.attr({scale:Z.slice(),rotation:k});Bm.updateTransform();v/=Bm.getLineScale();v*=Z[i.valueDim.index]}e.valueLineWidth=v}function ku(Hd,Hl,Hj,Hh,cc,Hc,Hb,Hg,v3,G9,m,G5){var Hk=m.categoryDim;var Z=m.valueDim;var Hn=G5.pxSign;var Hi=Math.max(Hl[Z.index]+Hg,0);var He=Hi;if(Hh){var Ha=Math.abs(v3);var G8=gg(Hd.get("symbolMargin"),"15%")+"";var G6=false;if(G8.lastIndexOf("!")===G8.length-1){G6=true;G8=G8.slice(0,G8.length-1)}G8=yW(G8,Hl[Z.index]);var G7=Math.max(Hi+G8*2,0);var k=G6?0:G8*2;var i=lc(Hh);var v=i?Hh:vZ((Ha+k)/G7);var e=Ha-v*Hi;G8=e/2/(G6?v:v-1);G7=Hi+G8*2;k=G6?0:G8*2;if(!i&&Hh!=="fixed"){v=G9?vZ((Math.abs(G9)+k)/G7):0}He=v*G7-k;G5.repeatTimes=v;G5.symbolMargin=G8}var v1=Hn*(He/2);var Hm=G5.pathPosition=[];Hm[Hk.index]=Hj[Hk.wh]/2;Hm[Z.index]=Hb==="start"?v1:Hb==="end"?v3-v1:v3/2;if(Hc){Hm[0]+=Hc[0];Hm[1]+=Hc[1]}var G4=G5.bundlePosition=[];G4[Hk.index]=Hj[Hk.xy];G4[Z.index]=Hj[Z.xy];var Hf=G5.barRectShape=bY({},Hj);Hf[Z.wh]=Hn*Math.max(Math.abs(Hj[Z.wh]),Math.abs(Hm[Z.index]+v1));Hf[Hk.wh]=Hj[Hk.wh];var v2=G5.clipShape={};v2[Hk.xy]=-Hj[Hk.xy];v2[Hk.wh]=m.ecSize[Hk.wh];v2[Z.xy]=0;v2[Z.wh]=Hj[Z.wh]}function tW(e){var i=e.symbolPatternSize;var k=tk(e.symbolType,-i/2,-i/2,i,i,e.color);k.attr({culling:true});k.type!=="image"&&k.setStyle({strokeNoScale:true});return k}function h2(G4,i,m,G9){var Ha=G4.__pictorialBundle;var v=m.symbolSize;var e=m.valueLineWidth;var cc=m.pathPosition;var v3=i.valueDim;var G8=m.repeatTimes||0;var v1=0;var G6=v[i.valueDim.index]+e+m.symbolMargin*2;lb(G4,function(Hb){Hb.__pictorialAnimationIndex=v1;Hb.__pictorialRepeatTimes=G8;if(v1<G8){tA(Hb,null,k(v1),m,G9)}else{tA(Hb,null,{scale:[0,0]},m,G9,function(){Ha.remove(Hb)})}ua(Hb,m);v1++});for(;v1<G8;v1++){var G7=tW(m);G7.__pictorialAnimationIndex=v1;G7.__pictorialRepeatTimes=G8;Ha.add(G7);var v2=k(v1);tA(G7,{position:v2.position,scale:[0,0]},{scale:v2.scale,rotation:v2.rotation},m,G9);G7.on("mouseover",Z).on("mouseout",G5);ua(G7,m)}function k(Hd){var Hb=cc.slice();var Hc=m.pxSign;var He=Hd;if(m.symbolRepeatDirection==="start"?Hc>0:Hc<0){He=G8-1-Hd}Hb[v3.index]=G6*(He-G8/2+0.5)+cc[v3.index];return{position:Hb,scale:m.symbolScale.slice(),rotation:m.rotation}}function Z(){lb(G4,function(Hb){Hb.trigger("emphasis")})}function G5(){lb(G4,function(Hb){Hb.trigger("normal")})}}function f2(cc,v,i,v1){var k=cc.__pictorialBundle;var m=cc.__pictorialMainPath;if(!m){m=cc.__pictorialMainPath=tW(i);k.add(m);tA(m,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,v1);m.on("mouseover",Z).on("mouseout",e)}else{tA(m,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,v1)}ua(m,i);function Z(){this.trigger("emphasis")}function e(){this.trigger("normal")}}function wK(k,e,m){var i=bY({},e.barRectShape);var v=k.__pictorialBarRect;if(!v){v=k.__pictorialBarRect=new DD({z2:2,shape:i,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});k.add(v)}else{tA(v,null,{shape:i},e,m)}}function l9(cc,e,k,v3){if(k.symbolClip){var v1=cc.__pictorialClipPath;var i=bY({},k.clipShape);var Z=e.valueDim;var m=k.animationModel;var v2=k.dataIndex;if(v1){og(v1,{shape:i},m,v2)}else{i[Z.wh]=0;v1=new DD({shape:i});cc.__pictorialBundle.setClipPath(v1);cc.__pictorialClipPath=v1;var v={};v[Z.wh]=k.clipShape[Z.wh];xr[v3?"updateProps":"initProps"](v1,{shape:v},m,v2)}}}function yw(k,e){var i=k.getItemModel(e);i.getAnimationDelayParams=fW;i.isAnimationEnabled=al;return i}function fW(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function al(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function ua(i,e){i.off("emphasis").off("normal");var k=e.symbolScale.slice();e.hoverAnimation&&i.on("emphasis",function(){this.animateTo({scale:[k[0]*1.1,k[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:k.slice()},400,"elasticOut")})}function oy(Z,k,e,v){var m=new Bd();var i=new Bd();m.add(i);m.__pictorialBundle=i;i.attr("position",e.bundlePosition.slice());if(e.symbolRepeat){h2(m,k,e)}else{f2(m,k,e)}wK(m,e,v);l9(m,k,e,v);m.__pictorialShapeStr=cr(Z,e);m.__pictorialSymbolMeta=e;return m}function cU(Z,v,e){var m=e.animationModel;var k=e.dataIndex;var i=Z.__pictorialBundle;og(i,{position:e.bundlePosition.slice()},m,k);if(e.symbolRepeat){h2(Z,v,e,true)}else{f2(Z,v,e,true)}wK(Z,e,true);l9(Z,v,e,true)}function vC(Z,m,k,v){var i=v.__pictorialBarRect;i&&(i.style.text=null);var e=[];lb(v,function(cc){e.push(cc)});v.__pictorialMainPath&&e.push(v.__pictorialMainPath);v.__pictorialClipPath&&(k=null);ow(e,function(cc){og(cc,{scale:[0,0]},k,m,function(){v.parent&&v.parent.remove(v)})});Z.setItemGraphicEl(m,null)}function cr(i,e){return[i.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function lb(k,e,i){ow(k.__pictorialBundle.children(),function(m){m!==k.__pictorialBarRect&&e.call(i,m)})}function tA(m,Z,k,i,v,e){Z&&m.attr(Z);if(i.symbolClip&&!v){k&&m.attr(k)}else{k&&xr[v?"updateProps":"initProps"](m,k,i.animationModel,i.dataIndex,e)}}function iG(cc,i,k){var Z=k.color;var v2=k.dataIndex;var G4=k.itemModel;var e=G4.getModel("itemStyle").getItemStyle(["color"]);var m=G4.getModel("emphasis.itemStyle").getItemStyle();var v3=G4.getShallow("cursor");lb(cc,function(G6){G6.setColor(Z);G6.setStyle(Ch({fill:Z,opacity:k.opacity},e));xz(G6,m);v3&&(G6.cursor=v3);G6.z2=k.z2});var v={};var v1=i.valueDim.posDesc[+(k.boundingLength>0)];var G5=cc.__pictorialBarRect;DH(G5.style,v,G4,Z,i.seriesModel,v2,v1);xz(G5,v)}function vZ(i){var e=Math.round(i);return Math.abs(i-e)<0.0001?e:Math.ceil(i)}oM(rH(bz,"pictorialBar"));E(lS("pictorialBar","roundRect"));var qY=function(m,v,k,i,e){AV.call(this,m,v,k);this.type=i||"value";this.position=e||"bottom";this.orient=null;this._labelInterval=null};qY.prototype={constructor:qY,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},pointToData:function(e,i){return this.coordinateSystem.pointToData(e,i)[0]},toGlobalCoord:null,toLocalCoord:null};lZ(qY,AV);function b4(i,e,k){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(i,e,k);this.model=i}b4.prototype={type:"singleAxis",axisPointerEnabled:true,constructor:b4,_init:function(k,e,v){var Z=this.dimension;var m=new qY(Z,mT(k),[0,0],k.get("type"),k.get("position"));var i=m.type==="category";m.onBand=i&&k.get("boundaryGap");m.inverse=k.get("inverse");m.orient=k.get("orient");k.axis=m;m.model=k;m.coordinateSystem=this;this._axis=m},update:function(e,i){e.eachSeries(function(k){if(k.coordinateSystem===this){var m=k.getData();ow(m.mapDimension(this.dimension,true),function(v){this._axis.scale.unionExtentFromData(m,v)},this);ne(this._axis.scale,this._axis.model)}},this)},resize:function(e,i){this._rect=kx({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:i.getWidth(),height:i.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var m=this._rect;var k=this._axis;var v=k.isHorizontal();var i=v?[0,m.width]:[0,m.height];var e=k.reverse?1:0;k.setExtent(i[e],i[1-e]);this._updateAxisTransform(k,v?m.x:m.y)},_updateAxisTransform:function(i,e){var v=i.getExtent();var m=v[0]+v[1];var k=i.isHorizontal();i.toGlobalCoord=k?function(Z){return Z+e}:function(Z){return m-Z+e};i.toLocalCoord=k?function(Z){return Z-e}:function(Z){return m-Z+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var m=this.getRect();var k=this.getAxis();var i=k.orient;if(i==="horizontal"){return k.contain(k.toLocalCoord(e[0]))&&(e[1]>=m.y&&e[1]<=(m.y+m.height))}else{return k.contain(k.toLocalCoord(e[1]))&&(e[0]>=m.y&&e[0]<=(m.y+m.height))}},pointToData:function(e){var i=this.getAxis();return[i.coordToData(i.toLocalCoord(e[i.orient==="horizontal"?0:1]))]},dataToPoint:function(v){var i=this.getAxis();var k=this.getRect();var m=[];var e=i.orient==="horizontal"?0:1;if(v instanceof Array){v=v[0]}m[e]=i.toGlobalCoord(i.dataToCoord(+v));m[1-e]=e===0?(k.y+k.height/2):(k.x+k.width/2);return m}};function BB(e,i){var k=[];e.eachComponent("singleAxis",function(v,m){var Z=new b4(v,e,i);Z.name="single_"+m;Z.resize(v,i);v.coordinateSystem=Z;k.push(Z)});e.eachSeries(function(m){if(m.get("coordinateSystem")==="singleAxis"){var v=e.queryComponents({mainType:"singleAxis",index:m.get("singleAxisIndex"),id:m.get("singleAxisId")})[0];m.coordinateSystem=v&&v.coordinateSystem}});return k}fk.register("single",{create:BB,dimensions:b4.prototype.dimensions});function d7(G4,i){i=i||{};var v3=G4.coordinateSystem;var k=G4.axis;var v={};var Z=k.position;var m=k.orient;var v2=v3.getRect();var cc=[v2.x,v2.x+v2.width,v2.y,v2.y+v2.height];var G6={horizontal:{top:cc[2],bottom:cc[3]},vertical:{left:cc[0],right:cc[1]}};v.position=[m==="vertical"?G6.vertical[Z]:cc[0],m==="horizontal"?G6.horizontal[Z]:cc[3]];var e={horizontal:0,vertical:1};v.rotation=Math.PI/2*e[m];var v1={top:-1,bottom:1,right:1,left:-1};v.labelDirection=v.tickDirection=v.nameDirection=v1[Z];if(G4.get("axisTick.inside")){v.tickDirection=-v.tickDirection}if(gg(i.labelInside,G4.get("axisLabel.inside"))){v.labelDirection=-v.labelDirection}var G5=i.rotate;G5==null&&(G5=G4.get("axisLabel.rotate"));v.labelRotation=Z==="top"?-G5:G5;v.labelInterval=k.getLabelInterval();v.z2=1;return v}var dX=c3.getInterval;var e9=c3.ifIgnoreOnTick;var DN=["axisLine","axisTickLabel","axisName"];var tQ="splitLine";var DF=fO.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(i,e,k,cc){var Z=this.group;Z.removeAll();var m=d7(i);var v=new c3(i,m);ow(DN,v.add,v);Z.add(v.getGroup());if(i.get(tQ+".show")){this["_"+tQ](i,m.labelInterval)}DF.superCall(this,"render",i,e,k,cc)},_splitLine:function(v3,Hb){var v=v3.axis;if(v.scale.isBlank()){return}var He=v3.getModel("splitLine");var G7=He.getModel("lineStyle");var e=G7.get("width");var Hd=G7.get("color");var v1=dX(He,Hb);Hd=Hd instanceof Array?Hd:[Hd];var Hc=v3.coordinateSystem.getRect();var v2=v.isHorizontal();var G8=[];var G9=0;var G6=v.getTicksCoords();var m=[];var k=[];var Z=v3.get("axisLabel.showMinLabel");var G5=v3.get("axisLabel.showMaxLabel");for(var Ha=0;Ha<G6.length;++Ha){if(e9(v,Ha,v1,G6.length,Z,G5)){continue}var G4=v.toGlobalCoord(G6[Ha]);if(v2){m[0]=G4;m[1]=Hc.y;k[0]=G4;k[1]=Hc.y+Hc.height}else{m[0]=Hc.x;m[1]=G4;k[0]=Hc.x+Hc.width;k[1]=G4}var cc=(G9++)%Hd.length;G8[cc]=G8[cc]||[];G8[cc].push(new yK(de({shape:{x1:m[0],y1:m[1],x2:k[0],y2:k[1]},style:{lineWidth:e},silent:true})))}for(var Ha=0;Ha<G8.length;++Ha){this.group.add(qm(G8[Ha],{style:{stroke:Hd[Ha%Hd.length],lineDash:G7.getLineDash(e),lineWidth:e},silent:true}))}}});var lR=aI.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});var py={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:2,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:2}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:0.2}}};function ro(i,e){return e.type||(e.data?"category":"value")}vb(lR.prototype,m4);mn("single",lR,ro,py);var tu=function(e,cc){var v3=[];var v=e.seriesIndex;var k;if(v==null||!(k=cc.getSeriesByIndex(v))){return{point:[]}}var Z=k.getData();var v2=wp(Z,e);if(v2==null||v2<0||Fw(v2)){return{point:[]}}var i=Z.getItemGraphicEl(v2);var m=k.coordinateSystem;if(k.getTooltipPosition){v3=k.getTooltipPosition(v2)||[]}else{if(m&&m.dataToPoint){v3=m.dataToPoint(Z.getValues(De(m.dimensions,function(G4){return Z.mapDimension(G4)}),v2,true))||[]}else{if(i){var v1=i.getBoundingRect().clone();v1.applyTransform(i.transform);v3=[v1.x+v1.width/2,v1.y+v1.height/2]}}}return{point:v3,el:i}};var s4=ow;var tv=rH;var hx=fw();var sE=function(G4,cc,v1){var G8=G4.currTrigger;var G5=[G4.x,G4.y];var i=G4;var v=G4.dispatchAction||j0(v1.dispatchAction,v1);var m=cc.getComponent("axisPointer").coordSysAxesInfo;if(!m){return}if(vX(G5)){G5=tu({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},cc).point}var v3=vX(G5);var v2=i.axesInfo;var k=m.axesInfo;var Ha=G8==="leave"||vX(G5);var G6={};var Z={};var G7={list:[],map:{}};var G9={showPointer:tv(vc,Z),showTooltip:tv(gl,G7)};s4(m.coordSysMap,function(Hc,Hb){var Hd=v3||Hc.containPoint(G5);s4(m.coordSysAxesInfo[Hb],function(Hf,Hg){var Hh=Hf.axis;var He=BQ(v2,Hf);if(!Ha&&Hd&&(!v2||He)){var Hi=He&&He.value;if(Hi==null&&!v3){Hi=Hh.pointToData(G5)}Hi!=null&&uz(Hf,Hi,G9,false,G6)}})});var e={};s4(k,function(Hc,Hb){var Hd=Hc.linkGroup;if(Hd&&!Z[Hb]){s4(Hd.axesInfo,function(He,Hh){var Hf=Z[Hh];if(He!==Hc&&Hf){var Hg=Hf.value;Hd.mapper&&(Hg=Hc.axis.scale.parse(Hd.mapper(Hg,wL(He),wL(Hc))));e[Hc.key]=Hg}})}});s4(e,function(Hc,Hb){uz(k[Hb],Hc,G9,true,G6)});Ac(Z,k,G6);ei(G7,G5,G4,v);CW(k,v,v1);return G6};function uz(v,e,v2,Z,cc){var k=v.axis;if(k.scale.isBlank()||!k.containData(e)){return}if(!v.involveSeries){v2.showPointer(v,e);return}var m=yS(e,v);var v1=m.payloadBatch;var i=m.snapToValue;if(v1[0]&&cc.seriesIndex==null){bY(cc,v1[0])}if(!Z&&v.snap){if(k.containData(i)&&i!=null){e=i}}v2.showPointer(v,e,v1,cc);v2.showTooltip(v,m,i)}function yS(cc,m){var v=m.axis;var v1=v.dim;var e=cc;var Z=[];var k=Number.MAX_VALUE;var i=-1;s4(m.seriesModels,function(G5,v3){var G4=G5.getData().mapDimension(v1,true);var G7;var G6;if(G5.getAxisTooltipData){var v2=G5.getAxisTooltipData(G4,cc,v);G6=v2.dataIndices;G7=v2.nestestValue}else{G6=G5.getData().indicesOfNearest(G4[0],cc,v.type==="category"?0.5:null);if(!G6.length){return}G7=G5.getData().get(G4[0],G6[0])}if(G7==null||!isFinite(G7)){return}var G8=cc-G7;var G9=Math.abs(G8);if(G9<=k){if(G9<k||(G8>=0&&i<0)){k=G9;i=G8;e=G7;Z.length=0}s4(G6,function(Ha){Z.push({seriesIndex:G5.seriesIndex,dataIndexInside:Ha,dataIndex:G5.getData().getRawIndex(Ha)})})}});return{payloadBatch:Z,snapToValue:e}}function vc(i,e,m,k){i[e.key]={value:m,payloadBatch:k}}function gl(G4,Z,m,v1){var v2=m.payloadBatch;var i=Z.axis;var v3=i.model;var cc=Z.axisPointerModel;if(!Z.triggerTooltip||!v2.length){return}var v=Z.coordSys.model;var k=Ft(v);var e=G4.map[k];if(!e){e=G4.map[k]={coordSysId:v.id,coordSysIndex:v.componentIndex,coordSysType:v.type,coordSysMainType:v.mainType,dataByAxis:[]};G4.list.push(e)}e.dataByAxis.push({axisDim:i.dim,axisIndex:v3.componentIndex,axisType:v3.type,axisId:v3.id,value:v1,valueLabelOpt:{precision:cc.get("label.precision"),formatter:cc.get("label.formatter")},seriesDataIndices:v2.slice()})}function Ac(e,k,m){var i=m.axesInfo=[];s4(k,function(v,Z){var cc=v.axisPointerModel.option;var v1=e[Z];if(v1){!v.useHandle&&(cc.status="show");cc.value=v1.value;cc.seriesDataIndices=(v1.payloadBatch||[]).slice()}else{!v.useHandle&&(cc.status="hide")}cc.status==="show"&&i.push({axisDim:v.axis.dim,axisIndex:v.axis.model.componentIndex,value:cc.value})})}function ei(k,e,v,m){if(vX(e)||!k.list.length){m({type:"hideTip"});return}var i=((k.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};m({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:v.tooltipOption,position:v.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:k.list})}function CW(e,k,v){var Z=v.getZr();var m="axisPointerLastHighlights";var cc=hx(Z)[m]||{};var i=hx(Z)[m]={};s4(e,function(v3,G4){var G5=v3.axisPointerModel.option;G5.status==="show"&&s4(G5.seriesDataIndices,function(G7){var G6=G7.seriesIndex+" | "+G7.dataIndex;i[G6]=G7})});var v1=[];var v2=[];ow(cc,function(G4,v3){!i[v3]&&v2.push(G4)});ow(i,function(G4,v3){!cc[v3]&&v1.push(G4)});v2.length&&v.dispatchAction({type:"downplay",escapeConnect:true,batch:v2});v1.length&&v.dispatchAction({type:"highlight",escapeConnect:true,batch:v1})}function BQ(v,k){for(var m=0;m<(v||[]).length;m++){var e=v[m];if(k.axis.dim===e.axisDim&&k.axis.model.componentIndex===e.axisIndex){return e}}}function wL(e){var i=e.axis.model;var k={};var m=k.axisDim=e.axis.dim;k.axisIndex=k[m+"AxisIndex"]=i.componentIndex;k.axisName=k[m+"AxisName"]=i.name;k.axisId=k[m+"AxisId"]=i.id;return k}function vX(e){return !e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}var a8=pk({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var hw=fw();var s3=ow;function u6(i,m,k){if(r6.node){return}var v=m.getZr();hw(v).records||(hw(v).records={});Eu(v,m);var e=hw(v).records[i]||(hw(v).records[i]={});e.handler=k}function Eu(k,i){if(hw(k).initialized){return}hw(k).initialized=true;e("click",rH(ky,"click"));e("mousemove",rH(ky,"mousemove"));e("globalout",dW);function e(v,m){k.on(v,function(cc){var Z=dI(i);s3(hw(k).records,function(v1){v1&&m(v1,cc,Z.dispatchAction)});rI(Z.pendings,i)})}}function rI(k,i){var v=k.showTip.length;var e=k.hideTip.length;var m;if(v){m=k.showTip[v-1]}else{if(e){m=k.hideTip[e-1]}}if(m){m.dispatchAction=null;i.dispatchAction(m)}}function dW(i,m,k){i.handler("leave",null,k)}function ky(v,i,m,k){i.handler(v,m,k)}function dI(i){var e={showTip:[],hideTip:[]};var k=function(m){var v=e[m.type];if(v){v.push(m)}else{m.dispatchAction=k;i.dispatchAction(m)}};return{dispatchAction:k,pendings:e}}function ae(i,k){if(r6.node){return}var m=k.getZr();var e=(hw(m).records||{})[i];if(e){hw(m).records[i]=null}}var yk=pO({type:"axisPointer",render:function(v,e,m){var k=e.getComponent("tooltip");var i=v.get("triggerOn")||(k&&k.get("triggerOn")||"mousemove|click");u6("axisPointer",m,function(v1,cc,Z){if(i!=="none"&&(v1==="leave"||i.indexOf(v1)>=0)){Z({type:"updateAxisPointer",currTrigger:v1,x:cc&&cc.offsetX,y:cc&&cc.offsetY})}})},remove:function(e,i){ae(i.getZr(),"axisPointer");yk.superApply(this._model,"remove",arguments)},dispose:function(e,i){ae("axisPointer",i);yk.superApply(this._model,"dispose",arguments)}});var hv=fw();var tZ=B8;var oV=j0;function Fd(){}Fd.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:false,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(G4,v1,Z,k){var v2=v1.get("value");var i=v1.get("status");this._axisModel=G4;this._axisPointerModel=v1;this._api=Z;if(!k&&this._lastValue===v2&&this._lastStatus===i){return}this._lastValue=v2;this._lastStatus=i;var v3=this._group;var v=this._handle;if(!i||i==="hide"){v3&&v3.hide();v&&v.hide();return}v3&&v3.show();v&&v.show();var e={};this.makeElOption(e,v2,G4,v1,Z);var G5=e.graphicKey;if(G5!==this._lastGraphicKey){this.clear(Z)}this._lastGraphicKey=G5;var cc=this._moveAnimation=this.determineAnimation(G4,v1);if(!v3){v3=this._group=new Bd();this.createPointerEl(v3,e,G4,v1);this.createLabelEl(v3,e,G4,v1);Z.getZr().add(v3)}else{var m=rH(iZ,v1,cc);this.updatePointerEl(v3,e,m,v1);this.updateLabelEl(v3,e,m,v1)}lF(v3,v1,true);this._renderHandle(v2)},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(v1,cc){var m=cc.get("animation");var i=v1.axis;var Z=i.type==="category";var v=cc.get("snap");if(!v&&!Z){return false}if(m==="auto"||m==null){var v2=this.animationThreshold;if(Z&&i.getBandWidth()>v2){return true}if(v){var e=Cv(v1).seriesDataCount;var k=i.getExtent();return Math.abs(k[0]-k[1])/e>v2}return false}return m===true},makeElOption:function(k,v,e,m,i){},createPointerEl:function(v,k,i,m){var Z=k.pointer;if(Z){var e=hv(v).pointerEl=new xr[Z.type](tZ(k.pointer));v.add(e)}},createLabelEl:function(v,k,i,m){if(k.label){var e=hv(v).labelEl=new DD(tZ(k.label));v.add(e);q3(e,m)}},updatePointerEl:function(k,i,m){var e=hv(k).pointerEl;if(e){e.setStyle(i.pointer.style);m(e,{shape:i.pointer.shape})}},updateLabelEl:function(m,i,v,k){var e=hv(m).labelEl;if(e){e.setStyle(i.label.style);v(e,{shape:i.label.shape,position:i.label.position});q3(e,k)}},_renderHandle:function(v1){if(this._dragging||!this.updateHandleTransform){return}var Z=this._axisPointerModel;var v=this._api.getZr();var m=this._handle;var e=Z.getModel("handle");var i=Z.get("status");if(!e.get("show")||!i||i==="hide"){m&&v.remove(m);this._handle=null;return}var k;if(!this._handle){k=true;m=this._handle=E0(e.get("icon"),{cursor:"move",draggable:true,onmousemove:function(v3){FC(v3.event)},onmousedown:oV(this._onHandleDragMove,this,0,0),drift:oV(this._onHandleDragMove,this),ondragend:oV(this._onHandleDragEnd,this)});v.add(m)}lF(m,Z,false);var v2=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];m.setStyle(e.getItemStyle(null,v2));var cc=e.get("size");if(!Fw(cc)){cc=[cc,cc]}m.attr("scale",[cc[0]/2,cc[1]/2]);mh(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate");this._moveHandleToValue(v1,k)},_moveHandleToValue:function(e,i){iZ(this._axisPointerModel,!i&&this._moveAnimation,this._handle,k2(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(i,e){var m=this._handle;if(!m){return}this._dragging=true;var k=this.updateHandleTransform(k2(m),[i,e],this._axisModel,this._axisPointerModel);this._payloadInfo=k;m.stopAnimation();m.attr(k2(k));hv(m).lastProp=null;this._doDispatchAxisPointer()},_doDispatchAxisPointer:function(){var i=this._handle;if(!i){return}var k=this._payloadInfo;var e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:k.cursorPoint[0],y:k.cursorPoint[1],tooltipOption:k.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})},_onHandleDragEnd:function(e){this._dragging=false;var k=this._handle;if(!k){return}var i=this._axisPointerModel.get("value");this._moveHandleToValue(i);this._api.dispatchAction({type:"hideTip"})},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null;this._lastStatus=null;var m=e.getZr();var k=this._group;var i=this._handle;if(m&&k){this._lastGraphicKey=null;k&&m.remove(k);i&&m.remove(i);this._group=null;this._handle=null;this._payloadInfo=null}},doClear:function(){},buildLabel:function(k,e,i){i=i||0;return{x:k[i],y:k[1-i],width:e[i],height:e[1-i]}}};Fd.prototype.constructor=Fd;function iZ(i,e,m,k){if(!pG(hv(m).lastProp,k)){hv(m).lastProp=k;e?og(m,k,i):(m.stopAnimation(),m.attr(k))}}function pG(e,k){if(sU(e)&&sU(k)){var i=true;ow(k,function(v,m){i=i&&pG(e[m],v)});return !!i}else{return e===k}}function q3(e,i){e[i.get("label.show")?"show":"hide"]()}function k2(e){return{position:e.position.slice(),rotation:e.rotation||0}}function lF(m,k,i){var v=k.get("z");var e=k.get("zlevel");m&&m.traverse(function(Z){if(Z.type!=="group"){v!=null&&(Z.z=v);e!=null&&(Z.zlevel=e);Z.silent=i}})}zN(Fd);function ye(i){var k=i.get("type");var m=i.getModel(k+"Style");var e;if(k==="line"){e=m.getLineStyle();e.fill=null}else{if(k==="shadow"){e=m.getAreaStyle();e.stroke=null}}return e}function Ei(e,G7,v3,v1,v){var G6=v3.get("value");var G9=rR(G6,G7.axis,G7.ecModel,v3.get("seriesDataIndices"),{precision:v3.get("label.precision"),formatter:v3.get("label.formatter")});var Ha=v3.getModel("label");var m=An(Ha.get("padding")||0);var k=Ha.getFont();var G5=Fg(G9,k);var cc=v.position;var i=G5.width+m[1]+m[3];var G8=G5.height+m[0]+m[2];var v2=v.align;v2==="right"&&(cc[0]-=i);v2==="center"&&(cc[0]-=i/2);var Z=v.verticalAlign;Z==="bottom"&&(cc[1]-=G8);Z==="middle"&&(cc[1]-=G8/2);di(cc,i,G8,v1);var G4=Ha.get("backgroundColor");if(!G4||G4==="auto"){G4=G7.get("axisLine.lineStyle.color")}e.label={shape:{x:0,y:0,width:i,height:G8,r:Ha.get("borderRadius")},position:cc.slice(),style:{text:G9,textFont:k,textFill:Ha.getTextColor(),textPosition:"inside",fill:G4,stroke:Ha.get("borderColor")||"transparent",lineWidth:Ha.get("borderWidth")||0,shadowBlur:Ha.get("shadowBlur"),shadowColor:Ha.get("shadowColor"),shadowOffsetX:Ha.get("shadowOffsetX"),shadowOffsetY:Ha.get("shadowOffsetY")},z2:10}}function di(i,Z,e,v){var m=v.getWidth();var k=v.getHeight();i[0]=Math.min(i[0]+Z,m)-Z;i[1]=Math.min(i[1]+e,k)-e;i[0]=Math.max(i[0],0);i[1]=Math.max(i[1],0)}function rR(Z,v,e,i,m){var v1=v.scale.getLabel(Z,{precision:m.precision});var k=m.formatter;if(k){var cc={value:nm(v,Z),seriesData:[]};ow(i,function(G5){var G4=e.getSeriesByIndex(G5.seriesIndex);var v3=G5.dataIndexInside;var v2=G4&&G4.getDataParams(v3);v2&&cc.seriesData.push(v2)});if(vi(k)){v1=k.replace("{value}",v1)}else{if(D0(k)){v1=k(cc)}}}return v1}function uq(i,k,m){var e=BF();jW(e,e,m.rotation);uy(e,e,m.position);return ve([i.dataToCoord(k),(m.labelOffset||0)+(m.labelDirection||1)*(m.labelMargin||0)],e)}function pM(Z,m,cc,i,v,k){var e=c3.innerTextLayout(cc.rotation,0,cc.labelDirection);cc.labelMargin=v.get("label.margin");Ei(m,i,v,k,{position:uq(i.axis,Z,cc),align:e.textAlign,verticalAlign:e.textVerticalAlign})}function Fu(k,i,e){e=e||0;return{x1:k[e],y1:k[1-e],x2:i[e],y2:i[1-e]}}function fi(k,e,i){i=i||0;return{x:k[i],y:k[1-i],width:e[i],height:e[1-i]}}function j1(e,Z,k,v,m,i){return{cx:e,cy:Z,r0:k,r:v,startAngle:m,endAngle:i,clockwise:true}}var kp=Fd.extend({makeElOption:function(e,v3,G5,v1,cc){var k=G5.axis;var i=k.grid;var v2=v1.get("type");var Z=cy(i,k).getOtherAxis(k).getGlobalExtent();var v=k.toGlobalCoord(k.dataToCoord(v3,true));if(v2&&v2!=="none"){var G4=ye(v1);var G6=cR[v2](k,v,Z,G4);G6.style=G4;e.graphicKey=G6.type;e.pointer=G6}var m=d9(i.model,G5);pM(v3,e,m,G5,v1,cc)},getHandleTransform:function(k,e,i){var m=d9(e.axis.grid.model,e,{labelInside:false});m.labelMargin=i.get("handle.margin");return{position:uq(e.axis,k,m),rotation:m.rotation+(m.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(i,G4,G5,v3){var m=G5.axis;var e=m.grid;var v=m.getGlobalExtent(true);var v1=cy(e,m).getOtherAxis(m).getGlobalExtent();var G6=m.dim==="x"?0:1;var Z=i.position;Z[G6]+=G4[G6];Z[G6]=Math.min(v[1],Z[G6]);Z[G6]=Math.max(v[0],Z[G6]);var cc=(v1[1]+v1[0])/2;var v2=[cc,cc];v2[G6]=Z[G6];var k=[{verticalAlign:"middle"},{align:"center"}];return{position:Z,rotation:i.rotation,cursorPoint:v2,tooltipOption:k[G6]}}});function cy(i,k){var e={};e[k.dim+"AxisIndex"]=k.index;return i.getCartesian(e)}var cR={line:function(m,i,v,k){var e=Fu([i,v[0]],[i,v[1]],da(m));de({shape:e,style:k});return{type:"Line",shape:e}},shadow:function(v,i,Z,k){var e=v.getBandWidth();var m=Z[1]-Z[0];return{type:"Rect",shape:fi([i-e/2,Z[0]],[e,m],da(v))}}};function da(e){return e.dim==="x"?0:1}fO.registerAxisPointerClass("CartesianAxisPointer",kp);yc(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var i=e.axisPointer.link;if(i&&!Fw(i)){e.axisPointer.link=[i]}}});d3(Bb.PROCESSOR.STATISTIC,function(e,i){e.getComponent("axisPointer").coordSysAxesInfo=h3(e,i)});bZ({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},sE);var b1=["x","y"];var cz=["width","height"];var i7=Fd.extend({makeElOption:function(e,v3,G5,v1,cc){var i=G5.axis;var v=i.coordinateSystem;var Z=wC(v,1-xY(i));var m=v.dataToPoint(v3)[0];var v2=v1.get("type");if(v2&&v2!=="none"){var G4=ye(v1);var G6=q9[v2](i,m,Z,G4);G6.style=G4;e.graphicKey=G6.type;e.pointer=G6}var k=d7(G5);pM(v3,e,k,G5,v1,cc)},getHandleTransform:function(k,e,i){var m=d7(e,{labelInside:false});m.labelMargin=i.get("handle.margin");return{position:uq(e.axis,k,m),rotation:m.rotation+(m.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,v3,G4,v2){var i=G4.axis;var m=i.coordinateSystem;var G5=xY(i);var k=wC(m,G5);var v=e.position;v[G5]+=v3[G5];v[G5]=Math.min(k[1],v[G5]);v[G5]=Math.max(k[0],v[G5]);var cc=wC(m,1-G5);var Z=(cc[1]+cc[0])/2;var v1=[Z,Z];v1[G5]=v[G5];return{position:v,rotation:e.rotation,cursorPoint:v1,tooltipOption:{verticalAlign:"middle"}}}});var q9={line:function(m,i,v,k){var e=Fu([i,v[0]],[i,v[1]],xY(m));de({shape:e,style:k});return{type:"Line",shape:e}},shadow:function(v,i,Z,k){var e=v.getBandWidth();var m=Z[1]-Z[0];return{type:"Rect",shape:fi([i-e/2,Z[0]],[e,m],xY(v))}}};function xY(e){return e.isHorizontal()?0:1}function wC(e,k){var i=e.getRect();return[i[b1[k]],i[b1[k]]+i[cz[k]]]}fO.registerAxisPointerClass("SingleAxisPointer",i7);pO({type:"single"});var ab=2;var dT=nl.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){dT.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(G5){var v1=G5.length;var Hc=c4().key(function(i){return i[2]}).entries(G5);var G7=De(Hc,function(i){return{name:i.key,dataList:i.values}});var G4=G7.length;var Hb=-1;var G9=-1;for(var G6=0;G6<G4;++G6){var G8=G7[G6].dataList.length;if(G8>Hb){Hb=G8;G9=G6}}for(var v2=0;v2<G4;++v2){if(v2===G9){continue}var e=G7[v2].name;for(var v3=0;v3<Hb;++v3){var Z=G7[G9].dataList[v3][0];var v=G7[v2].dataList.length;var m=-1;for(var cc=0;cc<v;++cc){var Ha=G7[v2].dataList[cc][0];if(Ha===Z){m=cc;break}}if(m===-1){G5[v1]=[];G5[v1][0]=Z;G5[v1][1]=0;G5[v1][2]=e;v1++}}}return G5},getInitialData:function(cc,v1){var e=v1.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0];var G6=e.get("type");var G5=qi(cc.data,function(i){return i[2]!==undefined});var Z=this.fixData(G5||[]);var m=[];var G4=this.nameMap=BN();var v2=0;for(var v=0;v<Z.length;++v){m.push(Z[v][ab]);if(!G4.get(Z[v][ab])){G4.set(Z[v][ab],v2);v2++}}var k=xH(Z,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:pX(G6)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}});var v3=new wF(k,this);v3.initData(Z);return v3},getLayerSeries:function(){var Z=this.getData();var m=Z.count();var e=[];for(var cc=0;cc<m;++cc){e[cc]=cc}var v3=c4().key(function(i){return Z.get("name",i)}).entries(e);var k=De(v3,function(i){return{name:i.key,indices:i.values}});var v2=Z.mapDimension("single");for(var v=0;v<k.length;++v){k[v].indices.sort(v1)}function v1(G4,i){return Z.get(v2,G4)-Z.get(v2,i)}return k},getAxisTooltipData:function(v3,G6,m){if(!Fw(v3)){v3=v3?[v3]:[]}var v2=this.getData();var v=this.getLayerSeries();var G7=[];var cc=v.length;var G8;for(var v1=0;v1<cc;++v1){var G5=Number.MAX_VALUE;var G9=-1;var e=v[v1].indices.length;for(var Z=0;Z<e;++Z){var k=v2.get(v3[0],v[v1].indices[Z]);var G4=Math.abs(k-G6);if(G4<=G5){G8=k;G5=G4;G9=v[v1].indices[Z]}}G7.push(G9)}return{dataIndices:G7,nestestValue:G8}},formatTooltip:function(k){var m=this.getData();var i=m.getName(k);var e=m.get(m.mapDimension("value"),k);if(isNaN(e)||e==null){e="-"}return l3(i+" : "+e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,textAlign:"right",show:true,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:true}}}});AO({type:"themeRiver",init:function(){this._layers=[]},render:function(v,v3,G4){var v1=v.getData();var G6=this.group;var cc=v.getLayerSeries();var m=v1.getLayout("layoutInfo");var G5=m.rect;var k=m.boundaryGap;G6.attr("position",[0,G5.y+k[0]]);function v2(G7){return G7.name}var e=new Fp(this._layersSeries||[],cc,v2,v2);var Z={};e.add(j0(i,this,"add")).update(j0(i,this,"update")).remove(j0(i,this,"remove")).execute();function i(Hl,Hk,G8){var Ho=this._layers;if(Hl==="remove"){G6.remove(Ho[Hk]);return}var Hs=[];var Hq=[];var Hm;var Hb=cc[Hk].indices;for(var Hp=0;Hp<Hb.length;Hp++){var Hr=v1.getItemLayout(Hb[Hp]);var Hg=Hr.x;var Ha=Hr.y0;var Hf=Hr.y;Hs.push([Hg,Ha]);Hq.push([Hg,Ha+Hf]);Hm=v1.getItemVisual(Hb[Hp],"color")}var Hh;var Hi;var Hc=v1.getItemLayout(Hb[0]);var Hn=v1.getItemModel(Hb[Hp-1]);var He=Hn.getModel("label");var Hj=He.get("margin");if(Hl==="add"){var Hd=Z[Hk]=new Bd();Hh=new iS({shape:{points:Hs,stackedOnPoints:Hq,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:false},z2:0});Hi=new iC({style:{x:Hc.x-Hj,y:Hc.y0+Hc.y/2}});Hd.add(Hh);Hd.add(Hi);G6.add(Hd);Hh.setClipPath(ur(Hh.getBoundingRect(),v,function(){Hh.removeClipPath()}))}else{var Hd=Ho[G8];Hh=Hd.childAt(0);Hi=Hd.childAt(1);G6.add(Hd);Z[Hk]=Hd;og(Hh,{shape:{points:Hs,stackedOnPoints:Hq}},v);og(Hi,{style:{x:Hc.x-Hj,y:Hc.y0+Hc.y/2}},v)}var G7=Hn.getModel("emphasis.itemStyle");var G9=Hn.getModel("itemStyle");oB(Hi.style,He,{text:He.get("show")?v.getFormattedLabel(Hb[Hp-1],"normal")||v1.getName(Hb[Hp-1]):null,textVerticalAlign:"middle"});Hh.setStyle(bY({fill:Hm},G9.getItemStyle(["color"])));xz(Hh,G7.getItemStyle())}this._layersSeries=cc;this._layers=Z},dispose:function(){}});function ur(m,i,e){var k=new DD({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}});ji(k,{shape:{width:m.width+20,height:m.height+20}},i,e);return k}var w5=function(e,i){e.eachSeriesByType("themeRiver",function(cc){var v1=cc.getData();var v3=cc.coordinateSystem;var Z={};var v2=v3.getRect();Z.rect=v2;var m=cc.get("boundaryGap");var v=v3.getAxis();Z.boundaryGap=m;if(v.orient==="horizontal"){m[0]=yW(m[0],v2.height);m[1]=yW(m[1],v2.height);var G4=v2.height-m[0]-m[1];oI(v1,cc,G4)}else{m[0]=yW(m[0],v2.width);m[1]=yW(m[1],v2.width);var k=v2.width-m[0]-m[1];oI(v1,cc,k)}v1.setLayout("layoutInfo",Z)})};function oI(G4,Z,Ha){if(!G4.count()){return}var v2=Z.coordinateSystem;var cc=Z.getLayerSeries();var G9=G4.mapDimension("single");var G7=G4.mapDimension("value");var G8=De(cc,function(i){return De(i.indices,function(m){var Hc=v2.dataToPoint(G4.get(G9,m));Hc[1]=G4.get(G7,m);return Hc})});var e=vp(G8);var Hb=e.y0;var G5=Ha/e.max;var k=cc.length;var v=cc[0].indices.length;var G6;for(var v1=0;v1<v;++v1){G6=Hb[v1]*G5;G4.setItemLayout(cc[0].indices[v1],{layerIndex:0,x:G8[0][v1][0],y0:G6,y:G8[0][v1][1]*G5});for(var v3=1;v3<k;++v3){G6+=G8[v3-1][v1][1]*G5;G4.setItemLayout(cc[v3].indices[v1],{layerIndex:v3,x:G8[v3][v1][0],y0:G6,y:G8[v3][v1][1]*G5})}}}function vp(v3){var v1=v3.length;var e=v3[0].length;var G4=[];var G7=[];var G6=0;var G8;var m={};for(var v2=0;v2<e;++v2){for(var cc=0,G8=0;cc<v1;++cc){G8+=v3[cc][v2][1]}if(G8>G6){G6=G8}G4.push(G8)}for(var Z=0;Z<e;++Z){G7[Z]=(G6-G4[Z])/2}G6=0;for(var v=0;v<e;++v){var G5=G4[v]+G7[v];if(G5>G6){G6=G5}}m.y0=G7;m.max=G6;return m}var hj=function(e){e.eachSeriesByType("themeRiver",function(i){var m=i.getData();var Z=i.getRawData();var k=i.get("color");var v=BN();m.each(function(cc){v.set(m.getRawIndex(cc),cc)});Z.each(function(v3){var v2=Z.getName(v3);var v1=k[(i.nameMap.get(v2)-1)%k.length];Z.setItemVisual(v3,"color",v1);var cc=v.get(v3);if(cc!=null){m.setItemVisual(cc,"color",v1)}})})};oM(w5);E(hj);d3(C6("themeRiver"));nl.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(m,e){var i={name:m.name,children:m.data};Cj(i);var v=m.levels||[];var k={};k.levels=v;return m3.createTree(i,this,k).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var k=nl.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);k.treePathInfo=dD(i,this);return k},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:true,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:0.9}},animationType:"expansion",animationDuration:1000,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(i){i?(this._viewRoot=i):(i=this._viewRoot);var e=this.getRawData().tree.root;if(!i||(i!==e&&!e.contains(i))){this._viewRoot=e}}});function Cj(i){var k=0;ow(i.children,function(v){Cj(v);var m=v.value;Fw(m)&&(m=m[0]);k+=m});var e=i.value;if(Fw(e)){e=e[0]}if(e==null||isNaN(e)){e=k}if(e<0){e=0}Fw(i.value)?(i.value[0]=e):(i.value=e)}var Da={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"};var qO=2;var mb=4;function yM(Z,m,k){Bd.call(this);var v=new sI({z2:qO});var cc=new iC({z2:mb,silent:Z.getModel("label").get("silent")});this.add(v);this.add(cc);this.updateData(true,Z,"normal",m,k);function i(){cc.ignore=cc.hoverIgnore}function e(){cc.ignore=cc.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var ib=yM.prototype;ib.updateData=function(G4,v,m,cc,v2){this.node=v;v.piece=this;cc=cc||this._seriesModel;v2=v2||this._ecModel;var Z=this.childAt(0);Z.dataIndex=v.dataIndex;var G8=v.getModel();var v1=v.getLayout();var G6=bY({},v1);G6.label=null;var G5=y4(v,cc,v2);var k=G8.getModel("itemStyle").getItemStyle();var i;if(m==="normal"){i=k}else{var v3=G8.getModel(m+".itemStyle").getItemStyle();i=vb(v3,k)}i=Ch({lineJoin:"bevel",fill:i.fill||G5},i);if(G4){Z.setShape(G6);Z.shape.r=v1.r0;og(Z,{shape:{r:v1.r}},cc,v.dataIndex);Z.useStyle(i)}else{if(typeof i.fill==="object"&&i.fill.type||typeof Z.style.fill==="object"&&Z.style.fill.type){og(Z,{shape:G6},cc);Z.useStyle(i)}else{og(Z,{shape:G6,style:i},cc)}}this._updateLabel(cc,G5,m);var G7=G8.getShallow("cursor");G7&&Z.attr("cursor",G7);if(G4){var e=cc.getShallow("highlightPolicy");this._initEvents(Z,v,cc,e)}this._seriesModel=cc||this._seriesModel;this._ecModel=v2||this._ecModel};ib.onEmphasis=function(e){var i=this;this.node.hostTree.root.eachNode(function(k){if(k.piece){if(i.node===k){k.piece.updateData(false,k,"emphasis")}else{if(gs(k,i.node,e)){k.piece.childAt(0).trigger("highlight")}else{if(e!==Da.NONE){k.piece.childAt(0).trigger("downplay")}}}}})};ib.onNormal=function(){this.node.hostTree.root.eachNode(function(e){if(e.piece){e.piece.updateData(false,e,"normal")}})};ib.onHighlight=function(){this.updateData(false,this.node,"highlight")};ib.onDownplay=function(){this.updateData(false,this.node,"downplay")};ib._updateLabel=function(G8,k,v){var Hc=this.node.getModel();var Hb=Hc.getModel("label");var cc=v==="normal"||v==="emphasis"?Hb:Hc.getModel(v+".label");var G9=Hc.getModel("emphasis.label");var G4=gg(G8.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);if(Ha("show")===false){G4=""}var Hg=this.node.getLayout();var He=cc.get("minAngle");if(He==null){He=Hb.get("minAngle")}He=He/180*Math.PI;var Hf=Hg.endAngle-Hg.startAngle;if(He!=null&&Math.abs(Hf)<He){G4=""}var Z=this.childAt(1);AG(Z.style,Z.hoverStyle||{},Hb,G9,{defaultText:cc.getShallow("show")?G4:null,autoColor:k,useInsideStyle:true});var v1=(Hg.startAngle+Hg.endAngle)/2;var v3=Math.cos(v1);var v2=Math.sin(v1);var G5;var e=Ha("position");var Hh=Ha("distance")||0;var m=Ha("align");if(e==="outside"){G5=Hg.r+Hh;m=v1>Math.PI/2?"right":"left"}else{if(!m||m==="center"){G5=(Hg.r+Hg.r0)/2;m="center"}else{if(m==="left"){G5=Hg.r0+Hh;if(v1>Math.PI/2){m="right"}}else{if(m==="right"){G5=Hg.r-Hh;if(v1>Math.PI/2){m="left"}}}}}Z.attr("style",{text:G4,textAlign:m,textVerticalAlign:Ha("verticalAlign")||"middle",opacity:Ha("opacity")});var G7=G5*v3+Hg.cx;var G6=G5*v2+Hg.cy;Z.attr("position",[G7,G6]);var i=Ha("rotate");var Hd=0;if(i==="radial"){Hd=-v1;if(Hd<-Math.PI/2){Hd+=Math.PI}}else{if(i==="tangential"){Hd=Math.PI/2-v1;if(Hd>Math.PI/2){Hd-=Math.PI}else{if(Hd<-Math.PI/2){Hd+=Math.PI}}}else{if(typeof i==="number"){Hd=i*Math.PI/180}}}Z.attr("rotation",Hd);function Ha(Hi){var Hj=cc.get(Hi);if(Hj==null){return Hb.get(Hi)}else{return Hj}}};ib._initEvents=function(m,i,v,e){m.off("mouseover").off("mouseout").off("emphasis").off("normal");var v2=this;var Z=function(){v2.onEmphasis(e)};var cc=function(){v2.onNormal()};var k=function(){v2.onDownplay()};var v1=function(){v2.onHighlight()};if(v.isAnimationEnabled()){m.on("mouseover",Z).on("mouseout",cc).on("emphasis",Z).on("normal",cc).on("downplay",k).on("highlight",v1)}};lZ(yM,Bd);function y4(cc,k,e){var v=cc.getVisual("color");var m=cc.getVisual("visualMeta");if(!m||m.length===0){v=null}var i=cc.getModel("itemStyle").get("color");if(i){return i}else{if(v){return v}else{if(cc.depth===0){return e.option.color[0]}else{var Z=e.option.color.length;i=e.option.color[tg(cc)%Z]}}}return i}function tg(k){var e=k;while(e.depth>1){e=e.parentNode}var i=k.getAncestors()[0];return eB(i.children,e)}function gs(e,k,i){if(i===Da.NONE){return false}else{if(i===Da.SELF){return e===k}else{if(i===Da.ANCESTOR){return e===k||e.isAncestorOf(k)}else{return e===k||e.isDescendantOf(k)}}}}var AL="sunburstRootToNode";var go=dw.extend({type:"sunburst",init:function(){},render:function(v2,Hb,v1,v3){var v=this;this.seriesModel=v2;this.api=v1;this.ecModel=Hb;var Ha=v2.getData();var k=Ha.tree.root;var i=v2.getViewRoot();var Z=this.group;var G6=v2.get("renderLabelForZeroData");var G8=[];i.eachNode(function(Hc){G8.push(Hc)});var G7=this._oldChildren||[];cc(G8,G7);G9(k,i);if(v3&&v3.highlight&&v3.highlight.piece){var e=v2.getShallow("highlightPolicy");v3.highlight.piece.onEmphasis(e)}else{if(v3&&v3.unhighlight){var m=k.piece;if(!m&&k.children.length){m=k.children[0].piece}if(m){m.onNormal()}}}this._initEvents();this._oldChildren=G8;function cc(Hf,He){if(Hf.length===0&&He.length===0){return}new Fp(He,Hf,Hc,Hc).add(Hd).update(Hd).remove(rH(Hd,null)).execute();function Hc(Hg){return Hg.getId()}function Hd(Hg,Hj){var Hh=Hg==null?null:Hf[Hg];var Hi=Hj==null?null:He[Hj];G4(Hh,Hi)}}function G4(Hc,He){if(!G6&&Hc&&!Hc.getValue()){Hc=null}if(Hc!==k&&He!==k){if(He&&He.piece){if(Hc){He.piece.updateData(false,Hc,"normal",v2,Hb);Ha.setItemGraphicEl(Hc.dataIndex,He.piece)}else{G5(He)}}else{if(Hc){var Hd=new yM(Hc,v2,Hb);Z.add(Hd);Ha.setItemGraphicEl(Hc.dataIndex,Hd)}}}}function G5(Hc){if(!Hc){return}if(Hc.piece){Z.remove(Hc.piece);Hc.piece=null}}function G9(Hd,He){if(He.depth>0){if(Hd.piece){Hd.piece.updateData(false,Hd,"normal",v2,Hb)}else{Hd.piece=new yM(Hd,v2,Hb);Z.add(Hd.piece)}if(He.piece._onclickEvent){He.piece.off("click",He.piece._onclickEvent)}var Hc=function(Hf){v._rootToNode(He.parentNode)};He.piece._onclickEvent=Hc;Hd.piece.on("click",Hc)}else{if(Hd.piece){Z.remove(Hd.piece);Hd.piece=null}}}},dispose:function(){},_initEvents:function(){var i=this;var e=function(v){var k=false;var m=i.seriesModel.getViewRoot();m.eachNode(function(v2){if(!k&&v2.piece&&v2.piece.childAt(0)===v.target){var Z=v2.getModel().get("nodeClick");if(Z==="rootToNode"){i._rootToNode(v2)}else{if(Z==="link"){var cc=v2.getModel();var v1=cc.get("link");if(v1){var v3=cc.get("target",true)||"_blank";window.open(v1,v3)}}}k=true}})};if(this.group._onclickEvent){this.group.off("click",this.group._onclickEvent)}this.group.on("click",e);this.group._onclickEvent=e},_rootToNode:function(e){if(e!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:AL,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})}},containPoint:function(i,Z){var v=Z.getData();var cc=v.getItemLayout(0);if(cc){var m=i[0]-cc.cx;var k=i[1]-cc.cy;var e=Math.sqrt(m*m+k*k);return e<=cc.r&&e>=cc.r0}}});var uV="sunburstRootToNode";bZ({type:uV,update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"sunburst",query:k},i);function i(Z,v){var cc=t5(k,[uV],Z);if(cc){var m=Z.getViewRoot();if(m){k.direction=vT(m,cc.node)?"rollUp":"drillDown"}Z.resetViewRoot(cc.node)}}});var nO="sunburstHighlight";bZ({type:nO,update:"updateView"},function(k,i){i.eachComponent({mainType:"series",subType:"sunburst",query:k},e);function e(v,m){var Z=t5(k,[nO],v);if(Z){k.highlight=Z.node}}});var rr="sunburstUnhighlight";bZ({type:rr,update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"sunburst",query:k},i);function i(v,m){k.unhighlight=true}});var fK=Math.PI/180;var lv=function(i,e,k,m){e.eachSeriesByType(i,function(Hh){var Hq=Hh.get("center");var G4=Hh.get("radius");if(!Fw(G4)){G4=[0,G4]}if(!Fw(Hq)){Hq=[Hq,Hq]}var Hi=k.getWidth();var Hd=k.getHeight();var Hc=Math.min(Hi,Hd);var v3=yW(Hq[0],Hi);var v1=yW(Hq[1],Hd);var Hm=yW(G4[0],Hc/2);var Hb=yW(G4[1],Hc/2);var Hl=-Hh.get("startAngle")*fK;var Hk=Hh.get("minAngle")*fK;var v2=Hh.getData().tree.root;var Hj=Hh.getViewRoot();var Z=Hj.depth;var Hp=Hh.get("sort");if(Hp!=null){z8(Hj,Hp)}var Hg=0;ow(Hj.children,function(Hr){!isNaN(Hr.getValue())&&Hg++});var cc=Hj.getValue();var Hf=Math.PI/(cc||Hg)*2;var G6=Hj.depth>0;var G8=Hj.height-(G6?-1:1);var v=(Hb-Hm)/(G8||1);var Hn=Hh.get("clockwise");var G5=Hh.get("stillShowZeroSum");var He=Hn?1:-1;var G7=function(Hs,Hv){if(!Hs){return}var Hr=Hv;if(Hs!==v2){var Hx=Hs.getValue();var Ht=(cc===0&&G5)?Hf:(Hx*Hf);if(Ht<Hk){Ht=Hk}else{}Hr=Hv+He*Ht;var Hu=Hs.depth-Z-(G6?-1:1);var Hz=Hm+v*Hu;var Hw=Hm+v*(Hu+1);var HA=Hs.getModel();if(HA.get("r0")!=null){Hz=yW(HA.get("r0"),Hc/2)}if(HA.get("r")!=null){Hw=yW(HA.get("r"),Hc/2)}Hs.setLayout({angle:Ht,startAngle:Hv,endAngle:Hr,clockwise:Hn,cx:v3,cy:v1,r0:Hz,r:Hw})}if(Hs.children&&Hs.children.length){var Hy=0;ow(Hs.children,function(HB){Hy+=G7(HB,Hv+Hy)})}return Hr-Hv};if(G6){var Ha=Hm;var G9=Hm+v;var Ho=Math.PI*2;v2.setLayout({angle:Ho,startAngle:Hl,endAngle:Hl+Ho,clockwise:Hn,cx:v3,cy:v1,r0:Ha,r:G9})}G7(Hj,Hl)})};function z8(k,e){var i=k.children||[];k.children=fl(i,e);if(i.length){ow(k.children,function(m){z8(m,e)})}}function fl(i,k){if(typeof k==="function"){return i.sort(k)}else{var e=k==="asc";return i.sort(function(v,m){var Z=(v.getValue()-m.getValue())*(e?1:-1);return Z===0?(v.dataIndex-m.dataIndex)*(e?-1:1):Z})}}E(rH(ez,"sunburst"));oM(rH(lv,"sunburst"));d3(rH(C6,"sunburst"));function hf(e,i){i=i||[0,0];return De(["x","y"],function(Z,k){var v=this.getAxis(Z);var cc=i[k];var m=e[k]/2;return v.type==="category"?v.getBandWidth():Math.abs(v.dataToCoord(cc-m)-v.dataToCoord(cc+m))},this)}var Gl=function(e){var i=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(k){return e.dataToPoint(k)},size:j0(hf,e)}}};function cG(e,i){i=i||[0,0];return De([0,1],function(k){var cc=i[k];var m=e[k]/2;var Z=[];var v=[];Z[k]=cc-m;v[k]=cc+m;Z[1-k]=v[1-k]=i[1-k];return Math.abs(this.dataToPoint(Z)[k]-this.dataToPoint(v)[k])},this)}var F4=function(e){var i=e.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(k){return e.dataToPoint(k)},size:j0(cG,e)}}};function cE(e,i){var m=this.getAxis();var v=i instanceof Array?i[0]:i;var k=(e instanceof Array?e[0]:e)/2;return m.type==="category"?m.getBandWidth():Math.abs(m.dataToCoord(v-k)-m.dataToCoord(v+k))}var jy=function(e){var i=e.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(k){return e.dataToPoint(k)},size:j0(cE,e)}}};function cD(e,i){return De(["Radius","Angle"],function(cc,m){var Z=this["get"+cc+"Axis"]();var v1=i[m];var v=e[m]/2;var v2="dataTo"+cc;var k=Z.type==="category"?Z.getBandWidth():Math.abs(Z[v2](v1-v)-Z[v2](v1+v));if(cc==="Angle"){k=k*Math.PI/180}return k},this)}var FO=function(k){var m=k.getRadiusAxis();var i=k.getAngleAxis();var e=m.getExtent();e[0]>e[1]&&e.reverse();return{coordSys:{type:"polar",cx:k.cx,cy:k.cy,r:e[1],r0:e[0]},api:{coord:j0(function(Z){var v=m.dataToRadius(Z[0]);var cc=i.dataToAngle(Z[1]);var v1=k.coordToPoint([v,cc]);v1.push(v,cc*Math.PI/180);return v1}),size:j0(cD,k)}}};var zc=function(i){var k=i.getRect();var e=i.getRangeInfo();return{coordSys:{type:"calendar",x:k.x,y:k.y,width:k.width,height:k.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(m,v){return i.dataToPoint(m,v)}}}};var vm=["itemStyle"];var E3=["emphasis","itemStyle"];var wU=["label"];var ww=["emphasis","label"];var tj="e\0\0";var iB={cartesian2d:Gl,geo:F4,singleAxis:jy,polar:FO,calendar:zc};A6({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true},getInitialData:function(i,e){return a(this.getSource(),this)}});AO({type:"custom",_data:null,render:function(i,e,k){var cc=this._data;var v=i.getData();var Z=this.group;var m=EU(i,v,e,k);this.group.removeAll();v.diff(cc).add(function(v1){bg(null,v1,m(v1),i,Z,v)}).update(function(v3,v1){var v2=cc.getItemGraphicEl(v1);bg(v2,v3,m(v3),i,Z,v)}).remove(function(v1){var v2=cc.getItemGraphicEl(v1);v2&&Z.remove(v2)}).execute();this._data=v},incrementalPrepareRender:function(i,e,k){this.group.removeAll();this._data=null},incrementalRender:function(i,k,Z,cc){var v=k.getData();var m=EU(k,v,Z,cc);function v1(v3){if(!v3.isGroup){v3.incremental=true;v3.useHoverLayer=true}}for(var v2=i.start;v2<i.end;v2++){var e=bg(null,v2,m(v2),k,this.group,v);e.traverse(v1)}},dispose:U});function pa(v){var k=v.type;var m;if(k==="path"){var i=v.shape;m=Ah(i.pathData,null,{x:i.x||0,y:i.y||0,width:i.width||0,height:i.height||0},"center");m.__customPathData=v.pathData}else{if(k==="image"){m=new Ek({});m.__customImagePath=v.style.image}else{if(k==="text"){m=new iC({});m.__customText=v.style.text}else{var e=xr[k.charAt(0).toUpperCase()+k.slice(1)];if(nK){bK(e,'graphic type "'+k+'" can not be found.')}m=new e()}}}m.__customGraphicType=k;m.name=v.name;return m}function q5(i,v2,e,m,v,Z){var k={};var v3=e.style||{};e.shape&&(k.shape=B8(e.shape));e.position&&(k.position=e.position.slice());e.scale&&(k.scale=e.scale.slice());e.origin&&(k.origin=e.origin.slice());e.rotation&&(k.rotation=e.rotation);if(i.type==="image"&&e.style){var cc=k.style={};ow(["x","y","width","height"],function(G4){mw(G4,cc,v3,i.style,Z)})}if(i.type==="text"&&e.style){var cc=k.style={};ow(["x","y"],function(G4){mw(G4,cc,v3,i.style,Z)});!v3.hasOwnProperty("textFill")&&v3.fill&&(v3.textFill=v3.fill);!v3.hasOwnProperty("textStroke")&&v3.stroke&&(v3.textStroke=v3.stroke)}if(i.type!=="group"){i.useStyle(v3);if(Z){i.style.opacity=0;var v1=v3.opacity;v1==null&&(v1=1);ji(i,{style:{opacity:v1}},m,v2)}}if(Z){i.attr(k)}else{og(i,k,m,v2)}i.attr({z2:e.z2||0,silent:e.silent});e.styleEmphasis!==false&&xz(i,e.styleEmphasis)}function mw(v,k,i,e,m){if(i[v]!=null&&!m){k[v]=i[v];i[v]=e[v]}}function EU(i,He,Hg,v3){var cc=i.get("renderItem");var m=i.coordinateSystem;var k={};if(m){if(nK){bK(cc,"series.render is required.");bK(m.prepareCustoms||iB[m.type],"This coordSys does not support custom series.")}k=m.prepareCustoms?m.prepareCustoms():iB[m.type](m)}var v1=Ch({getWidth:v3.getWidth,getHeight:v3.getHeight,getZr:v3.getZr,getDevicePixelRatio:v3.getDevicePixelRatio,value:G8,style:Ha,styleEmphasis:Hc,visual:Hb,barLayout:e,currentSeriesIndices:v2,font:G4},k.api||{});var G6={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:k.coordSys,dataInsideLength:He.count(),encode:bv(i.getData())};var Hf;var G9=true;var Z;var G5;var Hd;var G7;return function(Hh){Hf=Hh;G9=true;return cc&&cc(Ch({dataIndexInside:Hh,dataIndex:He.getRawIndex(Hh)},G6),v1)||{}};function v(Hh){Hh==null&&(Hh=Hf);if(G9){Z=He.getItemModel(Hh);G5=Z.getModel(wU);Hd=Z.getModel(ww);G7=He.getItemVisual(Hh,"color");G9=false}}function G8(Hi,Hh){Hh==null&&(Hh=Hf);return He.get(He.getDimension(Hi||0),Hh)}function Ha(Hh,Hk){Hk==null&&(Hk=Hf);v(Hk);var Hj=Z.getModel(vm).getItemStyle();G7!=null&&(Hj.fill=G7);var Hi=He.getItemVisual(Hk,"opacity");Hi!=null&&(Hj.opacity=Hi);oB(Hj,G5,null,{autoColor:G7,isRectText:true});Hj.text=G5.getShallow("show")?jP(i.getFormattedLabel(Hk,"normal"),dO(He,Hk)):null;Hh&&bY(Hj,Hh);return Hj}function Hc(Hh,Hj){Hj==null&&(Hj=Hf);v(Hj);var Hi=Z.getModel(E3).getItemStyle();oB(Hi,Hd,null,{isRectText:true},true);Hi.text=Hd.getShallow("show")?jO(i.getFormattedLabel(Hj,"emphasis"),i.getFormattedLabel(Hj,"normal"),dO(He,Hj)):null;Hh&&bY(Hi,Hh);return Hi}function Hb(Hi,Hh){Hh==null&&(Hh=Hf);return He.getItemVisual(Hh,Hi)}function e(Hh){if(m.getBaseAxis){var Hi=m.getBaseAxis();return nG(Ch({axis:Hi},Hh),v3)}}function v2(){return Hg.getCurrentSeriesIndices()}function G4(Hh){return jC(Hh,Hg)}}function bv(e){var i={};ow(e.dimensions,function(cc,k){var m=e.getDimensionInfo(cc);if(!m.isExtraCoord){var v=m.coordDim;var Z=i[v]=i[v]||[];Z[m.coordDimIndex]=k}});return i}function bg(i,e,k,Z,v,m){i=px(i,e,k,Z,v,m);i&&m.setItemGraphicEl(e,i);return i}function px(i,v3,e,m,G4,v){var v2=e.type;if(i&&v2!==i.__customGraphicType&&(v2!=="path"||e.pathData!==i.__customPathData)&&(v2!=="image"||e.style.image!==i.__customImagePath)&&(v2!=="text"||e.style.text!==i.__customText)){G4.remove(i);i=null}if(v2==null){return}var cc=!i;!i&&(i=pa(e));q5(i,v3,e,m,v,cc);if(v2==="group"){var Z=i.children()||[];var k=e.children||[];if(e.diffChildrenByName){bt({oldChildren:Z,newChildren:k,dataIndex:v3,animatableModel:m,group:i,data:v})}else{var v1=0;for(;v1<k.length;v1++){px(i.childAt(v1),v3,k[v1],m,i,v)}for(;v1<Z.length;v1++){Z[v1]&&i.remove(Z[v1])}}}G4.add(i);return i}function bt(e){(new Fp(e.oldChildren,e.newChildren,fT,fT,e)).add(k9).update(k9).remove(yl).execute()}function fT(k,e){var i=k&&k.name;return i!=null?i:tj+e}function k9(i,v){var e=this.context;var k=i!=null?e.newChildren[i]:null;var m=v!=null?e.oldChildren[v]:null;px(m,e.dataIndex,k,e.animatableModel,e.group,e.data)}function yl(k){var e=this.context;var i=e.oldChildren[k];i&&e.group.remove(i)}yc(function(i){var e=i.graphic;if(Fw(e)){if(!e[0]||!e[0].elements){i.graphic=[{elements:e}]}else{i.graphic=[i.graphic[0]]}}else{if(e&&!e.elements){i.graphic=[{elements:[e]}]}}});var Gw=pk({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var i=this.option.elements;this.option.elements=null;Gw.superApply(this,"mergeOption",arguments);this.option.elements=i},optionUpdated:function(cc,v){var v2=this.option;var e=(v?v2:cc).elements;var k=v2.elements=v?[]:v2.elements;var v3=[];this._flatten(e,v3);var Z=c2(k,v3);zb(Z);var v1=this._elOptionsToUpdate=[];ow(Z,function(G4,G5){var i=G4.option;if(nK){bK(sU(i)||G4.exist,"Empty graphic option definition")}if(!i){return}v1.push(i);FA(G4,i);Dz(k,G5,i);t7(k[G5],i)},this);for(var m=k.length-1;m>=0;m--){if(k[m]==null){k.splice(m,1)}else{delete k[m].$action}}},_flatten:function(i,e,k){ow(i,function(v){if(!v){return}if(k){v.parentOption=k}e.push(v);var m=v.children;if(v.type==="group"&&m){this._flatten(m,e,v)}delete v.children},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return e}});pO({type:"graphic",init:function(e,i){this._elMap=BN();this._lastGraphicModel},render:function(k,e,i){if(k!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=k;this._updateElements(k,i);this._relocate(k,i)},_updateElements:function(v,k){var i=v.useElOptionsToUpdate();if(!i){return}var e=this._elMap;var m=this.group;ow(i,function(cc){var G7=cc.$action;var v1=cc.id;var Z=e.get(v1);var G4=cc.parentId;var v3=G4!=null?e.get(G4):m;if(cc.type==="text"){var G5=cc.style;if(cc.hv&&cc.hv[1]){G5.textVerticalAlign=G5.textBaseline=null}!G5.hasOwnProperty("textFill")&&G5.fill&&(G5.textFill=G5.fill);!G5.hasOwnProperty("textStroke")&&G5.stroke&&(G5.textStroke=G5.stroke)}var G6=xq(cc);if(nK){Z&&bK(v3===Z.parent,"Changing parent is not supported.")}if(!G7||G7==="merge"){Z?Z.attr(G6):w4(v1,v3,G6,e)}else{if(G7==="replace"){xf(Z,e);w4(v1,v3,G6,e)}else{if(G7==="remove"){xf(Z,e)}}}var v2=e.get(v1);if(v2){v2.__ecGraphicWidth=cc.width;v2.__ecGraphicHeight=cc.height}})},_relocate:function(cc,v2){var G4=cc.option.elements;var v3=this.group;var m=this._elMap;for(var Z=G4.length-1;Z>=0;Z--){var e=G4[Z];var k=m.get(e.id);if(!k){continue}var v1=k.parent;var v=v1===v3?{width:v2.getWidth(),height:v2.getHeight()}:{width:v1.__ecGraphicWidth||0,height:v1.__ecGraphicHeight||0};zF(k,e,v,null,{hv:e.hv,boundingMode:e.bounding})}},_clear:function(){var e=this._elMap;e.each(function(i){xf(i,e)});this._elMap=BN()},dispose:function(){this._clear()}});function w4(cc,k,Z,e){var m=Z.type;if(nK){bK(m,"graphic type MUST be set")}var i=xr[m.charAt(0).toUpperCase()+m.slice(1)];if(nK){bK(i,"graphic type can not be found")}var v=new i(Z);k.add(v);e.set(cc,v);v.__ecGraphicId=cc}function xf(k,e){var i=k&&k.parent;if(i){k.type==="group"&&k.traverse(function(m){xf(m,e)});e.removeKey(k.__ecGraphicId);i.remove(k)}}function xq(e){e=bY({},e);ow(["id","parentId","$action","hv","bounding"].concat(qD),function(i){delete e[i]});return e}function eR(k,i){var e;ow(i,function(m){k[m]!=null&&k[m]!=="auto"&&(e=true)});return e}function FA(k,i){var m=k.exist;i.id=k.keyInfo.id;!i.type&&m&&(i.type=m.type);if(i.parentId==null){var e=i.parentOption;if(e){i.parentId=e.id}else{if(m){i.parentId=m.parentId}}}i.parentOption=null}function Dz(e,m,i){var Z=bY({},i);var v=e[m];var cc=i.$action||"merge";if(cc==="merge"){if(v){if(nK){var k=i.type;bK(!k||v.type===k,'Please set $action: "replace" to change `type`')}vb(v,Z,true);g0(v,Z,{ignoreSize:true});EB(i,v)}else{e[m]=Z}}else{if(cc==="replace"){e[m]=Z}else{if(cc==="remove"){v&&(e[m]=null)}}}}function t7(i,e){if(!i){return}i.hv=e.hv=[eR(e,["left","right"]),eR(e,["top","bottom"])];if(i.type==="group"){i.width==null&&(i.width=e.width=0);i.height==null&&(i.height=e.height=0)}}var eV=pk({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:true},init:function(k,i,e){this.mergeDefaultAndTheme(k,e);k.selected=k.selected||{}},mergeOption:function(e){eV.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var k=this._data;if(k[0]&&this.get("selectedMode")==="single"){var e=false;for(var v=0;v<k.length;v++){var m=k[v].get("name");if(this.isSelected(m)){this.select(m);e=true;break}}!e&&this.select(k[0].get("name"))}},_updateData:function(e){var k=[];var m=[];e.eachRawSeries(function(v1){var Z=v1.name;m.push(Z);var cc;if(v1.legendDataProvider){var v2=v1.legendDataProvider();var v3=v2.mapArray(v2.getName);if(!e.isSeriesFiltered(v1)){m=m.concat(v3)}if(v3.length){k=k.concat(v3)}else{cc=true}}else{cc=true}if(cc&&qa(v1)){k.push(v1.name)}});this._availableNames=m;var v=this.get("data")||k;var i=De(v,function(Z){if(typeof Z==="string"||typeof Z==="number"){Z={name:Z}}return new fg(Z,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var i=this.option.selected;var m=this.get("selectedMode");if(m==="single"){var k=this._data;ow(k,function(v){i[v.get("name")]=false})}i[e]=true},unSelect:function(e){if(this.get("selectedMode")!=="single"){this.option.selected[e]=false}},toggleSelected:function(e){var i=this.option.selected;if(!i.hasOwnProperty(e)){i[e]=true}this[i[e]?"unSelect":"select"](e)},isSelected:function(e){var i=this.option.selected;return !(i.hasOwnProperty(e)&&!i[e])&&eB(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:true,tooltip:{show:false}}});function jt(i,Z,e){var v={};var m=i==="toggleSelected";var k;e.eachComponent("legend",function(v1){if(m&&k!=null){v1[k?"select":"unSelect"](Z.name)}else{v1[i](Z.name);k=v1.isSelected(Z.name)}var cc=v1.getData();ow(cc,function(v3){var v2=v3.get("name");if(v2==="\n"||v2===""){return}var G4=v1.isSelected(v2);if(v.hasOwnProperty(v2)){v[v2]=v[v2]&&G4}else{v[v2]=G4}})});return{name:Z.name,selected:v}}bZ("legendToggleSelect","legendselectchanged",rH(jt,"toggleSelected"));bZ("legendSelect","legendselected",rH(jt,"select"));bZ("legendUnSelect","legendunselected",rH(jt,"unSelect"));function d6(cc,k,m){var i=k.getBoxLayoutParams();var Z=k.get("padding");var e={width:m.getWidth(),height:m.getHeight()};var v=kx(i,e,Z);e4(k.get("orient"),cc,k.get("itemGap"),v.width,v.height);zF(cc,i,e,Z)}function zv(k,e){var m=An(e.get("padding"));var i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");var k=new DD({shape:{x:k.x-m[3],y:k.y-m[0],width:k.width+m[1]+m[3],height:k.height+m[0]+m[2],r:e.get("borderRadius")},style:i,silent:true,z2:-1});return k}var tt=rH;var s2=ow;var qu=Bd;var aK=pO({type:"legend.plain",newlineDisabled:false,init:function(){this.group.add(this._contentGroup=new qu());this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(k,v,Z){this.resetInner();if(!k.get("show",true)){return}var i=k.get("align");if(!i||i==="auto"){i=(k.get("left")==="right"&&k.get("orient")==="vertical")?"right":"left"}this.renderInner(i,k,v,Z);var e=k.getBoxLayoutParams();var m={width:Z.getWidth(),height:Z.getHeight()};var v1=k.get("padding");var v3=kx(e,m,v1);var cc=this.layoutInner(k,i,v3);var v2=kx(Ch({width:cc.width,height:cc.height},e),m,v1);this.group.attr("position",[v2.x-cc.x,v2.y-cc.y]);this.group.add(this._backgroundEl=zv(cc,k))},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(i,v,e,m){var k=this.getContentGroup();var cc=BN();var Z=v.get("selectedMode");s2(v.getData(),function(G8,G7){var v1=G8.get("name");if(!this.newlineDisabled&&(v1===""||v1==="\n")){k.add(new qu({newline:true}));return}var v2=e.getSeriesByName(v1)[0];if(cc.get(v1)){return}if(v2){var G5=v2.getData();var G4=G5.getVisual("color");if(typeof G4==="function"){G4=G4(v2.getDataParams(0))}var G6=G5.getVisual("legendSymbol")||"roundRect";var G9=G5.getVisual("symbol");var v3=this._createItem(v1,G7,G8,v,G6,G9,i,G4,Z);v3.on("click",tt(CS,v1,m)).on("mouseover",tt(t9,v2,null,m)).on("mouseout",tt(kf,v2,null,m));cc.set(v1,true)}else{e.eachRawSeries(function(Hc){if(cc.get(v1)){return}if(Hc.legendDataProvider){var He=Hc.legendDataProvider();var Ha=He.indexOfName(v1);if(Ha<0){return}var Hb=He.getItemVisual(Ha,"color");var Hd="roundRect";var Hf=this._createItem(v1,G7,G8,v,Hd,null,i,Hb,Z);Hf.on("click",tt(CS,v1,m)).on("mouseover",tt(t9,Hc,v1,m)).on("mouseout",tt(kf,Hc,v1,m));cc.set(v1,true)}},this)}if(nK){if(!cc.get(v1)){console.warn(v1+" series not exists. Legend data should be same with series name or data name.")}}},this)},_createItem:function(Hh,Hg,Hc,i,k,G4,cc,Hb,Hf){var v=i.get("itemWidth");var G9=i.get("itemHeight");var m=i.get("inactiveColor");var v3=i.isSelected(Hh);var He=new qu();var v2=Hc.getModel("textStyle");var G8=Hc.get("icon");var v1=Hc.getModel("tooltip");var e=v1.parentModel;k=G8||k;He.add(tk(k,0,0,v,G9,v3?Hb:m,true));if(!G8&&G4&&((G4!==k)||G4=="none")){var G6=G9*0.8;if(G4==="none"){G4="circle"}He.add(tk(G4,(v-G6)/2,(G9-G6)/2,G6,G6,v3?Hb:m))}var G7=cc==="left"?v+5:-5;var Z=cc;var Hd=i.get("formatter");var Ha=Hh;if(typeof Hd==="string"&&Hd){Ha=Hd.replace("{name}",Hh!=null?Hh:"")}else{if(typeof Hd==="function"){Ha=Hd(Hh)}}He.add(new iC({style:oB({},v2,{text:Ha,x:G7,y:G9/2,textFill:v3?v2.getTextColor():m,textAlign:Z,textVerticalAlign:"middle"})}));var G5=new DD({shape:He.getBoundingRect(),invisible:true,tooltip:v1.get("show")?bY({content:Hh,formatter:e.get("formatter",true)||function(){return Hh},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:Hh,$vars:["name"]}},v1.option):null});He.add(G5);He.eachChild(function(Hi){Hi.silent=true});G5.silent=!Hf;this.getContentGroup().add(He);xz(He);He.__legendDataIndex=Hg;return He},layoutInner:function(m,i,v){var k=this.getContentGroup();e4(m.get("orient"),k,m.get("itemGap"),v.width,v.height);var e=k.getBoundingRect();k.attr("position",[-e.x,-e.y]);return this.group.getBoundingRect()}});function CS(e,i){i.dispatchAction({type:"legendToggleSelect",name:e})}function t9(i,e,m){var k=m.getZr().storage.getDisplayList()[0];if(!(k&&k.useHoverLayer)){i.get("legendHoverLink")&&m.dispatchAction({type:"highlight",seriesName:i.name,name:e})}}function kf(i,e,m){var k=m.getZr().storage.getDisplayList()[0];if(!(k&&k.useHoverLayer)){i.get("legendHoverLink")&&m.dispatchAction({type:"downplay",seriesName:i.name,name:e})}}var v6=function(e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){e.filterSeries(function(m){for(var k=0;k<i.length;k++){if(!i[k].isSelected(m.name)){return false}}return true})}};d3(v6);aI.registerSubTypeDefaulter("legend",function(){return"plain"});var iX=eV.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(k,i,e,m){var v=gO(k);iX.superCall(this,"init",k,i,e,m);tE(this,k,v)},mergeOption:function(e,i){iX.superCall(this,"mergeOption",e,i);tE(this,this.option,e)},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function tE(m,v,k){var i=m.getOrient();var e=[1,1];e[i.index]=0;g0(v,k,{type:"box",ignoreSize:e})}var qt=Bd;var dA=["width","height"];var cN=["x","y"];var rO=aK.extend({type:"legend.scroll",newlineDisabled:true,init:function(){rO.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new qt());this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new qt());this._showController},resetInner:function(){rO.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(e,m,cc,v1){var v2=this;rO.superCall(this,"renderInner",e,m,cc,v1);var k=this._controllerGroup;var i=m.get("pageIconSize",true);if(!Fw(i)){i=[i,i]}v("pagePrev",0);var Z=m.getModel("pageTextStyle");k.add(new iC({name:"pageText",style:{textFill:Z.getTextColor(),font:Z.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:true}));v("pageNext",1);function v(G4,v3){var G5=G4+"DataIndex";var G6=E0(m.get("pageIcons",true)[m.getOrient().name][v3],{onclick:j0(v2._pageGo,v2,G5,m,v1)},{x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]});G6.name=G4;k.add(G6)}},layoutInner:function(i,v3,Z){var G5=this.getContentGroup();var cc=this._containerGroup;var m=this._controllerGroup;var G8=i.getOrient().index;var v2=dA[G8];var Hc=dA[1-G8];var G9=cN[1-G8];e4(i.get("orient"),G5,i.get("itemGap"),!G8?null:Z.width,G8?null:Z.height);e4("horizontal",m,i.get("pageButtonItemGap",true));var Ha=G5.getBoundingRect();var He=m.getBoundingRect();var Hd=this._showController=Ha[v2]>Z[v2];var G6=[-Ha.x,-Ha.y];G6[G8]=G5.position[G8];var v1=[0,0];var k=[-He.x,-He.y];var G7=jP(i.get("pageButtonGap",true),i.get("itemGap",true));if(Hd){var e=i.get("pageButtonPosition",true);if(e==="end"){k[G8]+=Z[v2]-He[v2]}else{v1[G8]+=He[v2]+G7}}k[1-G8]+=Ha[Hc]/2-He[Hc]/2;G5.attr("position",G6);cc.attr("position",v1);m.attr("position",k);var Hb=this.group.getBoundingRect();var Hb={x:0,y:0};Hb[v2]=Hd?Z[v2]:Ha[v2];Hb[Hc]=Math.max(Ha[Hc],He[Hc]);Hb[G9]=Math.min(0,He[G9]+k[1-G8]);cc.__rectSize=Z[v2];if(Hd){var G4={x:0,y:0};G4[v2]=Math.max(Z[v2]-He[v2]-G7,0);G4[Hc]=Hb[Hc];cc.setClipPath(new DD({shape:G4}));cc.__rectSize=G4[v2]}else{m.eachChild(function(Hf){Hf.attr({invisible:true,silent:true})})}var v=this._getPageInfo(i);v.pageIndex!=null&&og(G5,{position:v.contentPosition},Hd?i:false);this._updatePageInfoView(i,v);return Hb},_pageGo:function(m,i,e){var k=this._getPageInfo(i)[m];k!=null&&e.dispatchAction({type:"legendScroll",scrollDataIndex:k,legendId:i.id})},_updatePageInfoView:function(k,i){var v1=this._controllerGroup;ow(["pagePrev","pageNext"],function(v2){var G4=i[v2+"DataIndex"]!=null;var v3=v1.childOfName(v2);if(v3){v3.setStyle("fill",G4?k.get("pageIconColor",true):k.get("pageIconInactiveColor",true));v3.cursor=G4?"pointer":"default"}});var v=v1.childOfName("pageText");var cc=k.get("pageFormatter");var e=i.pageIndex;var Z=e!=null?e+1:0;var m=i.pageCount;v&&cc&&v.setStyle("text",vi(cc)?cc.replace("{current}",Z).replace("{total}",m):cc({current:Z,total:m}))},_getPageInfo:function(i){var Ha=i.get("scrollDataIndex",true);var G4=this.getContentGroup();var Hb=G4.getBoundingRect();var e=this._containerGroup.__rectSize;var G6=i.getOrient().index;var v2=dA[G6];var Hf=dA[1-G6];var cc=cN[G6];var G5=G4.position.slice();var G8;var G7;var k;var Hc;if(this._showController){G4.eachChild(function(Hh){if(Hh.__legendDataIndex===Ha){Hc=Hh}})}else{Hc=G4.childAt(0)}var G9=e?Math.ceil(Hb[v2]/e):0;if(Hc){var Hg=Hc.getBoundingRect();var v1=Hc.position[G6]+Hg[cc];G5[G6]=-v1-Hb[cc];G8=Math.floor(G9*(v1+Hg[cc]+e/2)/Hb[v2]);G8=(Hb[v2]&&G9)?Math.max(0,Math.min(G9-1,G8)):-1;var He={x:0,y:0};He[v2]=e;He[Hf]=Hb[Hf];He[cc]=-G5[G6]-Hb[cc];var Z;var v=G4.children();G4.eachChild(function(Hj,Hh){var Hi=Hd(Hj);if(Hi.intersect(He)){Z==null&&(Z=Hh);k=Hj.__legendDataIndex}if(Hh===v.length-1&&Hi[cc]+Hi[v2]<=He[cc]+He[v2]){k=null}});if(Z!=null){var m=v[Z];var v3=Hd(m);He[cc]=v3[cc]+v3[v2]-He[v2];if(Z<=0&&v3[cc]>=He[cc]){G7=null}else{while(Z>0&&Hd(v[Z-1]).intersect(He)){Z--}G7=v[Z].__legendDataIndex}}}return{contentPosition:G5,pageIndex:G8,pageCount:G9,pagePrevDataIndex:G7,pageNextDataIndex:k};function Hd(Hh){var Hi=Hh.getBoundingRect().clone();Hi[cc]+=Hh.position[G6];return Hi}}});bZ("legendScroll","legendscroll",function(k,e){var i=k.scrollDataIndex;i!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:k},function(m){m.setScrollDataIndex(i)})});pk({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",confine:false,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var s0=ow;var iF=qq;var pD=["","-webkit-","-moz-","-o-"];var bx="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function mg(k){var i="cubic-bezier(0.23, 1, 0.32, 1)";var e="left "+k+"s "+i+",top "+k+"s "+i;return De(pD,function(m){return m+"transition:"+e}).join(";")}function AI(i){var k=[];var m=i.get("fontSize");var e=i.getTextColor();e&&k.push("color:"+e);k.push("font:"+i.getFont());m&&k.push("line-height:"+Math.round(m*3/2)+"px");s0(["decoration","align"],function(v){var Z=i.get(v);Z&&k.push("text-"+v+":"+Z)});return k.join(";")}function mA(v){var m=[];var e=v.get("transitionDuration");var i=v.get("backgroundColor");var k=v.getModel("textStyle");var Z=v.get("padding");e&&m.push(mg(e));if(i){if(r6.canvasSupported){m.push("background-Color:"+i)}else{m.push("background-Color:#"+yp(i));m.push("filter:alpha(opacity=70)")}}s0(["width","color","radius"],function(v1){var cc="border-"+v1;var v2=iF(cc);var v3=v.get(v2);v3!=null&&m.push(cc+":"+v3+(v1==="color"?"":"px"))});m.push(AI(k));if(Z!=null){m.push("padding:"+An(Z).join("px ")+"px")}return m.join(";")+";"}function r(e,m){if(r6.wxa){return null}var k=document.createElement("div");var v=this._zr=m.getZr();this.el=k;this._x=m.getWidth()/2;this._y=m.getHeight()/2;e.appendChild(k);this._container=e;this._show=false;this._hideTimeout;var i=this;k.onmouseenter=function(){if(i._enterable){clearTimeout(i._hideTimeout);i._show=true}i._inContent=true};k.onmousemove=function(cc){cc=cc||window.event;if(!i._enterable){var Z=v.handler;Ag(e,cc,true);Z.dispatch("mousemove",cc)}};k.onmouseleave=function(){if(i._enterable){if(i._show){i.hideLater(i._hideDelay)}}i._inContent=false}}r.prototype={constructor:r,_enterable:true,update:function(){var e=this._container;var k=e.currentStyle||document.defaultView.getComputedStyle(e);var i=e.style;if(i.position!=="absolute"&&k.position!=="absolute"){i.position="relative"}},show:function(i){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=bx+mA(i)+";left:"+this._x+"px;top:"+this._y+"px;"+(i.get("extraCssText")||"");e.style.display=e.innerHTML?"block":"none";this._show=true},setContent:function(e){this.el.innerHTML=e==null?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,v){var m=this._zr;var i;if(m&&m.painter&&(i=m.painter.getViewportRootOffset())){e+=i.offsetLeft;v+=i.offsetTop}var k=this.el.style;k.left=e+"px";k.top=v+"px";this._x=e;this._y=v},hide:function(){this.el.style.display="none";this._show=false},hideLater:function(e){if(this._show&&!(this._inContent&&this._enterable)){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(j0(this.hide,this),e)}else{this.hide()}}},isShow:function(){return this._show}};var oU=j0;var s1=ow;var yR=yW;var aN=new DD({shape:{x:-1,y:-1,width:2,height:2}});pO({type:"tooltip",init:function(e,i){if(r6.node){return}var k=new r(i.getDom(),i);this._tooltipContent=k},render:function(k,e,i){if(r6.node||r6.wxa){return}this.group.removeAll();this._tooltipModel=k;this._ecModel=e;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=k.get("alwaysShowContent");var m=this._tooltipContent;m.update();m.setEnterable(k.get("enterable"));this._initGlobalListener();this._keepShow()},_initGlobalListener:function(){var i=this._tooltipModel;var e=i.get("triggerOn");u6("itemTooltip",this._api,oU(function(v,m,k){if(e!=="none"){if(e.indexOf(v)>=0){this._tryShow(m,k)}else{if(v==="leave"){this._hide(k)}}}},this))},_keepShow:function(){var m=this._tooltipModel;var e=this._ecModel;var k=this._api;if(this._lastX!=null&&this._lastY!=null&&m.get("triggerOn")!=="none"){var i=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(m,e,k,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(v2,v,Z,v1){if(v1.from===this.uid||r6.node){return}var m=AA(v1,Z);this._ticket="";var v3=v1.dataByCoordSys;if(v1.tooltip&&v1.x!=null&&v1.y!=null){var e=aN;e.position=[v1.x,v1.y];e.update();e.tooltip=v1.tooltip;this._tryShow({offsetX:v1.x,offsetY:v1.y,target:e},m)}else{if(v3){this._tryShow({offsetX:v1.x,offsetY:v1.y,position:v1.position,event:{},dataByCoordSys:v1.dataByCoordSys,tooltipOption:v1.tooltipOption},m)}else{if(v1.seriesIndex!=null){if(this._manuallyAxisShowTip(v2,v,Z,v1)){return}var cc=tu(v1,v);var k=cc.point[0];var i=cc.point[1];if(k!=null&&i!=null){this._tryShow({offsetX:k,offsetY:i,position:v1.position,target:cc.el,event:{}},m)}}else{if(v1.x!=null&&v1.y!=null){Z.dispatchAction({type:"updateAxisPointer",x:v1.x,y:v1.y});this._tryShow({offsetX:v1.x,offsetY:v1.y,position:v1.position,target:Z.getZr().findHover(v1.x,v1.y).target,event:{}},m)}}}}},manuallyHideTip:function(k,e,i,v){var m=this._tooltipContent;if(!this._alwaysShowContent&&this._tooltipModel){m.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=null;if(v.from!==this.uid){this._hide(AA(v,i))}},_manuallyAxisShowTip:function(v2,v,Z,v1){var k=v1.seriesIndex;var cc=v1.dataIndex;var e=v.getComponent("axisPointer").coordSysAxesInfo;if(k==null||cc==null||e==null){return}var i=v.getSeriesByIndex(k);if(!i){return}var m=i.getData();var v2=Cg([m.getItemModel(cc),i,(i.coordinateSystem||{}).model,v2]);if(v2.get("trigger")!=="axis"){return}Z.dispatchAction({type:"updateAxisPointer",seriesIndex:k,dataIndex:cc,position:v1.position});return true},_tryShow:function(Z,v){var k=Z.target;var i=this._tooltipModel;if(!i){return}this._lastX=Z.offsetX;this._lastY=Z.offsetY;var m=Z.dataByCoordSys;if(m&&m.length){this._showAxisTooltip(m,Z)}else{if(k&&k.dataIndex!=null){this._lastDataByCoordSys=null;this._showSeriesItemTooltip(Z,k,v)}else{if(k&&k.tooltip){this._lastDataByCoordSys=null;this._showComponentItemTooltip(Z,k,v)}else{this._lastDataByCoordSys=null;this._hide(v)}}}},_showOrMove:function(k,e){var i=k.get("showDelay");e=j0(e,this);clearTimeout(this._showTimout);i>0?(this._showTimout=setTimeout(e,i)):e()},_showAxisTooltip:function(v1,m){var k=this._ecModel;var v3=this._tooltipModel;var cc=[m.offsetX,m.offsetY];var i=[];var Z=[];var v2=Cg([m.tooltipOption,v3]);s1(v1,function(e){s1(e.dataByAxis,function(G7){var G6=k.getComponent(G7.axisDim+"Axis",G7.axisIndex);var G8=G7.value;var G5=[];if(!G6||G8==null){return}var G9=rR(G8,G6.axis,k,G7.seriesDataIndices,G7.valueLabelOpt);ow(G7.seriesDataIndices,function(Hd){var Hc=k.getSeriesByIndex(Hd.seriesIndex);var Hb=Hd.dataIndexInside;var Ha=Hc&&Hc.getDataParams(Hb);Ha.axisDim=G7.axisDim;Ha.axisIndex=G7.axisIndex;Ha.axisType=G7.axisType;Ha.axisId=G7.axisId;Ha.axisValue=nm(G6.axis,G8);Ha.axisValueLabel=G9;if(Ha){Z.push(Ha);G5.push(Hc.formatTooltip(Hb,true))}});var G4=G9;i.push((G4?l3(G4)+"<br />":"")+G5.join("<br />"))})},this);i.reverse();i=i.join("<br /><br />");var v=m.position;this._showOrMove(v2,function(){if(this._updateContentNotChangedOnAxis(v1)){this._updatePosition(v2,v,cc[0],cc[1],this._tooltipContent,Z)}else{this._showTooltipContent(v2,i,Z,Math.random(),cc[0],cc[1],v)}})},_showSeriesItemTooltip:function(v3,i,Z){var v2=this._ecModel;var cc=i.seriesIndex;var m=v2.getSeriesByIndex(cc);var G4=i.dataModel||m;var G7=i.dataIndex;var G6=i.dataType;var v1=G4.getData();var G8=Cg([v1.getItemModel(G7),G4,m&&(m.coordinateSystem||{}).model,this._tooltipModel]);var G5=G8.get("trigger");if(G5!=null&&G5!=="item"){return}var v=G4.getDataParams(G7,G6);var k=G4.formatTooltip(G7,false,G6);var G9="item_"+G4.name+"_"+G7;this._showOrMove(G8,function(){this._showTooltipContent(G8,k,v,G9,v3.offsetX,v3.offsetY,v3.position,v3.target)});Z({type:"showTip",dataIndexInside:G7,dataIndex:v1.getRawIndex(G7),seriesIndex:cc,from:this.uid})},_showComponentItemTooltip:function(v1,k,cc){var i=k.tooltip;if(typeof i==="string"){var v=i;i={content:v,formatter:v}}var Z=new fg(i,this._tooltipModel,this._ecModel);var v2=Z.get("content");var m=Math.random();this._showOrMove(Z,function(){this._showTooltipContent(Z,v2,Z.get("formatterParams")||{},m,v1.offsetX,v1.offsetY,v1.position,k)});cc({type:"showTip",from:this.uid})},_showTooltipContent:function(v2,i,k,G5,cc,Z,v,e){this._ticket="";if(!v2.get("showContent")||!v2.get("show")){return}var v3=this._tooltipContent;var v1=v2.get("formatter");v=v||v2.get("position");var m=i;if(v1&&typeof v1==="string"){m=en(v1,k,true)}else{if(typeof v1==="function"){var G4=oU(function(G7,G6){if(G7===this._ticket){v3.setContent(G6);this._updatePosition(v2,v,cc,Z,v3,k,e)}},this);this._ticket=G5;m=v1(k,G5,G4)}}v3.setContent(m);v3.show(v2);this._updatePosition(v2,v,cc,Z,v3,k,e)},_updatePosition:function(G8,v2,G6,G5,v1,m,i){var v=this._api.getWidth();var k=this._api.getHeight();v2=v2||G8.get("position");var e=v1.getSize();var cc=G8.get("align");var Z=G8.get("verticalAlign");var G4=i&&i.getBoundingRect().clone();i&&G4.applyTransform(i.transform);if(typeof v2==="function"){v2=v2([G6,G5],m,v1.el,G4,{viewSize:[v,k],contentSize:e.slice()})}if(Fw(v2)){G6=yR(v2[0],v);G5=yR(v2[1],k)}else{if(sU(v2)){v2.width=e[0];v2.height=e[1];var G7=kx(v2,{width:v,height:k});G6=G7.x;G5=G7.y;cc=null;Z=null}else{if(typeof v2==="string"&&i){var v3=z(v2,G4,e);G6=v3[0];G5=v3[1]}else{var v3=dh(G6,G5,v1.el,v,k,cc?null:20,Z?null:20);G6=v3[0];G5=v3[1]}}}cc&&(G6-=B6(cc)?e[0]/2:cc==="right"?e[0]:0);Z&&(G5-=B6(Z)?e[1]/2:Z==="bottom"?e[1]:0);if(G8.get("confine")){var v3=mW(G6,G5,v1.el,v,k);G6=v3[0];G5=v3[1]}v1.moveTo(G6,G5)},_updateContentNotChangedOnAxis:function(k){var i=this._lastDataByCoordSys;var e=!!i&&i.length===k.length;e&&s1(i,function(cc,Z){var v=cc.dataByAxis||{};var m=k[Z]||{};var v1=m.dataByAxis||[];e&=v.length===v1.length;e&&s1(v,function(G6,v2){var G4=v1[v2]||{};var v3=G6.seriesDataIndices||[];var G5=G4.seriesDataIndices||[];e&=G6.value===G4.value&&G6.axisType===G4.axisType&&G6.axisId===G4.axisId&&v3.length===G5.length;e&&s1(v3,function(G8,G7){var G9=G5[G7];e&=G8.seriesIndex===G9.seriesIndex&&G8.dataIndex===G9.dataIndex})})});this._lastDataByCoordSys=k;return !!e},_hide:function(e){this._lastDataByCoordSys=null;e({type:"hideTip",from:this.uid})},dispose:function(e,i){if(r6.node){return}this._tooltipContent.hide();ae("itemTooltip",i)}});function Cg(k){var e=k.pop();while(k.length){var i=k.pop();if(i){if(fg.isInstance(i)){i=i.get("tooltip",true)}if(typeof i==="string"){i={formatter:i}}e=new fg(i,e,e.ecModel)}}return e}function AA(i,e){return i.dispatchAction||j0(e.dispatchAction,e)}function dh(v1,cc,k,v,m,i,Z){var v3=A9(k);var e=v3.width;var v2=v3.height;if(i!=null){if(v1+e+i>v){v1-=e+i}else{v1+=i}}if(Z!=null){if(cc+v2+Z>m){cc-=v2+Z}else{cc+=Z}}return[v1,cc]}function mW(i,v1,cc,Z,k){var m=A9(cc);var v=m.width;var e=m.height;i=Math.min(i+v,Z)-v;v1=Math.min(v1+e,k)-e;i=Math.max(i,0);v1=Math.max(v1,0);return[i,v1]}function A9(m){var k=m.clientWidth;var e=m.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(m);if(i){k+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10);e+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)}}return{width:k,height:e}}function z(m,v1,e){var v=e[0];var k=e[1];var v2=5;var v3=0;var cc=0;var i=v1.width;var Z=v1.height;switch(m){case"inside":v3=v1.x+i/2-v/2;cc=v1.y+Z/2-k/2;break;case"top":v3=v1.x+i/2-v/2;cc=v1.y-k-v2;break;case"bottom":v3=v1.x+i/2-v/2;cc=v1.y+Z+v2;break;case"left":v3=v1.x-v-v2;cc=v1.y+Z/2-k/2;break;case"right":v3=v1.x+i+v2;cc=v1.y+Z/2-k/2}return[v3,cc]}function B6(e){return e==="center"||e==="middle"}bZ({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});bZ({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});function oC(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function wO(e){return e.dim}function yd(k,i,v){var m=v.getWidth();var e=v.getHeight();var cc={};var Z=AX(qi(i.getSeriesByType(k),function(v1){return !i.isSeriesFiltered(v1)&&v1.coordinateSystem&&v1.coordinateSystem.type==="polar"}));i.eachSeriesByType(k,function(Hf){if(Hf.coordinateSystem.type!=="polar"){return}var Hu=Hf.getData();var Hv=Hf.coordinateSystem;var Ha=Hv.getBaseAxis();var G8=oC(Hf);var Hb=Z[wO(Ha)][G8];var G9=Hb.offset;var G7=Hb.width;var Hn=Hv.getOtherAxis(Ha);var Hr=Hf.get("center")||["50%","50%"];var v3=yW(Hr[0],m);var v2=yW(Hr[1],e);var v1=Hf.get("barMinHeight")||0;var Hi=Hf.get("barMinAngle")||0;cc[G8]=cc[G8]||[];var G4=Hu.mapDimension(Hn.dim);var He=Hu.mapDimension(Ha.dim);var Hp=lt(Hu,G4,He);var G6=Hn.getExtent()[0];for(var Hd=0,Hm=Hu.count();Hd<Hm;Hd++){var Hh=Hu.get(G4,Hd);var Hq=Hu.get(He,Hd);if(isNaN(Hh)){continue}var Ht=Hh>=0?"p":"n";var Hs=G6;if(Hp){if(!cc[G8][Hq]){cc[G8][Hq]={p:G6,n:G6}}Hs=cc[G8][Hq][Ht]}var Hl;var Hc;var Hj;var Hg;if(Hn.dim==="radius"){var Hk=Hn.dataToRadius(Hh)-G6;var Ho=Ha.dataToAngle(Hq);if(Math.abs(Hk)<v1){Hk=(Hk<0?-1:1)*v1}Hl=Hs;Hc=Hs+Hk;Hj=Ho-G9;Hg=Hj-G7;Hp&&(cc[G8][Hq][Ht]=Hc)}else{var Hw=Hn.dataToAngle(Hh,true)-G6;var G5=Ha.dataToRadius(Hq);if(Math.abs(Hw)<Hi){Hw=(Hw<0?-1:1)*Hi}Hl=G5+G9;Hc=Hl+G7;Hj=Hs;Hg=Hs+Hw;Hp&&(cc[G8][Hq][Ht]=Hg)}Hu.setItemLayout(Hd,{cx:v3,cy:v2,r0:Hl,r:Hc,startAngle:-Hj*Math.PI/180,endAngle:-Hg*Math.PI/180})}},this)}function AX(i,m){var k={};ow(i,function(G4,G9){var G7=G4.getData();var Z=G4.coordinateSystem;var v1=Z.getBaseAxis();var v3=v1.getExtent();var G6=v1.type==="category"?v1.getBandWidth():(Math.abs(v3[1]-v3[0])/G7.count());var Hb=k[wO(v1)]||{bandWidth:G6,remainedWidth:G6,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var cc=Hb.stacks;k[wO(v1)]=Hb;var G5=oC(G4);if(!cc[G5]){Hb.autoWidthCount++}cc[G5]=cc[G5]||{width:0,maxWidth:0};var Ha=yW(G4.get("barWidth"),G6);var v=yW(G4.get("barMaxWidth"),G6);var G8=G4.get("barGap");var v2=G4.get("barCategoryGap");if(Ha&&!cc[G5].width){Ha=Math.min(Hb.remainedWidth,Ha);cc[G5].width=Ha;Hb.remainedWidth-=Ha}v&&(cc[G5].maxWidth=v);(G8!=null)&&(Hb.gap=G8);(v2!=null)&&(Hb.categoryGap=v2)});var e={};ow(k,function(G9,cc){e[cc]={};var v=G9.stacks;var v2=G9.bandWidth;var Z=yW(G9.categoryGap,v2);var G6=yW(G9.gap,1);var v1=G9.remainedWidth;var G7=G9.autoWidthCount;var G5=(v1-Z)/(G7+(G7-1)*G6);G5=Math.max(G5,0);ow(v,function(Hb,Ha){var Hc=Hb.maxWidth;if(Hc&&Hc<G5){Hc=Math.min(Hc,v1);if(Hb.width){Hc=Math.min(Hc,Hb.width)}v1-=Hc;Hb.width=Hc;G7--}});G5=(v1-Z)/(G7+(G7-1)*G6);G5=Math.max(G5,0);var G4=0;var G8;ow(v,function(Hb,Ha){if(!Hb.width){Hb.width=G5}G8=Hb;G4+=Hb.width*(1+G6)});if(G8){G4-=G8.width*G6}var v3=-G4/2;ow(v,function(Hb,Ha){e[cc][Ha]=e[cc][Ha]||{offset:v3,width:Hb.width};v3+=Hb.width*(1+G6)})});return e}function hc(i,e){AV.call(this,"radius",i,e);this.type="category"}hc.prototype={constructor:hc,pointToData:function(e,i){return this.polar.pointToData(e,i)[this.dim==="radius"?0:1]},dataToRadius:AV.prototype.dataToCoord,radiusToData:AV.prototype.coordToData};lZ(hc,AV);function bb(i,e){e=e||[0,360];AV.call(this,"angle",i,e);this.type="category"}bb.prototype={constructor:bb,pointToData:function(e,i){return this.polar.pointToData(e,i)[this.dim==="radius"?0:1]},dataToAngle:AV.prototype.dataToCoord,angleToData:AV.prototype.coordToData};lZ(bb,AV);var ry=function(e){this.name=e||"";this.cx=0;this.cy=0;this._radiusAxis=new hc();this._angleAxis=new bb();this._radiusAxis.polar=this._angleAxis.polar=this};ry.prototype={type:"polar",axisPointerEnabled:true,constructor:ry,dimensions:["radius","angle"],model:null,containPoint:function(e){var i=this.pointToCoord(e);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var m=[];var i=this._angleAxis;var k=this._radiusAxis;i.scale.type===e&&m.push(i);k.scale.type===e&&m.push(k);return m},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var e=this._angleAxis;return i===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var e=(i!=null&&i!=="auto")?this.getAxis(i):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(e,i){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],i),this._angleAxis.dataToAngle(e[1],i)])},pointToData:function(e,i){var k=this.pointToCoord(e);return[this._radiusAxis.radiusToData(k[0],i),this._angleAxis.angleToData(k[1],i)]},pointToCoord:function(Z){var v3=Z[0]-this.cx;var v1=Z[1]-this.cy;var v2=this.getAngleAxis();var cc=v2.getExtent();var k=Math.min(cc[0],cc[1]);var e=Math.max(cc[0],cc[1]);v2.inverse?(k=e-360):(e=k+360);var m=Math.sqrt(v3*v3+v1*v1);v3/=m;v1/=m;var v=Math.atan2(-v1,v3)/Math.PI*180;var i=v<k?1:-1;while(v<k||v>e){v+=i*360}return[m,v]},coordToPoint:function(v){var i=v[0];var k=v[1]/180*Math.PI;var e=Math.cos(k)*i+this.cx;var m=-Math.sin(k)*i+this.cy;return[e,m]}};var ap=aI.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});vb(ap.prototype,m4);var df={angle:{startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:false}},radius:{splitNumber:5}};function rn(i,e){return e.type||(e.data?"category":"value")}mn("angle",ap,rn,df.angle);mn("radius",ap,rn,df.radius);pk({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(i){var k;var e=this.ecModel;e.eachComponent(i,function(m){if(m.getCoordSysModel()===this){k=m}},this);return k},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});function vB(i,v,cc){var e=v.get("center");var k=cc.getWidth();var v1=cc.getHeight();i.cx=yW(e[0],k);i.cy=yW(e[1],v1);var m=i.getRadiusAxis();var v2=Math.min(k,v1)/2;var Z=yW(v.get("radius"),v2);m.inverse?m.setExtent(Z,0):m.setExtent(0,Z)}function Bj(e,m){var cc=this;var i=cc.getAngleAxis();var v=cc.getRadiusAxis();i.scale.setExtent(Infinity,-Infinity);v.scale.setExtent(Infinity,-Infinity);e.eachSeries(function(v1){if(v1.coordinateSystem===cc){var v2=v1.getData();ow(v2.mapDimension("radius",true),function(v3){v.scale.unionExtentFromData(v2,v3)});ow(v2.mapDimension("angle",true),function(v3){i.scale.unionExtentFromData(v2,v3)})}});ne(i.scale,i.model);ne(v.scale,v.model);if(i.type==="category"&&!i.onBand){var k=i.getExtent();var Z=360/i.scale.count();i.inverse?(k[1]+=Z):(k[1]-=Z);i.setExtent(k[0],k[1])}}function ml(k,i){k.type=i.get("type");k.scale=mT(i);k.onBand=i.get("boundaryGap")&&k.type==="category";k.inverse=i.get("inverse");if(i.mainType==="angleAxis"){k.inverse^=i.get("clockwise");var e=i.get("startAngle");k.setExtent(e,e+(k.inverse?-360:360))}i.axis=k;k.model=i}var wd={dimensions:ry.prototype.dimensions,create:function(e,i){var k=[];e.eachComponent("polar",function(cc,m){var v3=new ry(m);v3.update=Bj;var v2=v3.getRadiusAxis();var Z=v3.getAngleAxis();var v1=cc.findAxisModel("radiusAxis");var v=cc.findAxisModel("angleAxis");ml(v2,v1);ml(Z,v);vB(v3,cc,i);k.push(v3);cc.coordinateSystem=v3;v3.model=cc});e.eachSeries(function(m){if(m.get("coordinateSystem")==="polar"){var v=e.queryComponents({mainType:"polar",index:m.get("polarIndex"),id:m.get("polarId")})[0];if(nK){if(!v){throw new Error('Polar "'+gg(m.get("polarIndex"),m.get("polarId"),0)+'" not found')}}m.coordinateSystem=v.coordinateSystem}});return k}};fk.register("polar",wd);var BY=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function cF(k,i,m){i[1]>i[0]&&(i=i.slice().reverse());var v=k.coordToPoint([i[0],m]);var e=k.coordToPoint([i[1],m]);return{x1:v[0],y1:v[1],x2:e[0],y2:e[1]}}function xv(i){var e=i.getRadiusAxis();return e.inverse?0:1}fO.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(m,e){this.group.removeAll();if(!m.get("show")){return}var k=m.axis;var Z=k.polar;var v=Z.getRadiusAxis().getExtent();var i=k.getTicksCoords();if(k.type!=="category"){i.pop()}ow(BY,function(cc){if(m.get(cc+".show")&&(!k.scale.isBlank()||cc==="axisLine")){this["_"+cc](m,Z,i,v)}},this)},_axisLine:function(i,Z,e,v){var m=i.getModel("axisLine.lineStyle");var k=new Fx({shape:{cx:Z.cx,cy:Z.cy,r:v[xv(Z)]},style:m.getLineStyle(),z2:1,silent:true});k.style.fill=null;this.group.add(k)},_axisTick:function(m,Z,k,v){var cc=m.getModel("axisTick");var v1=(cc.get("inside")?-1:1)*cc.get("length");var e=v[xv(Z)];var i=De(k,function(v2){return new yK({shape:cF(Z,[e,e+v1],v2)})});this.group.add(qm(i,{style:Ch(cc.getModel("lineStyle").getLineStyle(),{stroke:m.get("axisLine.lineStyle.color")})}))},_axisLabel:function(G4,Hc,v3,v){var m=G4.axis;var v2=G4.getCategories();var v1=G4.getModel("axisLabel");var Hb=G4.getFormattedLabels();var e=v1.get("margin");var G6=m.getLabelsCoords();for(var G9=0;G9<v3.length;G9++){var G5=v[xv(Hc)];var G7=Hc.coordToPoint([G5+e,G6[G9]]);var Z=Hc.cx;var k=Hc.cy;var G8=Math.abs(G7[0]-Z)/G5<0.3?"center":(G7[0]>Z?"left":"right");var cc=Math.abs(G7[1]-k)/G5<0.3?"middle":(G7[1]>k?"top":"bottom");if(v2&&v2[G9]&&v2[G9].textStyle){v1=new fg(v2[G9].textStyle,v1,v1.ecModel)}var Ha=new iC({silent:true});this.group.add(Ha);oB(Ha.style,v1,{x:G7[0],y:G7[1],textFill:v1.getTextColor()||G4.get("axisLine.lineStyle.color"),text:Hb[G9],textAlign:G8,textVerticalAlign:cc})}},_splitLine:function(k,e,v1,Z){var m=k.getModel("splitLine");var v2=m.getModel("lineStyle");var G4=v2.get("color");var G5=0;G4=G4 instanceof Array?G4:[G4];var cc=[];for(var v=0;v<v1.length;v++){var v3=(G5++)%G4.length;cc[v3]=cc[v3]||[];cc[v3].push(new yK({shape:cF(e,Z,v1[v])}))}for(var v=0;v<cc.length;v++){this.group.add(qm(cc[v],{style:Ch({stroke:G4[v%G4.length]},v2.getLineStyle()),silent:true,z:k.get("z")}))}},_splitArea:function(v,m,G4,v2){var G6=v.getModel("splitArea");var G8=G6.getModel("areaStyle");var G9=G8.get("color");var Ha=0;G9=G9 instanceof Array?G9:[G9];var v3=[];var G5=Math.PI/180;var e=-G4[0]*G5;var cc=Math.min(v2[0],v2[1]);var Z=Math.max(v2[0],v2[1]);var k=v.get("clockwise");for(var v1=1;v1<G4.length;v1++){var G7=(Ha++)%G9.length;v3[G7]=v3[G7]||[];v3[G7].push(new sI({shape:{cx:m.cx,cy:m.cy,r0:cc,r:Z,startAngle:e,endAngle:-G4[v1]*G5,clockwise:k},silent:true}));e=-G4[v1]*G5}for(var v1=0;v1<v3.length;v1++){this.group.add(qm(v3[v1],{style:Ch({fill:G9[v1%G9.length]},G8.getAreaStyle()),silent:true}))}}});var DL=["axisLine","axisTickLabel","axisName"];var ii=["splitLine","splitArea"];fO.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(v1,v){this.group.removeAll();if(!v1.get("show")){return}var i=v1.axis;var e=i.polar;var v3=e.getAngleAxis();var v2=i.getTicksCoords();var cc=v3.getExtent()[0];var k=i.getExtent();var m=kS(e,v1,cc);var Z=new c3(v1,m);ow(DL,Z.add,Z);this.group.add(Z.getGroup());ow(ii,function(G4){if(v1.get(G4+".show")&&!i.scale.isBlank()){this["_"+G4](v1,e,cc,k,v2)}},this)},_splitLine:function(v1,e,cc,v,v3){var k=v1.getModel("splitLine");var v2=k.getModel("lineStyle");var G6=v2.get("color");var G5=0;G6=G6 instanceof Array?G6:[G6];var Z=[];for(var m=0;m<v3.length;m++){var G4=(G5++)%G6.length;Z[G4]=Z[G4]||[];Z[G4].push(new Fx({shape:{cx:e.cx,cy:e.cy,r:v3[m]},silent:true}))}for(var m=0;m<Z.length;m++){this.group.add(qm(Z[m],{style:Ch({stroke:G6[m%G6.length],fill:null},v2.getLineStyle()),silent:true}))}},_splitArea:function(cc,e,Z,m,v2){var v1=cc.getModel("splitArea");var G4=v1.getModel("areaStyle");var G6=G4.get("color");var G7=0;G6=G6 instanceof Array?G6:[G6];var v=[];var G5=v2[0];for(var k=1;k<v2.length;k++){var v3=(G7++)%G6.length;v[v3]=v[v3]||[];v[v3].push(new sI({shape:{cx:e.cx,cy:e.cy,r0:G5,r:v2[k],startAngle:0,endAngle:Math.PI*2},silent:true}));G5=v2[k]}for(var k=0;k<v.length;k++){this.group.add(qm(v[k],{style:Ch({fill:G6[k%G6.length]},G4.getAreaStyle()),silent:true}))}}});function kS(i,e,k){return{position:[i.cx,i.cy],rotation:k/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var dQ=Fd.extend({makeElOption:function(e,G4,G6,v1,cc){var m=G6.axis;if(m.dim==="angle"){this.animationThreshold=Math.PI/18}var i=m.polar;var v=i.getOtherAxis(m);var Z=v.getExtent();var G8;G8=m["dataTo"+sr(m.dim)](G4);var v3=v1.get("type");if(v3&&v3!=="none"){var G5=ye(v1);var G7=q8[v3](m,i,G8,Z,G5);G7.style=G5;e.graphicKey=G7.type;e.pointer=G7}var v2=v1.get("label.margin");var k=mv(G4,G6,v1,i,v2);Ei(e,G6,v1,cc,k)}});function mv(G6,v3,v,Hb,k){var Z=v3.axis;var G7=Z.dataToCoord(G6);var e=Hb.getAngleAxis().getExtent()[0];e=e/180*Math.PI;var cc=Hb.getRadiusAxis().getExtent();var Ha;var G8;var i;if(Z.dim==="radius"){var G4=BF();jW(G4,G4,e);uy(G4,G4,[Hb.cx,Hb.cy]);Ha=ve([G7,-k],G4);var G9=v3.getModel("axisLabel").get("rotate")||0;var v2=c3.innerTextLayout(e,G9*Math.PI/180,-1);G8=v2.textAlign;i=v2.textVerticalAlign}else{var G5=cc[1];Ha=Hb.coordToPoint([G5+k,G7]);var v1=Hb.cx;var m=Hb.cy;G8=Math.abs(Ha[0]-v1)/G5<0.3?"center":(Ha[0]>v1?"left":"right");i=Math.abs(Ha[1]-m)/G5<0.3?"middle":(Ha[1]>m?"top":"bottom")}return{position:Ha,align:G8,verticalAlign:i}}var q8={line:function(k,m,e,v,i){return k.dim==="angle"?{type:"Line",shape:Fu(m.coordToPoint([v[0],e]),m.coordToPoint([v[1],e]))}:{type:"Circle",shape:{cx:m.cx,cy:m.cy,r:e}}},shadow:function(m,v,i,cc,k){var e=m.getBandWidth();var Z=Math.PI/180;return m.dim==="angle"?{type:"Sector",shape:j1(v.cx,v.cy,cc[0],cc[1],(-i-e/2)*Z,(-i+e/2)*Z)}:{type:"Sector",shape:j1(v.cx,v.cy,i-e/2,i+e/2,0,Math.PI*2)}}};fO.registerAxisPointerClass("PolarAxisPointer",dQ);oM(rH(yd,"bar"));pO({type:"polar"});var xc=aI.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){aI.prototype.init.apply(this,arguments);CB(e,"label",["show"])},optionUpdated:function(){var i=this.option;var e=this;i.regions=hM.getFilledRegions(i.regions,i.map,i.nameMap);this._optionModelMap=wm(i.regions||[],function(m,k){if(k.name){m.set(k.name,new fg(k,e))}return m},BN());this.updateSelectedMap(i.regions)},defaultOption:{zlevel:0,z:0,show:true,left:"center",top:"center",aspectScale:0.75,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new fg(null,this,this.ecModel)},getFormattedLabel:function(i,e){var m=this.getRegionModel(i);var k=m.get("label."+e+".formatter");var v={name:i};if(typeof k==="function"){v.status=e;return k(v)}else{if(typeof k==="string"){return k.replace("{a}",i!=null?i:"")}}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});Ff(xc,DQ);pO({type:"geo",init:function(e,k){var i=new Bp(k,true);this._mapDraw=i;this.group.add(i.group)},render:function(k,e,m,v){if(v&&v.type==="geoToggleSelect"&&v.from===this.uid){return}var i=this._mapDraw;if(k.get("show")){i.draw(k,e,m,this,v)}else{this._mapDraw.group.removeAll()}this.group.silent=k.get("silent")},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});function By(i,e){e.update="updateView";bZ(e,function(v,k){var m={};k.eachComponent({mainType:"geo",query:v},function(Z){Z[i](v.name);var cc=Z.coordinateSystem;ow(cc.regions,function(v1){m[v1.name]=Z.isSelected(v1.name)||false})});return{selected:m,name:v.name}})}By("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});By("select",{type:"geoSelect",event:"geoselected"});By("unSelect",{type:"geoUnSelect",event:"geounselected"});var uo=["rect","polygon","keep","clear"];var GL=function(v,e){var m=v&&v.brush;if(!Fw(m)){m=m?[m]:[]}if(!m.length){return}var i=[];ow(m,function(v3){var v2=v3.hasOwnProperty("toolbox")?v3.toolbox:[];if(v2 instanceof Array){i=i.concat(v2)}});var Z=v&&v.toolbox;if(Fw(Z)){Z=Z[0]}if(!Z){Z={feature:{}};v.toolbox=[Z]}var cc=(Z.feature||(Z.feature={}));var v1=cc.brush||(cc.brush={});var k=v1.type||(v1.type=[]);k.push.apply(k,i);kR(k);if(e&&!k.length){k.push.apply(k,uo)}};function kR(e){var i={};ow(e,function(k){i[k]=1});e.length=0;ow(i,function(k,m){e.push(m)})}var sH=ow;function qr(i){if(i){for(var e in i){if(i.hasOwnProperty(e)){return true}}}}function zj(k,e,m){var i={};sH(e,function(Z){var cc=i[Z]=v();sH(k[Z],function(v3,v2){if(!me.isValidType(v2)){return}var v1={type:v2,visual:v3};m&&m(v1,Z);cc[v2]=new me(v1);if(v2==="opacity"){v1=B8(v1);v1.type="colorAlpha";cc.__hidden.__alphaForOpacity=new me(v1)}})});return i;function v(){var Z=function(){};Z.prototype.__hidden=Z.prototype;var cc=new Z();return cc}}function mF(i,m,k){var e;ow(k,function(v){if(m.hasOwnProperty(v)&&qr(m[v])){e=true}});e&&ow(k,function(v){if(m.hasOwnProperty(v)&&qr(m[v])){i[v]=B8(m[v])}else{delete i[v]}})}function dn(m,Z,k,v1,G4,i){var v={};ow(m,function(G6){var G5=me.prepareVisualTypes(Z[G6]);v[G6]=G5});var v2;function cc(G5){return k.getItemVisual(v2,G5)}function v3(G5,G6){k.setItemVisual(v2,G5,G6)}if(i==null){k.each(e)}else{k.each([i],e)}function e(G5,Hb){v2=i==null?G5:Hb;var G8=k.getRawDataItem(v2);if(G8&&G8.visualMap===false){return}var G7=v1.call(G4,G5);var Ha=Z[G7];var G6=v[G7];for(var G9=0,Hc=G6.length;G9<Hc;G9++){var Hd=G6[G9];Ha[Hd]&&Ha[Hd].applyVisual(G5,cc,v3)}}}function kX(e,i,Z,v){var m={};ow(e,function(v1){var cc=me.prepareVisualTypes(i[v1]);m[v1]=cc});function k(v2,G5){if(v!=null){v=G5.getDimension(v)}function G8(Hd){return G5.getItemVisual(Ha,Hd)}function Hb(Hd,He){G5.setItemVisual(Ha,Hd,He)}for(var Ha=v2.start;Ha<v2.end;Ha++){var v3=G5.getRawDataItem(Ha);if(v3&&v3.visualMap===false){return}var Hc=v!=null?G5.get(v,Ha,true):Ha;var v1=Z(Hc);var G6=i[v1];var cc=m[v1];for(var G4=0,G7=cc.length;G4<G7;G4++){var G9=cc[G4];G6[G9]&&G6[G9].applyVisual(Hc,G8,Hb)}}}return{progress:k}}var ax={lineX:sR(0),lineY:sR(1),rect:{point:function(i,e,k){return i&&k.boundingRect.contain(i[0],i[1])},rect:function(i,e,k){return i&&k.boundingRect.intersect(i)}},polygon:{point:function(i,e,k){return i&&k.boundingRect.contain(i[0],i[1])&&DJ(k.range,i[0],i[1])},rect:function(v1,cc,i){var Z=i.range;if(!v1||Z.length<=1){return false}var v=v1.x;var m=v1.y;var k=v1.width;var v2=v1.height;var e=Z[0];if(DJ(Z,v,m)||DJ(Z,v+k,m)||DJ(Z,v,m+v2)||DJ(Z,v+k,m+v2)||BM.create(v1).contain(e[0],e[1])||sc(v,m,v+k,m,Z)||sc(v,m,v,m+v2,Z)||sc(v+k,m,v+k,m+v2,Z)||sc(v,m+v2,v+k,m+v2,Z)){return true}}}};function sR(k){var i=["x","y"];var e=["width","height"];return{point:function(Z,v,cc){if(Z){var m=cc.range;var v1=Z[k];return et(v1,m)}},rect:function(Z,v,cc){if(Z){var m=cc.range;var v1=[Z[i[k]],Z[i[k]]+Z[e[k]]];v1[1]<v1[0]&&v1.reverse();return et(v1[0],m)||et(v1[1],m)||et(m[0],v1)||et(m[1],v1)}}}}function et(i,e){return e[0]<=i&&i<=e[1]}function sc(v,m,v2,v1,k){for(var e=0,cc=k[k.length-1];e<k.length;e++){var Z=k[e];if(dk(v,m,v2,v1,Z[0],Z[1],cc[0],cc[1])){return true}cc=Z}}function dk(v2,v1,v,m,e,G4,cc,Z){var v3=up(v-v2,e-cc,m-v1,G4-Z);if(bU(v3)){return false}var k=up(e-v2,e-cc,G4-v1,G4-Z)/v3;if(k<0||k>1){return false}var i=up(v-v2,e-v2,m-v1,G4-v1)/v3;if(i<0||i>1){return false}return true}function bU(e){return e<=(0.000001)&&e>=-(0.000001)}function up(m,k,i,e){return m*e-k*i}var sG=ow;var ia=eB;var tr=rH;var nj=["dataToPoint","pointToData"];var Ca=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function Cp(v,e,m){var i=this._targetInfoList=[];var Z={};var k=yB(e,v);sG(Gm,function(cc,v1){if(!m||!m.include||ia(m.include,v1)>=0){cc(k,i,Z)}})}var cb=Cp.prototype;cb.setOutputRanges=function(i,e){this.matchOutputRanges(i,e,function(v,Z,m){(v.coordRanges||(v.coordRanges=[])).push(Z);if(!v.coordRange){v.coordRange=Z;var k=u0[v.brushType](0,m,Z);v.__rangeOffset={offset:sP[v.brushType](k.values,v.range,[1,1]),xyMinMax:k.xyMinMax}}})};cb.matchOutputRanges=function(k,i,e){sG(k,function(m){var v=this.findTargetInfo(m,i);if(v&&v!==true){ow(v.coordSyses,function(cc){var Z=u0[m.brushType](1,cc,m.range);e(m,Z.values,cc,i)})}},this)};cb.setInputRanges=function(i,e){sG(i,function(m){var Z=this.findTargetInfo(m,e);if(nK){bK(!Z||Z===true||m.coordRange,"coordRange must be specified when coord index specified.");bK(!Z||Z!==true||m.range,"range must be specified in global brush.")}m.range=m.range||[];if(Z&&Z!==true){m.panelId=Z.panelId;var k=u0[m.brushType](0,Z.coordSys,m.coordRange);var v=m.__rangeOffset;m.range=v?sP[m.brushType](k.values,v.offset,Di(k.xyMinMax,v.xyMinMax)):k.values}},this)};cb.makePanelOpts=function(i,e){return De(this._targetInfoList,function(m){var k=m.getPanelRect();return{panelId:m.panelId,defaultBrushType:e&&e(m),clipPath:Ea(k),isTargetByCursor:p0(k,i,m.coordSysModel),getLinearBrushOtherExtent:uK(k)}})};cb.controlSeries=function(k,i,e){var m=this.findTargetInfo(k,e);return m===true||(m&&ia(m.coordSyses,i.coordinateSystem)>=0)};cb.findTargetInfo=function(cc,e){var k=this._targetInfoList;var m=yB(e,cc);for(var Z=0;Z<k.length;Z++){var v1=k[Z];var v=cc.panelId;if(v){if(v1.panelId===v){return v1}}else{for(var Z=0;Z<xD.length;Z++){if(xD[Z](m,v1)){return v1}}}}return true};function kU(e){e[0]>e[1]&&e.reverse();return e}function yB(e,i){return m8(e,i,{includeMainTypes:Ca})}var Gm={grid:function(i,e){var k=i.xAxisModels;var v1=i.yAxisModels;var Z=i.gridModels;var cc=BN();var v={};var m={};if(!k&&!v1&&!Z){return}sG(k,function(v2){var v3=v2.axis.grid.model;cc.set(v3.id,v3);v[v3.id]=true});sG(v1,function(v2){var v3=v2.axis.grid.model;cc.set(v3.id,v3);m[v3.id]=true});sG(Z,function(v2){cc.set(v2.id,v2);v[v2.id]=true;m[v2.id]=true});cc.each(function(G4){var v2=G4.coordinateSystem;var v3=[];sG(v2.getCartesians(),function(G6,G5){if(ia(k,G6.getAxis("x").model)>=0||ia(v1,G6.getAxis("y").model)>=0){v3.push(G6)}});e.push({panelId:"grid--"+G4.id,gridModel:G4,coordSysModel:G4,coordSys:v3[0],coordSyses:v3,getPanelRect:nN.grid,xAxisDeclared:v[G4.id],yAxisDeclared:m[G4.id]})})},geo:function(i,e){sG(i.geoModels,function(k){var m=k.coordinateSystem;e.push({panelId:"geo--"+k.id,geoModel:k,coordSysModel:k,coordSys:m,coordSyses:[m],getPanelRect:nN.geo})})}};var xD=[function(i,v){var e=i.xAxisModel;var k=i.yAxisModel;var m=i.gridModel;!m&&e&&(m=e.axis.grid.model);!m&&k&&(m=k.axis.grid.model);return m&&m===v.gridModel},function(i,k){var e=i.geoModel;return e&&e===k.geoModel}];var nN={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys;var i=e.getBoundingRect().clone();i.applyTransform(aJ(e));return i}};var u0={lineX:tr(j7,0),lineY:tr(j7,1),rect:function(Z,i,v){var m=i[nj[Z]]([v[0][0],v[1][0]]);var k=i[nj[Z]]([v[0][1],v[1][1]]);var e=[kU([m[0],k[0]]),kU([m[1],k[1]])];return{values:e,xyMinMax:e}},polygon:function(v,k,m){var e=[[Infinity,-Infinity],[Infinity,-Infinity]];var i=De(m,function(Z){var cc=k[nj[v]](Z);e[0][0]=Math.min(e[0][0],cc[0]);e[1][0]=Math.min(e[1][0],cc[1]);e[0][1]=Math.max(e[0][1],cc[0]);e[1][1]=Math.max(e[1][1],cc[1]);return cc});return{values:i,xyMinMax:e}}};function j7(k,cc,m,Z){if(nK){bK(m.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var v=m.getAxis(["x","y"][k]);var i=kU(De([0,1],function(v1){return cc?v.coordToData(v.toLocalCoord(Z[v1])):v.toGlobalCoord(v.dataToCoord(Z[v1]))}));var e=[];e[k]=i;e[1-k]=[NaN,NaN];return{values:i,xyMinMax:e}}var sP={lineX:tr(mV,0),lineY:tr(mV,1),rect:function(e,i,k){return[[e[0][0]-k[0]*i[0][0],e[0][1]-k[0]*i[0][1]],[e[1][0]-k[1]*i[1][0],e[1][1]-k[1]*i[1][1]]]},polygon:function(e,i,k){return De(e,function(v,m){return[v[0]-k[0]*i[m][0],v[1]-k[1]*i[m][1]]})}};function mV(i,e,k,m){return[e[0]-m[i]*k[0],e[1]-m[i]*k[1]]}function Di(v,e){var k=FX(v);var i=FX(e);var m=[k[0]/i[0],k[1]/i[1]];isNaN(m[0])&&(m[0]=1);isNaN(m[1])&&(m[1]=1);return m}function FX(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var FB=["inBrush","outOfBrush"];var oJ="__ecBrushSelect";var vk="__ecInBrushSelectEvent";var Ay=Bb.VISUAL.BRUSH;oM(Ay,function(e,i,k){e.eachComponent({mainType:"brush"},function(m){k&&k.type==="takeGlobalCursor"&&m.setBrushOption(k.key==="brush"?k.brushOption:{brushType:false});var v=m.brushTargetManager=new Cp(m.option,e);v.setInputRanges(m.areas,e)})});E(Ay,function(i,k,v){var m=[];var Z;var e;i.eachComponent({mainType:"brush"},function(He,v2){var G6={brushId:He.id,brushIndex:v2,brushName:He.name,areas:B8(He.areas),selected:[]};m.push(G6);var G4=He.option;var Ha=G4.brushLink;var G8=[];var v1=[];var Hd=[];var Hb=0;if(!v2){Z=G4.throttleType;e=G4.throttleDelay}var cc=De(He.areas,function(Hf){return jr(Ch({boundingRect:pl[Hf.brushType](Hf)},Hf))});var G7=zj(He.option,FB,function(Hf){Hf.mappingMethod="fixed"});Fw(Ha)&&ow(Ha,function(Hf){G8[Hf]=1});function G5(Hf){return Ha==="all"||G8[Hf]}function v3(Hf){return !!Hf.length}i.eachSeries(function(Hh,Hg){var Hf=Hd[Hg]=[];Hh.subType==="parallel"?G9(Hh,Hg,Hf):Hc(Hh,Hg,Hf)});function G9(Hg,Hf){var Hh=Hg.coordinateSystem;Hb|=Hh.hasAxisBrushed();G5(Hf)&&Hh.eachActiveState(Hg.getData(),function(Hj,Hi){Hj==="active"&&(v1[Hi]=1)})}function Hc(Hi,Hh,Hg){var Hf=CT(Hi);if(!Hf||FZ(He,Hh)){return}ow(cc,function(Hk){Hf[Hk.brushType]&&He.brushTargetManager.controlSeries(Hk,Hi,i)&&Hg.push(Hk);Hb|=v3(Hg)});if(G5(Hh)&&v3(Hg)){var Hj=Hi.getData();Hj.each(function(Hk){if(A2(Hf,Hg,Hj,Hk)){v1[Hk]=1}})}}i.eachSeries(function(Hj,Hi){var Hh={seriesId:Hj.id,seriesIndex:Hi,seriesName:Hj.name,dataIndex:[]};G6.selected.push(Hh);var Hg=CT(Hj);var Hf=Hd[Hi];var Hk=Hj.getData();var Hl=G5(Hi)?function(Hm){return v1[Hm]?(Hh.dataIndex.push(Hk.getRawIndex(Hm)),"inBrush"):"outOfBrush"}:function(Hm){return A2(Hg,Hf,Hk,Hm)?(Hh.dataIndex.push(Hk.getRawIndex(Hm)),"inBrush"):"outOfBrush"};(G5(Hi)?Hb:v3(Hf))&&dn(FB,G7,Hk,Hl)})});pe(k,Z,e,m,v)});function pe(k,cc,e,Z,v){if(!v){return}var m=k.getZr();if(m[vk]){return}if(!m[oJ]){m[oJ]=z0}var i=mh(m,oJ,e,cc);i(k,Z)}function z0(e,k){if(!e.isDisposed()){var i=e.getZr();i[vk]=true;e.dispatchAction({type:"brushSelect",batch:k});i[vk]=false}}function A2(m,k,v1,Z){for(var v=0,e=k.length;v<e;v++){var cc=k[v];if(m[cc.brushType](Z,v1,cc.selectors,cc)){return true}}}function CT(k){var m=k.brushSelector;if(vi(m)){var e=[];ow(ax,function(Z,v){e[v]=function(v1,G4,cc,v3){var v2=G4.getItemLayout(v1);return Z[m](v2,cc,v3)}});return e}else{if(D0(m)){var i={};ow(ax,function(Z,v){i[v]=m});return i}}return m}function FZ(i,e){var k=i.option.seriesIndex;return k!=null&&k!=="all"&&(Fw(k)?eB(k,e)<0:e!==k)}function jr(i){var e=i.selectors={};ow(ax[i.brushType],function(m,k){e[k]=function(v){return m(v,e,i)}});return i}var pl={lineX:U,lineY:U,rect:function(e){return bH(e.range)},polygon:function(cc){var m;var k=cc.range;for(var Z=0,e=k.length;Z<e;Z++){m=m||[[Infinity,-Infinity],[Infinity,-Infinity]];var v=k[Z];v[0]<m[0][0]&&(m[0][0]=v[0]);v[0]>m[0][1]&&(m[0][1]=v[0]);v[1]<m[1][0]&&(m[1][0]=v[1]);v[1]>m[1][1]&&(m[1][1]=v[1])}return m&&bH(m)}};function bH(e){return new BM(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var e6=["#ddd"];var CF=pk({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(i,k){var e=this.option;!k&&mF(e,i,["inBrush","outOfBrush"]);e.inBrush=e.inBrush||{};e.outOfBrush=e.outOfBrush||{color:e6}},setAreas:function(e){if(nK){bK(Fw(e));ow(e,function(i){bK(i.brushType,"Illegal areas")})}if(!e){return}this.areas=De(e,function(i){return s6(this.option,i)},this)},setBrushOption:function(e){this.brushOption=s6(this.option,e);this.brushType=this.brushOption.brushType}});function s6(e,i){return vb({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new fg(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},i,true)}pO({type:"brush",init:function(e,i){this.ecModel=e;this.api=i;this.model;(this._brushController=new j9(i.getZr())).on("brush",j0(this._onBrush,this)).mount()},render:function(e){this.model=e;return cH.apply(this,arguments)},updateTransform:cH,updateView:cH,dispose:function(){this._brushController.dispose()},_onBrush:function(e,i){var k=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel);(!i.isEnd||i.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:k,areas:B8(e),$from:k})}});function cH(i,e,k,m){(!m||m.$from!==i.id)&&this._brushController.setPanels(i.brushTargetManager.makePanelOpts(k)).enableBrush(i.brushOption).updateCovers(i.areas.slice())}bZ({type:"brush",event:"brush"},function(i,e){e.eachComponent({mainType:"brush",query:i},function(k){k.setAreas(i.areas)})});bZ({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var eI={};function aG(e,i){eI[e]=i}function a2(e){return eI[e]}var pt=Br.toolbox.brush;function sm(i,e,k){this.model=i;this.ecModel=e;this.api=k;this._brushType;this._brushMode}sm.defaultOption={show:true,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:B8(pt.title)};var ca=sm.prototype;ca.render=ca.updateView=function(Z,i,m){var v;var e;var k;i.eachComponent({mainType:"brush"},function(cc){v=cc.brushType;e=cc.brushOption.brushMode||"single";k|=cc.areas.length});this._brushType=v;this._brushMode=e;ow(Z.get("type",true),function(cc){Z.setIconStatus(cc,(cc==="keep"?e==="multiple":cc==="clear"?k:cc===v)?"emphasis":"normal")})};ca.getIcons=function(){var e=this.model;var k=e.get("icon",true);var i={};ow(e.get("type",true),function(m){if(k[m]){i[m]=k[m]}});return i};ca.onclick=function(i,m,k){var v=this._brushType;var e=this._brushMode;if(k==="clear"){m.dispatchAction({type:"axisAreaSelect",intervals:[]});m.dispatchAction({type:"brush",command:"clear",areas:[]})}else{m.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:k==="keep"?v:(v===k?false:k),brushMode:k==="keep"?(e==="multiple"?"single":"multiple"):e}})}};aG("brush",sm);yc(GL);var rd=86400000;function d2(i,e,k){this._model=i}d2.prototype={constructor:d2,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(k){k=u2(k);var Z=k.getFullYear();var e=k.getMonth()+1;e=e<10?"0"+e:e;var v=k.getDate();v=v<10?"0"+v:v;var i=k.getDay();i=Math.abs((i+7-this.getFirstDayOfWeek())%7);return{y:Z,m:e,d:v,day:i,time:k.getTime(),formatedDate:Z+"-"+e+"-"+v,date:k}},getNextNDay:function(e,i){i=i||0;if(i===0){return this.getDateInfo(e)}e=new Date(this.getDateInfo(e).time);e.setDate(e.getDate()+i);return this.getDateInfo(e)},update:function(cc,v1){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var e=this._rangeInfo.weeks||1;var v3=["width","height"];var i=this._model.get("cellSize").slice();var m=this._model.getBoxLayoutParams();var Z=this._orient==="horizontal"?[e,7]:[7,e];ow([0,1],function(G4){if(k(i,G4)){m[v3[G4]]=i[G4]*Z[G4]}});var v={width:v1.getWidth(),height:v1.getHeight()};var v2=this._rect=kx(m,v);ow([0,1],function(G4){if(!k(i,G4)){i[G4]=v2[v3[G4]]/Z[G4]}});function k(G5,G4){return G5[G4]!=null&&G5[G4]!=="auto"}this._sw=i[0];this._sh=i[1]},dataToPoint:function(v,cc){Fw(v)&&(v=v[0]);cc==null&&(cc=true);var m=this.getDateInfo(v);var e=this._rangeInfo;var i=m.formatedDate;if(cc&&!(m.time>=e.start.time&&m.time<=e.end.time)){return[NaN,NaN]}var k=m.day;var Z=this._getRangeInfo([e.start.time,i]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+k*this._sw+this._sw/2,this._rect.y+Z*this._sh+this._sh/2]}return[this._rect.x+Z*this._sw+this._sw/2,this._rect.y+k*this._sh+this._sh/2]},pointToData:function(e){var i=this.pointToDate(e);return i&&i.time},dataToRect:function(i,k){var e=this.dataToPoint(i,k);return{contentShape:{x:e[0]-(this._sw-this._lineWidth)/2,y:e[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:e,tl:[e[0]-this._sw/2,e[1]-this._sh/2],tr:[e[0]+this._sw/2,e[1]-this._sh/2],br:[e[0]+this._sw/2,e[1]+this._sh/2],bl:[e[0]-this._sw/2,e[1]+this._sh/2]}},pointToDate:function(e){var m=Math.floor((e[0]-this._rect.x)/this._sw)+1;var k=Math.floor((e[1]-this._rect.y)/this._sh)+1;var i=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(k,m-1,i)}return this._getDateByWeeksAndDay(m,k-1,i)},convertToPixel:rH(gw,"dataToPoint"),convertFromPixel:rH(gw,"pointToData"),_initRangeOption:function(){var k=this._model.get("range");var m=k;if(Fw(m)&&m.length===1){m=m[0]}if(/^\d{4}$/.test(m)){k=[m+"-01-01",m+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(m)){var Z=this.getDateInfo(m);var i=Z.date;i.setMonth(i.getMonth()+1);var e=this.getNextNDay(i,-1);k=[Z.formatedDate,e.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(m)){k=[m,m]}var v=this._getRangeInfo(k);if(v.start.time>v.end.time){k.reverse()}return k},_getRangeInfo:function(Z){Z=[this.getDateInfo(Z[0]),this.getDateInfo(Z[1])];var m;if(Z[0].time>Z[1].time){m=true;Z.reverse()}var v2=Math.floor(Z[1].time/rd)-Math.floor(Z[0].time/rd)+1;var k=new Date(Z[0].time);var v=k.getDate();var cc=Z[1].date.getDate();k.setDate(v+v2-1);if(k.getDate()!==cc){var i=k.getTime()-Z[1].time>0?1:-1;while(k.getDate()!==cc&&(k.getTime()-Z[1].time)*i>0){v2-=i;k.setDate(v+v2-1)}}var e=Math.floor((v2+Z[0].day+6)/7);var v1=m?-e+1:e-1;m&&Z.reverse();return{range:[Z[0].formatedDate,Z[1].formatedDate],start:Z[0],end:Z[1],allDay:v2,weeks:e,nthWeek:v1,fweek:Z[0].day,lweek:Z[1].day}},_getDateByWeeksAndDay:function(v,k,i){var e=this._getRangeInfo(i);if(v>e.weeks||(v===0&&k<e.fweek)||(v===e.weeks&&k>e.lweek)){return false}var Z=(v-1)*7-e.fweek+k;var m=new Date(e.start.time);m.setDate(e.start.d+Z);return this.getDateInfo(m)}};d2.dimensions=d2.prototype.dimensions;d2.getDimensionsInfo=d2.prototype.getDimensionsInfo;d2.create=function(e,i){var k=[];e.eachComponent("calendar",function(m){var v=new d2(m,e,i);k.push(v);m.coordinateSystem=v});e.eachSeries(function(m){if(m.get("coordinateSystem")==="calendar"){m.coordinateSystem=k[m.get("calendarIndex")||0]}});return k};function gw(k,e,cc,Z){var m=cc.calendarModel;var i=cc.seriesModel;var v=m?m.coordinateSystem:i?i.coordinateSystem:null;return v===this?v[k](Z):null}fk.register("calendar",d2);var ny=aI.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(k,i,e,m){var v=gO(k);ny.superApply(this,"init",arguments);fB(k,v)},mergeOption:function(e,i){ny.superApply(this,"mergeOption",arguments);fB(this.option,e)}});function fB(k,i){var m=k.cellSize;if(!Fw(m)){m=k.cellSize=[m,m]}else{if(m.length===1){m[1]=m[0]}}var e=De([0,1],function(v){if(ms(i,v)){m[v]="auto"}return m[v]!=null&&m[v]!=="auto"});g0(k,i,{type:"box",ignoreSize:e})}var oP={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]};var zG={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};pO({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(m,e,Z){var cc=this.group;cc.removeAll();var v=m.coordinateSystem;var i=v.getRangeInfo();var k=v.getOrient();this._renderDayRect(m,i,cc);this._renderLines(m,i,k,cc);this._renderYearText(m,i,k,cc);this._renderMonthText(m,k,cc);this._renderWeekText(m,i,k,cc)},_renderDayRect:function(k,e,v3){var m=k.coordinateSystem;var G4=k.getModel("itemStyle").getItemStyle();var v2=m.getCellWidth();var Z=m.getCellHeight();for(var v=e.start.time;v<=e.end.time;v=m.getNextNDay(v,1).time){var v1=m.dataToRect([v],false).tl;var cc=new DD({shape:{x:v1[0],y:v1[1],width:v2,height:Z},cursor:"default",style:G4});v3.add(cc)}},_renderLines:function(Z,k,v1,G6){var G7=this;var cc=Z.coordinateSystem;var G4=Z.getModel("splitLine.lineStyle").getLineStyle();var G5=Z.get("splitLine.show");var v3=G4.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var e=k.start;for(var v2=0;e.time<=k.end.time;v2++){m(e.formatedDate);if(v2===0){e=cc.getDateInfo(k.start.y+"-"+k.start.m)}var v=e.date;v.setMonth(v.getMonth()+1);e=cc.getDateInfo(v)}m(cc.getNextNDay(k.end.time,1).formatedDate);function m(i){G7._firstDayOfMonth.push(cc.getDateInfo(i));G7._firstDayPoints.push(cc.dataToRect([i],false).tl);var G8=G7._getLinePointsOfOneWeek(Z,i,v1);G7._tlpoints.push(G8[0]);G7._blpoints.push(G8[G8.length-1]);G5&&G7._drawSplitline(G8,G4,G6)}G5&&this._drawSplitline(G7._getEdgesPoints(G7._tlpoints,v3,v1),G4,G6);G5&&this._drawSplitline(G7._getEdgesPoints(G7._blpoints,v3,v1),G4,G6)},_getEdgesPoints:function(v,i,m){var k=[v[0].slice(),v[v.length-1].slice()];var e=m==="horizontal"?0:1;k[0][e]=k[0][e]-i/2;k[1][e]=k[1][e]+i/2;return k},_drawSplitline:function(e,k,i){var m=new zf({z2:20,shape:{points:e},style:k});i.add(m)},_getLinePointsOfOneWeek:function(v,m,k){var cc=v.coordinateSystem;m=cc.getDateInfo(m);var v1=[];for(var Z=0;Z<7;Z++){var v2=cc.getNextNDay(m.time,Z);var e=cc.dataToRect([v2.time],false);v1[2*v2.day]=e.tl;v1[2*v2.day+1]=e[k==="horizontal"?"bl":"tr"]}return v1},_formatterLabel:function(e,i){if(typeof e==="string"&&e){return Ep(e,i)}if(typeof e==="function"){return e(i)}return i.nameMap},_yearTextPositionControl:function(v,i,m,e,cc){i=i.slice();var Z=["center","bottom"];if(e==="bottom"){i[1]+=cc;Z=["center","top"]}else{if(e==="left"){i[0]-=cc}else{if(e==="right"){i[0]+=cc;Z=["center","top"]}else{i[1]-=cc}}}var k=0;if(e==="left"||e==="right"){k=Math.PI/2}return{rotation:k,position:i,style:{textAlign:Z[0],textVerticalAlign:Z[1]}}},_renderYearText:function(v,i,v1,G7){var m=v.getModel("yearLabel");if(!m.get("show")){return}var cc=m.get("margin");var G4=m.get("position");if(!G4){G4=v1!=="horizontal"?"top":"left"}var G8=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var Ha=(G8[0][0]+G8[1][0])/2;var v3=(G8[0][1]+G8[1][1])/2;var G6=v1==="horizontal"?0:1;var G9={top:[Ha,G8[G6][1]],bottom:[Ha,G8[1-G6][1]],left:[G8[1-G6][0],v3],right:[G8[G6][0],v3]};var e=i.start.y;if(+i.end.y>+i.start.y){e=e+"-"+i.end.y}var G5=m.get("formatter");var Z={start:i.start.y,end:i.end.y,nameMap:e};var v2=this._formatterLabel(G5,Z);var k=new iC({z2:30});oB(k.style,m,{text:v2}),k.attr(this._yearTextPositionControl(k,G9[G4],v1,G4,cc));G7.add(k)},_monthTextPositionControl:function(v2,Z,i,k,e){var v="left";var m="top";var v1=v2[0];var cc=v2[1];if(i==="horizontal"){cc=cc+e;if(Z){v="center"}if(k==="start"){m="bottom"}}else{v1=v1+e;if(Z){m="middle"}if(k==="start"){v="right"}}return{x:v1,y:cc,textAlign:v,textVerticalAlign:m}},_renderMonthText:function(v1,v2,Z){var m=v1.getModel("monthLabel");if(!m.get("show")){return}var Ha=m.get("nameMap");var G5=m.get("margin");var v=m.get("position");var G7=m.get("align");var e=[this._tlpoints,this._blpoints];if(vi(Ha)){Ha=oP[Ha.toUpperCase()]||[]}var G4=v==="start"?0:1;var k=v2==="horizontal"?0:1;G5=v==="start"?-G5:G5;var cc=(G7==="center");for(var G9=0;G9<e[G4].length-1;G9++){var Hd=e[G4][G9].slice();var v3=this._firstDayOfMonth[G9];if(cc){var Hb=this._firstDayPoints[G9];Hd[k]=(Hb[k]+e[0][G9+1][k])/2}var G8=m.get("formatter");var Hf=Ha[+v3.m-1];var Hc={yyyy:v3.y,yy:(v3.y+"").slice(2),MM:v3.m,M:+v3.m,nameMap:Hf};var G6=this._formatterLabel(G8,Hc);var He=new iC({z2:30});bY(oB(He.style,m,{text:G6}),this._monthTextPositionControl(Hd,cc,v2,v,G5));Z.add(He)}},_weekTextPositionControl:function(v3,m,v,k,i){var cc="center";var Z="middle";var v2=v3[0];var v1=v3[1];var e=v==="start";if(m==="horizontal"){v2=v2+k+(e?1:-1)*i[0]/2;cc=e?"right":"left"}else{v1=v1+k+(e?1:-1)*i[1]/2;Z=e?"bottom":"top"}return{x:v2,y:v1,textAlign:cc,textVerticalAlign:Z}},_renderWeekText:function(v1,v,G4,Hb){var Z=v1.getModel("dayLabel");if(!Z.get("show")){return}var v3=v1.coordinateSystem;var G9=Z.get("position");var G7=Z.get("nameMap");var v2=Z.get("margin");var e=v3.getFirstDayOfWeek();if(vi(G7)){G7=zG[G7.toUpperCase()]||[]}var m=v3.getNextNDay(v.end.time,(7-v.lweek)).time;var k=[v3.getCellWidth(),v3.getCellHeight()];v2=yW(v2,k[G4==="horizontal"?0:1]);if(G9==="start"){m=v3.getNextNDay(v.start.time,-(7+v.fweek)).time;v2=-v2}for(var G5=0;G5<7;G5++){var G6=v3.getNextNDay(m,G5);var Ha=v3.dataToRect([G6.time],false).center;var G8=G5;G8=Math.abs((G5+e)%7);var cc=new iC({z2:30});bY(oB(cc.style,Z,{text:G7[G8]}),this._weekTextPositionControl(Ha,G4,G9,v2,k));Hb.add(cc)}}});pk({type:"title",layoutMode:{type:"box",ignoreSize:true},defaultOption:{zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});pO({type:"title",render:function(Z,He,G6){this.group.removeAll();if(!Z.get("show")){return}var v3=this.group;var v2=Z.getModel("textStyle");var Hd=Z.getModel("subtextStyle");var cc=Z.get("textAlign");var Hb=Z.get("textBaseline");var Ha=new iC({style:oB({},v2,{text:Z.get("text"),textFill:v2.getTextColor()},{disableBox:true}),z2:10});var e=Ha.getBoundingRect();var v=Z.get("subtext");var m=new iC({style:oB({},Hd,{text:v,textFill:Hd.getTextColor(),y:e.height+Z.get("itemGap"),textVerticalAlign:"top"},{disableBox:true}),z2:10});var v1=Z.get("link");var G8=Z.get("sublink");Ha.silent=!v1;m.silent=!G8;if(v1){Ha.on("click",function(){window.open(v1,"_"+Z.get("target"))})}if(G8){m.on("click",function(){window.open(G8,"_"+Z.get("subtarget"))})}v3.add(Ha);v&&v3.add(m);var G7=v3.getBoundingRect();var k=Z.getBoxLayoutParams();k.width=G7.width;k.height=G7.height;var Hc=kx(k,{width:G6.getWidth(),height:G6.getHeight()},Z.get("padding"));if(!cc){cc=Z.get("left")||Z.get("right");if(cc==="middle"){cc="center"}if(cc==="right"){Hc.x+=Hc.width}else{if(cc==="center"){Hc.x+=Hc.width/2}}}if(!Hb){Hb=Z.get("top")||Z.get("bottom");if(Hb==="center"){Hb="middle"}if(Hb==="bottom"){Hc.y+=Hc.height}else{if(Hb==="middle"){Hc.y+=Hc.height/2}}Hb=Hb||"top"}v3.attr("position",[Hc.x,Hc.y]);var G4={textAlign:cc,textVerticalAlign:Hb};Ha.setStyle(G4);m.setStyle(G4);G7=v3.getBoundingRect();var G5=Hc.margin;var G9=Z.getItemStyle(["color","opacity"]);G9.fill=Z.get("backgroundColor");var i=new DD({shape:{x:G7.x-G5[3],y:G7.y-G5[0],width:G7.width+G5[1]+G5[3],height:G7.height+G5[0]+G5[2],r:Z.get("borderRadius")},style:G9,silent:true});ij(i);v3.add(i)}});aI.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var M=["x","y","z","radius","angle","single"];var t=["cartesian2d","polar","singleAxis"];function BK(e){return eB(t,e)>=0}function cA(m,i){m=m.slice();var k=De(m,sr);i=(i||[]).slice();var e=De(i,sr);return function(Z,v){ow(m,function(v2,v1){var v3={name:v2,capital:k[v1]};for(var cc=0;cc<i.length;cc++){v3[i[cc]]=v2+e[cc]}Z.call(v,v3)})}}var iz=cA(M,["axisIndex","axis","index","id"]);function pf(m,e,i){return function(v2){var cc={nodes:[],records:{}};e(function(G4){cc.records[G4.name]={}});if(!v2){return cc}v(v2,cc);var v3;do{v3=false;m(v1)}while(v3);function v1(G4){if(!Z(G4,cc)&&k(G4,cc)){v(G4,cc);v3=true}}return cc};function Z(v1,cc){return eB(cc.nodes,v1)>=0}function k(v2,cc){var v1=false;e(function(v3){ow(i(v2,v3)||[],function(G4){cc.records[v3.name][G4]&&(v1=true)})});return v1}function v(v1,cc){cc.nodes.push(v1);e(function(v2){ow(i(v1,v2)||[],function(v3){cc.records[v2.name][v3]=true})})}}var sD=ow;var DV=ou;var fV=function(k,i,m,e){this._dimName=k;this._axisIndex=i;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=e;this._dataZoomModel=m};fV.prototype={constructor:fV,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var i=[];var e=this.ecModel;e.eachSeries(function(k){if(BK(k.get("coordinateSystem"))){var v=this._dimName;var m=e.queryComponents({mainType:v+"Axis",index:k.get(v+"AxisIndex"),id:k.get(v+"AxisId")})[0];if(this._axisIndex===(m&&m.componentIndex)){i.push(k)}}},this);return i},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var k=this._dimName;var e=this.ecModel;var i=this.getAxisModel();var cc=k==="x"||k==="y";var v;var m;if(cc){m="gridIndex";v=k==="x"?"y":"x"}else{m="polarIndex";v=k==="angle"?"radius":"angle"}var Z;e.eachComponent(v+"Axis",function(v1){if((v1.get(m)||0)===(i.get(m)||0)){Z=v1}});return Z},getMinMaxSpan:function(){return B8(this._minMaxSpan)},calculateDataWindow:function(v){var cc=this._dataExtent;var m=this.getAxisModel();var v1=m.axis.scale;var e=this._dataZoomModel.getRangePropMode();var i=[0,100];var k=[v.start,v.end];var Z=[];sD(["startValue","endValue"],function(v2){Z.push(v[v2]!=null?v1.parse(v[v2]):null)});sD([0,1],function(v2){var G4=Z[v2];var v3=k[v2];if(e[v2]==="percent"){if(v3==null){v3=i[v2]}G4=v1.parse(DM(v3,i,cc,true))}else{v3=DM(G4,cc,i,true)}Z[v2]=G4;k[v2]=v3});return{valueWindow:DV(Z),percentWindow:DV(k)}},reset:function(k){if(k!==this._dataZoomModel){return}var e=this.getTargetSeriesModels();this._dataExtent=sW(this,this._dimName,e);var i=this.calculateDataWindow(k.option);this._valueWindow=i.valueWindow;this._percentWindow=i.percentWindow;vl(this);CX(this)},restore:function(e){if(e!==this._dataZoomModel){return}this._valueWindow=this._percentWindow=null;CX(this,true)},filterData:function(cc,k){if(cc!==this._dataZoomModel){return}var i=this._dimName;var e=this.getTargetSeriesModels();var Z=cc.get("filterMode");var m=this._valueWindow;if(Z==="none"){return}sD(e,function(v1){var v2=v1.getData();var v3=v2.mapDimension(i,true);if(Z==="weakFilter"){v2.filterSelf(function(G8){var Hc;var G5;var Hb;for(var G6=0;G6<v3.length;G6++){var G9=v2.get(v3[G6],G8);var Ha=!isNaN(G9);var G7=G9<m[0];var G4=G9>m[1];if(Ha&&!G7&&!G4){return true}Ha&&(Hb=true);G7&&(Hc=true);G4&&(G5=true)}return Hb&&Hc&&G5})}else{sD(v3,function(G5){if(Z==="empty"){v1.setData(v2.map(G5,function(G6){return !v(G6)?NaN:G6}))}else{var G4={};G4[G5]=m;v2.selectRange(G4)}})}sD(v3,function(G4){v2.setApproximateExtent(m,G4)})});function v(v1){return v1>=m[0]&&v1<=m[1]}}};function sW(k,i,e){var m=[Infinity,-Infinity];sD(e,function(v){var Z=v.getData();if(Z){sD(Z.mapDimension(i,true),function(v1){var cc=Z.getApproximateExtent(v1);cc[0]<m[0]&&(m[0]=cc[0]);cc[1]>m[1]&&(m[1]=cc[1])})}});if(m[1]<m[0]){m=[NaN,NaN]}oH(k,m);return m}function oH(v,cc){var m=v.getAxisModel();var k=m.getMin(true);var Z=m.get("type")==="category";var i=Z&&m.getCategories().length;if(k!=null&&k!=="dataMin"&&typeof k!=="function"){cc[0]=k}else{if(Z){cc[0]=i>0?0:NaN}}var e=m.getMax(true);if(e!=null&&e!=="dataMax"&&typeof e!=="function"){cc[1]=e}else{if(Z){cc[1]=i>0?i-1:NaN}}if(!m.get("scale",true)){cc[0]>0&&(cc[0]=0);cc[1]<0&&(cc[1]=0)}return cc}function CX(m,cc){var k=m.getAxisModel();var i=m._percentWindow;var v=m._valueWindow;if(!i){return}var e=xl(v,[0,500]);e=Math.min(e,20);var Z=cc||(i[0]===0&&i[1]===100);k.setRange(Z?null:+v[0].toFixed(e),Z?null:+v[1].toFixed(e))}function vl(e){var i=e._minMaxSpan={};var k=e._dataZoomModel;sD(["min","max"],function(m){i[m+"Span"]=k.get(m+"Span");var Z=k.get(m+"ValueSpan");if(Z!=null){i[m+"ValueSpan"]=Z;Z=e.getAxisModel().axis.scale.parse(Z);if(Z!=null){var v=e._dataExtent;i[m+"Span"]=DM(v[0]+Z,v,[0,100],true)}}})}var sF=ow;var p1=iz;var xL=pk({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(k,i,e){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=true;this._rangePropMode=["percent","percent"];var m=Et(k);this.mergeDefaultAndTheme(k,e);this.doInit(m)},mergeOption:function(i){var e=Et(i);vb(this.option,i,true);this.doInit(e)},doInit:function(i){var e=this.option;if(!r6.canvasSupported){e.realtime=false}this._setDefaultThrottle(i);aU(this,i);sF([["start","startValue"],["end","endValue"]],function(m,k){if(this._rangePropMode[k]==="value"){e[m[0]]=null}},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(k,v,cc,i){var m=this.dependentModels[k.axis][v];var Z=m.__dzAxisProxy||(m.__dzAxisProxy=new fV(k.name,v,this,i));e[k.name+"_"+v]=Z},this)},_resetTarget:function(){var e=this.option;var i=this._judgeAutoMode();p1(function(k){var m=k.axisIndex;e[m]=lW(e[m])},this);if(i==="axisIndex"){this._autoSetAxisIndex()}else{if(i==="orient"){this._autoSetOrient()}}},_judgeAutoMode:function(){var i=this.option;var k=false;p1(function(m){if(i[m.axisIndex]!=null){k=true}},this);var e=i.orient;if(e==null&&k){return"orient"}else{if(!k){if(e==null){i.orient="horizontal"}return"axisIndex"}}},_autoSetAxisIndex:function(){var v=true;var e=this.get("orient",true);var i=this.option;var k=this.dependentModels;if(v){var m=e==="vertical"?"y":"x";if(k[m+"Axis"].length){i[m+"AxisIndex"]=[0];v=false}else{sF(k.singleAxis,function(Z){if(v&&Z.get("orient",true)===e){i.singleAxisIndex=[Z.componentIndex];v=false}})}}if(v){p1(function(cc){if(!v){return}var v3=[];var v2=this.dependentModels[cc.axis];if(v2.length&&!v3.length){for(var v1=0,Z=v2.length;v1<Z;v1++){if(v2[v1].get("type")==="category"){v3.push(v1)}}}i[cc.axisIndex]=v3;if(v3.length){v=false}},this)}if(v){this.ecModel.eachSeries(function(Z){if(this._isSeriesHasAllAxesTypeOf(Z,"value")){p1(function(cc){var G4=i[cc.axisIndex];var v2=Z.get(cc.axisIndex);var v3=Z.get(cc.axisId);var v1=Z.ecModel.queryComponents({mainType:cc.axis,index:v2,id:v3})[0];if(nK){if(!v1){throw new Error(cc.axis+' "'+gg(v2,v3,0)+'" not found')}}v2=v1.componentIndex;if(eB(G4,v2)<0){G4.push(v2)}})}},this)}},_autoSetOrient:function(){var e;this.eachTargetAxis(function(i){!e&&(e=i.name)},this);this.option.orient=e==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(i,e){var k=true;p1(function(m){var Z=i.get(m.axisIndex);var v=this.dependentModels[m.axis][Z];if(!v||v.get("type")!==e){k=false}},this);return k},_setDefaultThrottle:function(i){if(i.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=(e.animation&&e.animationDurationUpdate>0)?100:20}},getFirstTargetAxisModel:function(){var e;p1(function(i){if(e==null){var k=this.get(i.axisIndex);if(k.length){e=this.dependentModels[i.axis][k[0]]}}},this);return e},eachTargetAxis:function(k,i){var e=this.ecModel;p1(function(m){sF(this.get(m.axisIndex),function(v){k.call(i,m,v,this,e)},this)},this)},getAxisProxy:function(i,e){return this._axisProxies[i+"_"+e]},getAxisModel:function(k,e){var i=this.getAxisProxy(k,e);return i&&i.getAxisModel()},setRawRange:function(e,k){var i=this.option;sF([["start","startValue"],["end","endValue"]],function(m){if(e[m[0]]!=null||e[m[1]]!=null){i[m[0]]=e[m[0]];i[m[1]]=e[m[1]]}},this);!k&&aU(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e){return e.getDataPercentWindow()}},getValueRange:function(i,e){if(i==null&&e==null){var k=this.findRepresentativeAxisProxy();if(k){return k.getDataValueWindow()}}else{return this.getAxisProxy(i,e).getDataValueWindow()}},findRepresentativeAxisProxy:function(i){if(i){return i.__dzAxisProxy}var k=this._axisProxies;for(var e in k){if(k.hasOwnProperty(e)&&k[e].hostedBy(this)){return k[e]}}for(var e in k){if(k.hasOwnProperty(e)&&!k[e].hostedBy(this)){return k[e]}}},getRangePropMode:function(){return this._rangePropMode.slice()}});function Et(i){var e={};sF(["start","end","startValue","endValue","throttle"],function(k){i.hasOwnProperty(k)&&(e[k]=i[k])});return e}function aU(m,k){var i=m._rangePropMode;var e=m.get("rangeMode");sF([["start","startValue"],["end","endValue"]],function(cc,Z){var v1=k[cc[0]]!=null;var v=k[cc[1]]!=null;if(v1&&!v){i[Z]="percent"}else{if(!v1&&v){i[Z]="value"}else{if(e){i[Z]=e[Z]}else{if(v1){i[Z]="percent"}}}}})}var C5=r3.extend({type:"dataZoom",render:function(m,e,i,k){this.dataZoomModel=m;this.ecModel=e;this.api=i},getTargetCoordInfo:function(){var m=this.dataZoomModel;var e=this.ecModel;var i={};m.eachTargetAxis(function(v,cc){var Z=e.getComponent(v.axis,cc);if(Z){var v1=Z.getCoordSysModel();v1&&k(v1,Z,i[v1.mainType]||(i[v1.mainType]=[]),v1.componentIndex)}},this);function k(v3,cc,v,v2){var v1;for(var Z=0;Z<v.length;Z++){if(v[Z].model===v3){v1=v[Z];break}}if(!v1){v.push(v1={model:v3,axisModels:[],coordIndex:v2})}v1.axisModels.push(cc)}return i}});var CD=xL.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#333"}}});var z3=DD;var lz=DM;var DT=ou;var oR=j0;var sC=ow;var wq=7;var bB=1;var nI=30;var pn="horizontal";var cW="vertical";var jo=5;var mz=["line","bar","candlestick","scatter"];var ew=C5.extend({type:"dataZoom.slider",init:function(e,i){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=i},render:function(m,e,i,k){ew.superApply(this,"render",arguments);mh(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=m.get("orient");if(this.dataZoomModel.get("show")===false){this.group.removeAll();return}if(!k||k.type!=="dataZoom"||k.from!==this.uid){this._buildView()}this._updateView()},remove:function(){ew.superApply(this,"remove",arguments);cB(this,"_dispatchZoomAction")},dispose:function(){ew.superApply(this,"dispose",arguments);cB(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll();this._resetLocation();this._resetInterval();var i=this._displayables.barGroup=new Bd();this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(i);this._positionGroup()},_resetLocation:function(){var cc=this.dataZoomModel;var v=this.api;var m=this._findCoordRect();var e={width:v.getWidth(),height:v.getHeight()};var i=this._orient===pn?{right:e.width-m.x-m.width,top:(e.height-nI-wq),width:m.width,height:nI}:{right:wq,top:m.y,width:nI,height:m.height};var k=gO(cc.option);ow(["right","top","width","height"],function(v1){if(k[v1]==="ph"){k[v1]=i[v1]}});var Z=kx(k,e,cc.padding);this._location={x:Z.x,y:Z.y};this._size=[Z.width,Z.height];this._orient===cW&&this._size.reverse()},_positionGroup:function(){var m=this.group;var i=this._location;var v=this._orient;var v1=this.dataZoomModel.getFirstTargetAxisModel();var e=v1&&v1.get("inverse");var cc=this._displayables.barGroup;var k=(this._dataShadowInfo||{}).otherAxisInverse;cc.attr((v===pn&&!e)?{scale:k?[1,1]:[1,-1]}:(v===pn&&e)?{scale:k?[-1,1]:[-1,-1]}:(v===cW&&!e)?{scale:k?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:k?[-1,-1]:[-1,1],rotation:Math.PI/2});var Z=m.getBoundingRect([cc]);m.attr("position",[i.x-Z.x,i.y-Z.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var k=this.dataZoomModel;var e=this._size;var i=this._displayables.barGroup;i.add(new z3({silent:true,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:k.get("backgroundColor")},z2:-40}));i.add(new z3({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:j0(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var m=this._dataShadowInfo=this._prepareDataShadowInfo();if(!m){return}var G9=this._size;var v=m.series;var cc=v.getRawData();var G6=v.getShadowDim?v.getShadowDim():m.otherDim;if(G6==null){return}var v2=cc.getDataExtent(G6);var G8=(v2[1]-v2[0])*0.3;v2=[v2[0]-G8,v2[1]+G8];var G7=[0,G9[1]];var G5=[0,G9[0]];var v3=[[G9[0],0],[0,0]];var G4=[];var k=G5[1]/(cc.count()-1);var e=0;var i=Math.round(cc.count()/G9[0]);var v1;cc.each([G6],function(Hc,Ha){if(i>0&&(Ha%i)){e+=k;return}var Hd=Hc==null||isNaN(Hc)||Hc==="";var Hb=Hd?0:lz(Hc,v2,G7,true);if(Hd&&!v1&&Ha){v3.push([v3[v3.length-1][0],0]);G4.push([G4[G4.length-1][0],0])}else{if(!Hd&&v1){v3.push([e,0]);G4.push([e,0])}}v3.push([e,Hb]);G4.push([e,Hb]);e+=k;v1=Hd});var Z=this.dataZoomModel;this._displayables.barGroup.add(new hV({shape:{points:v3},style:Ch({fill:Z.get("dataBackgroundColor")},Z.getModel("dataBackground.areaStyle").getAreaStyle()),silent:true,z2:-20}));this._displayables.barGroup.add(new zf({shape:{points:G4},style:Z.getModel("dataBackground.lineStyle").getLineStyle(),silent:true,z2:-19}))},_prepareDataShadowInfo:function(){var m=this.dataZoomModel;var k=m.get("showDataShadow");if(k===false){return}var i;var e=this.ecModel;m.eachTargetAxis(function(v,Z){var cc=m.getAxisProxy(v.name,Z).getTargetSeriesModels();ow(cc,function(v3){if(i){return}if(k!==true&&eB(mz,v3.get("type"))<0){return}var G4=e.getComponent(v.axis,Z).axis;var v1=pB(v.name);var v2;var G5=v3.coordinateSystem;if(v1!=null&&G5.getOtherAxis){v2=G5.getOtherAxis(G4).inverse}v1=v3.getData().mapDimension(v1);i={thisAxis:G4,series:v3,thisDim:v.name,otherDim:v1,otherAxisInverse:v2}},this)},this);return i},_renderHandle:function(){var Z=this._displayables;var k=Z.handles=[];var e=Z.handleLabels=[];var m=this._displayables.barGroup;var i=this._size;var v=this.dataZoomModel;m.add(Z.filler=new z3({draggable:true,cursor:lC(this._orient),drift:oR(this._onDragMove,this,"all"),onmousemove:function(cc){FC(cc.event)},ondragstart:oR(this._showDataInfo,this,true),ondragend:oR(this._onDragEnd,this),onmouseover:oR(this._showDataInfo,this,true),onmouseout:oR(this._showDataInfo,this,false),style:{fill:v.get("fillerColor"),textPosition:"inside"}}));m.add(new z3(ij({silent:true,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:v.get("dataBackgroundColor")||v.get("borderColor"),lineWidth:bB,fill:"rgba(0,0,0,0)"}})));sC([0,1],function(G4){var v2=E0(v.get("handleIcon"),{cursor:lC(this._orient),draggable:true,drift:oR(this._onDragMove,this,G4),onmousemove:function(G5){FC(G5.event)},ondragend:oR(this._onDragEnd,this),onmouseover:oR(this._showDataInfo,this,true),onmouseout:oR(this._showDataInfo,this,false)},{x:-1,y:0,width:2,height:2});var v1=v2.getBoundingRect();this._handleHeight=yW(v.get("handleSize"),this._size[1]);this._handleWidth=v1.width/v1.height*this._handleHeight;v2.setStyle(v.getModel("handleStyle").getItemStyle());var v3=v.get("handleColor");if(v3!=null){v2.style.fill=v3}m.add(k[G4]=v2);var cc=v.textStyleModel;this.group.add(e[G4]=new iC({silent:true,invisible:true,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:cc.getTextColor(),textFont:cc.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange();var i=this._getViewExtent();this._handleEnds=[lz(e[0],[0,100],i,true),lz(e[1],[0,100],i,true)]},_updateInterval:function(cc,Z){var v=this.dataZoomModel;var m=this._handleEnds;var e=this._getViewExtent();var k=v.findRepresentativeAxisProxy().getMinMaxSpan();var i=[0,100];mY(Z,m,e,v.get("zoomLock")?"all":cc,k.minSpan!=null?lz(k.minSpan,i,e,true):null,k.maxSpan!=null?lz(k.maxSpan,i,e,true):null);this._range=DT([lz(m[0],e,i,true),lz(m[1],e,i,true)])},_updateView:function(k){var v=this._displayables;var m=this._handleEnds;var e=DT(m.slice());var i=this._size;sC([0,1],function(v1){var cc=v.handles[v1];var Z=this._handleHeight;cc.attr({scale:[Z/2,Z/2],position:[m[v1],i[1]/2-Z/2]})},this);v.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:i[1]});this._updateDataInfo(k)},_updateDataInfo:function(G5){var cc=this.dataZoomModel;var i=this._displayables;var v=i.handleLabels;var Z=this._orient;var v3=["",""];if(cc.get("showDetail")){var e=cc.findRepresentativeAxisProxy();if(e){var m=e.getAxisModel().axis;var v1=this._range;var v2=G5?e.calculateDataWindow({start:v1[0],end:v1[1]}).valueWindow:e.getDataValueWindow();v3=[this._formatLabel(v2[0],m),this._formatLabel(v2[1],m)]}}var G4=DT(this._handleEnds.slice());k.call(this,0);k.call(this,1);function k(Ha){var G8=aJ(i.handles[Ha].parent,this.group);var G7=nr(Ha===0?"right":"left",G8);var G9=this._handleWidth/2+jo;var G6=ve([G4[Ha]+(Ha===0?-G9:G9),this._size[1]/2],G8);v[Ha].setStyle({x:G6[0],y:G6[1],textVerticalAlign:Z===pn?"middle":G7,textAlign:Z===pn?G7:"center",text:v3[Ha]})}},_formatLabel:function(v,m){var Z=this.dataZoomModel;var k=Z.get("labelFormatter");var i=Z.get("labelPrecision");if(i==null||i==="auto"){i=m.getPixelPrecision()}var e=(v==null||isNaN(v))?"":(m.type==="category"||m.type==="time")?m.scale.getLabel(Math.round(v)):v.toFixed(Math.min(i,20));return D0(k)?k(v,e):vi(k)?k.replace("{value}",e):e},_showDataInfo:function(e){e=this._dragging||e;var i=this._displayables.handleLabels;i[0].attr("invisible",!e);i[1].attr("invisible",!e)},_onDragMove:function(Z,k,i){this._dragging=true;var v=this._displayables.barGroup.getLocalTransform();var m=ve([k,i],v,true);this._updateInterval(Z,m[0]);var e=this.dataZoomModel.get("realtime");this._updateView(!e);e&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=false;this._showDataInfo(false);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction()},_onClickPanelClick:function(v){var k=this._size;var m=this._displayables.barGroup.transformCoordToLocal(v.offsetX,v.offsetY);if(m[0]<0||m[0]>k[0]||m[1]<0||m[1]>k[1]){return}var Z=this._handleEnds;var i=(Z[0]+Z[1])/2;this._updateInterval("all",m[0]-i);this._updateView();this._dispatchZoomAction()},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var k;sC(this.getTargetCoordInfo(),function(v){if(!k&&v.length){var m=v[0].model.coordinateSystem;k=m.getRect&&m.getRect()}});if(!k){var i=this.api.getWidth();var e=this.api.getHeight();k={x:i*0.2,y:e*0.2,width:i*0.6,height:e*0.6}}return k}});function pB(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function lC(e){return e==="vertical"?"ns-resize":"ew-resize"}xL.extend({type:"dataZoom.inside",defaultOption:{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,preventDefaultMouseMove:true}});var tq=rH;var bq="\0_ec_dataZoom_roams";function aE(v,cc){var k=n8(v);var i=cc.dataZoomId;var m=cc.coordId;ow(k,function(v1,v3){var v2=v1.dataZoomInfos;if(v2[i]&&eB(cc.allCoordIds,m)<0){delete v2[i];v1.count--}});I(k);var e=k[m];if(!e){e=k[m]={coordId:m,dataZoomInfos:{},count:0};e.controller=ng(v,e);e.dispatchAction=rH(ds,v)}!(e.dataZoomInfos[i])&&e.count++;e.dataZoomInfos[i]=cc;var Z=GP(e.dataZoomInfos);e.controller.enable(Z.controlType,Z.opt);e.controller.setPointerChecker(cc.containsPoint);mh(e,"dispatchAction",cc.throttleRate,"fixRate")}function e3(k,e){var i=n8(k);ow(i,function(m){m.controller.dispose();var v=m.dataZoomInfos;if(v[e]){delete v[e];m.count--}});I(i)}function Dg(v,k){if(v&&v.type==="dataZoom"&&v.batch){for(var m=0,e=v.batch.length;m<e;m++){if(v.batch[m].dataZoomId===k){return false}}}return true}function jG(e){return e.type+"\0_"+e.id}function n8(e){var i=e.getZr();return i[bq]||(i[bq]={})}function ng(k,i){var e=new ad(k.getZr());e.on("pan",tq(tb,i));e.on("zoom",tq(fx,i));return e}function I(e){ow(e,function(i,k){if(!i.count){i.controller.dispose();delete e[k]}})}function tb(i,k,e,v,m,cc,Z){zX(i,function(v1){return v1.panGetRange(i.controller,k,e,v,m,cc,Z)})}function fx(e,m,k,i){zX(e,function(v){return v.zoomGetRange(e.controller,m,k,i)})}function zX(e,k){var i=[];ow(e.dataZoomInfos,function(v){var m=k(v);!v.disabled&&m&&i.push({dataZoomId:v.dataZoomId,start:m[0],end:m[1]})});e.dispatchAction(i)}function ds(i,e){i.dispatchAction({type:"dataZoom",batch:e})}function GP(k){var v;var e={};var m="type_";var i={type_true:2,type_move:1,type_false:0,type_undefined:-1};ow(k,function(cc){var Z=cc.disabled?false:cc.zoomLock?"move":true;if(i[m+Z]>i[m+v]){v=Z}bY(e,cc.roamControllerOpt)});return{controlType:v,opt:e}}var oO=j0;var qd=C5.extend({type:"dataZoom.inside",init:function(e,i){this._range},render:function(m,e,i,k){qd.superApply(this,"render",arguments);if(Dg(k,m.id)){this._range=m.getPercentRange()}ow(this.getTargetCoordInfo(),function(v,Z){var cc=De(v,function(v1){return jG(v1.model)});ow(v,function(v2){var v3=v2.model;var v1=m.option;aE(i,{coordId:jG(v3),allCoordIds:cc,containsPoint:function(G5,G4,G6){return v3.coordinateSystem.containPoint([G4,G6])},dataZoomId:m.id,throttleRate:m.get("throttle",true),panGetRange:oO(this._onPan,this,v2,Z),zoomGetRange:oO(this._onZoom,this,v2,Z),zoomLock:v1.zoomLock,disabled:v1.disabled,roamControllerOpt:{zoomOnMouseWheel:v1.zoomOnMouseWheel,moveOnMouseMove:v1.moveOnMouseMove,preventDefaultMouseMove:v1.preventDefaultMouseMove}})},this)},this)},dispose:function(){e3(this.api,this.dataZoomModel.id);qd.superApply(this,"dispose",arguments);this._range=null},_onPan:function(i,m,Z,G6,G4,v3,v2,e,G5){var v=this._range.slice();var v1=i.axisModels[0];if(!v1){return}var cc=uP[m]([v3,v2],[e,G5],v1,Z,i);var k=cc.signal*(v[1]-v[0])*cc.pixel/cc.pixelLength;mY(k,v,[0,100],"all");return(this._range=v)},_onZoom:function(e,k,v1,v,Z,m){var cc=this._range.slice();var G4=e.axisModels[0];if(!G4){return}var v3=uP[k](null,[Z,m],G4,v1,e);var i=(v3.signal>0?(v3.pixelStart+v3.pixelLength-v3.pixel):(v3.pixel-v3.pixelStart))/v3.pixelLength*(cc[1]-cc[0])+cc[0];v=Math.max(1/v,0);cc[0]=(cc[0]-i)*v+i;cc[1]=(cc[1]-i)*v+i;var v2=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();mY(0,cc,[0,100],0,v2.minSpan,v2.maxSpan);return(this._range=cc)}});var uP={grid:function(v1,i,m,e,Z){var v=m.axis;var k={};var cc=Z.model.coordinateSystem.getRect();v1=v1||[0,0];if(v.dim==="x"){k.pixel=i[0]-v1[0];k.pixelLength=cc.width;k.pixelStart=cc.x;k.signal=v.inverse?1:-1}else{k.pixel=i[1]-v1[1];k.pixelLength=cc.height;k.pixelStart=cc.y;k.signal=v.inverse?-1:1}return k},polar:function(e,m,v3,cc,i){var v=v3.axis;var v1={};var k=i.model.coordinateSystem;var Z=k.getRadiusAxis().getExtent();var v2=k.getAngleAxis().getExtent();e=e?k.pointToCoord(e):[0,0];m=k.pointToCoord(m);if(v3.mainType==="radiusAxis"){v1.pixel=m[0]-e[0];v1.pixelLength=Z[1]-Z[0];v1.pixelStart=Z[0];v1.signal=v.inverse?1:-1}else{v1.pixel=m[1]-e[1];v1.pixelLength=v2[1]-v2[0];v1.pixelStart=v2[0];v1.signal=v.inverse?-1:1}return v1},singleAxis:function(v1,i,m,e,Z){var v=m.axis;var cc=Z.model.coordinateSystem.getRect();var k={};v1=v1||[0,0];if(v.orient==="horizontal"){k.pixel=i[0]-v1[0];k.pixelLength=cc.width;k.pixelStart=cc.x;k.signal=v.inverse?1:-1}else{k.pixel=i[1]-v1[1];k.pixelLength=cc.height;k.pixelStart=cc.y;k.signal=v.inverse?-1:1}return k}};d3({getTargetSeries:function(e){var i=BN();e.eachComponent("dataZoom",function(k){k.eachTargetAxis(function(m,v,cc){var Z=cc.getAxisProxy(m.name,v);ow(Z.getTargetSeriesModels(),function(v1){i.set(v1.uid,v1)})})});return i},isOverallFilter:true,overallReset:function(e,i){e.eachComponent("dataZoom",function(k){k.eachTargetAxis(function(m,v,Z){Z.getAxisProxy(m.name,v).reset(Z,i)});k.eachTargetAxis(function(m,v,Z){Z.getAxisProxy(m.name,v).filterData(Z,i)})});e.eachComponent("dataZoom",function(Z){var m=Z.findRepresentativeAxisProxy();var k=m.getDataPercentWindow();var v=m.getDataValueWindow();Z.setRawRange({start:k[0],end:k[1],startValue:v[0],endValue:v[1]},true)})}});bZ("dataZoom",function(i,e){var k=pf(j0(e.eachComponent,e,"dataZoom"),iz,function(Z,v){return Z.get(v.axisIndex)});var m=[];e.eachComponent({mainType:"dataZoom",query:i},function(Z,v){m.push.apply(m,k(Z).nodes)});ow(m,function(Z,v){Z.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})});var sB=ow;var GK=function(i){var e=i&&i.visualMap;if(!Fw(e)){e=e?[e]:[]}sB(e,function(k){if(!k){return}if(ob(k,"splitList")&&!ob(k,"pieces")){k.pieces=k.splitList;delete k.splitList}var m=k.pieces;if(m&&Fw(m)){sB(m,function(v){if(sU(v)){if(ob(v,"start")&&!ob(v,"min")){v.min=v.start}if(ob(v,"end")&&!ob(v,"max")){v.max=v.end}}})}})};function ob(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}aI.registerSubTypeDefaulter("visualMap",function(e){return(!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable))?"continuous":"piecewise"});var n4=Bb.VISUAL.COMPONENT;E(n4,{createOnAllSeries:true,reset:function(i,e){var k=[];e.eachComponent("visualMap",function(m){if(!m.isTargetSeries(i)){return}k.push(kX(m.stateList,m.targetVisuals,j0(m.getValueState,m),m.getDataDimension(i.getData())))});return k}});E(n4,{createOnAllSeries:true,reset:function(i,e){var m=i.getData();var k=[];e.eachComponent("visualMap",function(cc){if(cc.isTargetSeries(i)){var v=cc.getVisualMeta(j0(dc,null,i,cc))||{stops:[],outerColors:[]};var v1=cc.getDataDimension(m);var Z=m.getDimensionInfo(v1);if(Z!=null){v.dimension=Z.index;k.push(v)}}});i.getData().setVisual("visualMeta",k)}});function dc(Z,G7,G6,v){var v1=G7.targetVisuals[v];var k=me.prepareVisualTypes(v1);var m={color:Z.getData().getVisual("color")};for(var cc=0,v2=k.length;cc<v2;cc++){var G4=k[cc];var e=v1[G4==="opacity"?"__alphaForOpacity":G4];e&&e.applyVisual(G6,v3,G5)}return m.color;function v3(i){return m[i]}function G5(i,G8){m[i]=G8}}var Gt={get:function(m,i,e){var k=B8((pw[m]||{})[i]);return e?(Fw(k)?k[k.length-1]:k):k}};var pw={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var mi=me.mapVisual;var nX=me.eachVisual;var GY=Fw;var sA=ow;var DS=ou;var ly=DM;var uT=U;var nh=pk({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:true},defaultOption:{show:true,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(k,i,e){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(k,e)},optionUpdated:function(i,k){var e=this.option;if(!r6.canvasSupported){e.realtime=false}!k&&mF(e,i,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(i){var e=this.stateList;i=j0(i,this);this.controllerVisuals=zj(this.option.controller,e,i);this.targetVisuals=zj(this.option.target,e,i)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex;var i=[];if(e==null||e==="all"){this.ecModel.eachSeries(function(k,m){i.push(m)})}else{i=lW(e)}return i},eachTargetSeries:function(i,e){ow(this.getTargetSeriesIndices(),function(k){i.call(e,this.ecModel.getSeriesByIndex(k))},this)},isTargetSeries:function(e){var i=false;this.eachTargetSeries(function(k){k===e&&(i=true)});return i},formatValueText:function(v1,Z,cc){var k=this.option;var m=k.precision;var v=this.dataBound;var v2=k.formatter;var v3;var i;cc=cc||["<",">"];if(Fw(v1)){v1=v1.slice();v3=true}i=Z?v1:(v3?[e(v1[0]),e(v1[1])]:e(v1));if(vi(v2)){return v2.replace("{value}",v3?i[0]:i).replace("{value2}",v3?i[1]:i)}else{if(D0(v2)){return v3?v2(v1[0],v1[1]):v2(v1)}}if(v3){if(v1[0]===v[0]){return cc[0]+" "+i[1]}else{if(v1[1]===v[1]){return cc[1]+" "+i[0]}else{return i[0]+" - "+i[1]}}}else{return i}function e(G4){return G4===v[0]?"min":G4===v[1]?"max":(+G4).toFixed(Math.min(m,20))}},resetExtent:function(){var e=this.option;var i=DS([e.min,e.max]);this._dataExtent=i},getDataDimension:function(v){var v1=this.option.dimension;var cc=v.dimensions;if(v1==null&&!cc.length){return}if(v1!=null){return v.getDimension(v1)}var k=v.dimensions;for(var m=k.length-1;m>=0;m--){var Z=k[m];var e=v.getDimensionInfo(Z);if(!e.isCalculationCoord){return Z}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var m=this.ecModel;var v1=this.option;var e={inRange:v1.inRange,outOfRange:v1.outOfRange};var v=v1.target||(v1.target={});var k=v1.controller||(v1.controller={});vb(v,e);vb(k,e);var Z=this.isCategory();cc.call(this,v);cc.call(this,k);v2.call(this,v,"inRange","outOfRange");i.call(this,k);function cc(v3){if(GY(v1.color)&&!v3.inRange){v3.inRange={color:v1.color.slice().reverse()}}v3.inRange=v3.inRange||{color:m.get("gradientColor")};sA(this.stateList,function(G5){var G6=v3[G5];if(vi(G6)){var G4=Gt.get(G6,"active",Z);if(G4){v3[G5]={};v3[G5][G6]=G4}else{delete v3[G5]}}},this)}function v2(G6,G7,G4){var G5=G6[G7];var v3=G6[G4];if(G5&&!v3){v3=G6[G4]={};sA(G5,function(Ha,G9){if(!me.isValidType(G9)){return}var G8=Gt.get(G9,"inactive",Z);if(G8!=null){v3[G9]=G8;if(G9==="color"&&!v3.hasOwnProperty("opacity")&&!v3.hasOwnProperty("colorAlpha")){v3.opacity=[0,0]}}})}}function i(v3){var G6=(v3.inRange||{}).symbol||(v3.outOfRange||{}).symbol;var G5=(v3.inRange||{}).symbolSize||(v3.outOfRange||{}).symbolSize;var G4=this.get("inactiveColor");sA(this.stateList,function(Ha){var Hb=this.itemSize;var G9=v3[Ha];if(!G9){G9=v3[Ha]={color:Z?G4:[G4]}}if(G9.symbol==null){G9.symbol=G6&&B8(G6)||(Z?"roundRect":["roundRect"])}if(G9.symbolSize==null){G9.symbolSize=G5&&B8(G5)||(Z?Hb[0]:[Hb[0],Hb[0]])}G9.symbol=mi(G9.symbol,function(Hc){return(Hc==="none"||Hc==="square")?"roundRect":Hc});var G8=G9.symbolSize;if(G8!=null){var G7=-Infinity;nX(G8,function(Hc){Hc>G7&&(G7=Hc)});G9.symbolSize=mi(G8,function(Hc){return ly(Hc,[0,G7],[0,Hb[0]],true)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:uT,getValueState:uT,getVisualMeta:uT});var m1=[20,140];var fN=nh.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:false,range:null,realtime:true,itemHeight:null,itemWidth:null,hoverLink:true,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,i){fN.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(k){k.mappingMethod="linear";k.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){fN.superApply(this,"resetItemSize",arguments);var e=this.itemSize;this._orient==="horizontal"&&e.reverse();(e[0]==null||isNaN(e[0]))&&(e[0]=m1[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=m1[1])},_resetRange:function(){var i=this.getExtent();var e=this.option.range;if(!e||e.auto){i.auto=1;this.option.range=i}else{if(Fw(e)){if(e[0]>e[1]){e.reverse()}e[0]=Math.max(e[0],i[0]);e[1]=Math.min(e[1],i[1])}}},completeVisualOption:function(){nh.prototype.completeVisualOption.apply(this,arguments);ow(this.stateList,function(i){var e=this.option.controller[i].symbolSize;if(e&&e[0]!==e[1]){e[0]=0}},this)},setSelected:function(e){this.option.range=e.slice();this._resetRange()},getSelected:function(){var i=this.getExtent();var e=ou((this.get("range")||[]).slice());e[0]>i[1]&&(e[0]=i[1]);e[1]>i[1]&&(e[1]=i[1]);e[0]<i[0]&&(e[0]=i[0]);e[1]<i[0]&&(e[1]=i[0]);return e},getValueState:function(k){var e=this.option.range;var i=this.getExtent();return((e[0]<=i[0]||e[0]<=k)&&(e[1]>=i[1]||k<=e[1]))?"inRange":"outOfRange"},findTargetDataIndices:function(i){var e=[];this.eachTargetSeries(function(k){var v=[];var m=k.getData();m.each(this.getDataDimension(m),function(cc,Z){i[0]<=cc&&cc<=i[1]&&v.push(Z)},this);e.push({seriesId:k.id,dataIndex:v})},this);return e},getVisualMeta:function(v1){var m=y2(this,"outOfRange",this.getExtent());var G4=y2(this,"inRange",this.option.range.slice());var v2=[];function k(G6,G5){v2.push({value:G6,color:v1(G6,G5)})}var Z=0;var v3=0;var i=G4.length;var cc=m.length;for(;v3<cc&&(!G4.length||m[v3]<=G4[0]);v3++){if(m[v3]<G4[Z]){k(m[v3],"outOfRange")}}for(var v=1;Z<i;Z++,v=0){v&&v2.length&&k(G4[Z],"outOfRange");k(G4[Z],"inRange")}for(var v=1;v3<cc;v3++){if(!G4.length||G4[G4.length-1]<m[v3]){if(v){v2.length&&k(v2[v2.length-1].value,"outOfRange");v=0}k(m[v3],"outOfRange")}}var e=v2.length;return{stops:v2,outerColors:[e?v2[0].color:"transparent",e?v2[e-1].color:"transparent"]}}});function y2(k,e,v2){if(v2[0]===v2[1]){return v2.slice()}var cc=200;var Z=(v2[1]-v2[0])/cc;var v1=v2[0];var v=[];for(var m=0;m<=cc&&v1<v2[1];m++){v.push(v1);v1+=Z}v.push(v2[1]);return v}var wS=pO({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,i){this.ecModel=e;this.api=i;this.visualMapModel},render:function(i,e,k,m){this.visualMapModel=i;if(i.get("show")===false){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(m){var e=this.visualMapModel;var k=An(e.get("padding")||0);var i=m.getBoundingRect();m.add(new DD({z2:-1,silent:true,shape:{x:i.x-k[3],y:i.y-k[0],width:i.width+k[3]+k[1],height:i.height+k[0]+k[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(cc,m,e){e=e||{};var k=e.forceState;var G4=this.visualMapModel;var v2={};if(m==="symbol"){v2.symbol=G4.get("itemSymbol")}if(m==="color"){var v=G4.get("contentColor");v2.color=v}function v3(G5){return v2[G5]}function Z(G5,G6){v2[G5]=G6}var v1=G4.controllerVisuals[k||G4.getValueState(cc)];var i=me.prepareVisualTypes(v1);ow(i,function(G6){var G5=v1[G6];if(e.convertOpacityToAlpha&&G6==="opacity"){G6="colorAlpha";G5=v1.__alphaForOpacity}if(me.dependsOn(G6,m)){G5&&G5.applyVisual(cc,v3,Z)}});return v2[m]},positionGroup:function(k){var e=this.visualMapModel;var i=this.api;zF(k,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:U});function EP(G5,v2,G7){var v1=G5.option;var e=v1.align;if(e!=null&&e!=="auto"){return e}var G4={width:v2.getWidth(),height:v2.getHeight()};var m=v1.orient==="horizontal"?1:0;var G6=[["left","right","width"],["top","bottom","height"]];var k=G6[m];var v=[0,null,10];var cc={};for(var Z=0;Z<3;Z++){cc[G6[1-m][Z]]=v[Z];cc[k[Z]]=Z===2?G7[0]:v1[k[Z]]}var G8=[["x","width",3],["y","height",0]][m];var v3=kx(cc,G4,v1.padding);return k[(v3.margin[G8[2]]||0)+v3[G8[0]]+v3[G8[1]]*0.5<G4[G8[1]]*0.5?0:1]}function bc(e){ow(e||[],function(i){if(e.dataIndex!=null){e.dataIndexInside=e.dataIndex;e.dataIndex=null}});return e}var lw=DM;var sz=ow;var i8=Math.min;var zM=Math.max;var bW=12;var fA=6;var gn=wS.extend({type:"visualMap.continuous",init:function(){gn.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(i,e,k,m){if(!m||m.type!=="selectDataRange"||m.from!==this.uid){this._buildView()}},_buildView:function(){this.group.removeAll();var k=this.visualMapModel;var i=this.group;this._orient=k.get("orient");this._useHandle=k.get("calculable");this._resetInterval();this._renderBar(i);var e=k.get("text");this._renderEndsText(i,e,0);this._renderEndsText(i,e,1);this._updateView(true);this.renderBackground(i);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(i)},_renderEndsText:function(v2,i,G5){if(!i){return}var v3=i[1-G5];v3=v3!=null?v3+"":"";var v1=this.visualMapModel;var e=v1.get("textGap");var G4=v1.itemSize;var cc=this._shapes.barGroup;var m=this._applyTransform([G4[0]/2,G5===0?-e:G4[1]+e],cc);var v=this._applyTransform(G5===0?"bottom":"top",cc);var k=this._orient;var Z=this.visualMapModel.textStyleModel;this.group.add(new iC({style:{x:m[0],y:m[1],textVerticalAlign:k==="horizontal"?"middle":v,textAlign:k==="horizontal"?v:"center",text:v3,textFont:Z.getFont(),textFill:Z.getTextColor()}}))},_renderBar:function(Z){var v2=this.visualMapModel;var k=this._shapes;var v3=v2.itemSize;var m=this._orient;var v=this._useHandle;var i=EP(v2,this.api,v3);var cc=k.barGroup=this._createBarGroup(i);cc.add(k.outOfRange=uu());cc.add(k.inRange=uu(null,v?tx(this._orient):null,j0(this._dragHandle,this,"all",false),j0(this._dragHandle,this,"all",true)));var v1=v2.textStyleModel.getTextRect("");var e=zM(v1.width,v1.height);if(v){k.handleThumbs=[];k.handleLabels=[];k.handleLabelPoints=[];this._createHandle(cc,0,v3,e,m,i);this._createHandle(cc,1,v3,e,m,i)}this._createIndicator(cc,v3,e,m);Z.add(cc)},_createHandle:function(G4,k,G5,e,Z){var v2=j0(this._dragHandle,this,k,false);var m=j0(this._dragHandle,this,k,true);var v1=uu(y0(k,e),tx(this._orient),v2,m);v1.position[0]=G5[0];G4.add(v1);var v3=this.visualMapModel.textStyleModel;var v=new iC({draggable:true,drift:v2,onmousemove:function(G6){FC(G6.event)},ondragend:m,style:{x:0,y:0,text:"",textFont:v3.getFont(),textFill:v3.getTextColor()}});this.group.add(v);var cc=[Z==="horizontal"?e/2:e*1.5,Z==="horizontal"?(k===0?-(e*1.5):(e*1.5)):(k===0?-e/2:e/2)];var i=this._shapes;i.handleThumbs[k]=v1;i.handleLabelPoints[k]=cc;i.handleLabels[k]=v},_createIndicator:function(v,v2,e,m){var cc=uu([[0,0]],"move");cc.position[0]=v2[0];cc.attr({invisible:true,silent:true});v.add(cc);var Z=this.visualMapModel.textStyleModel;var i=new iC({silent:true,invisible:true,style:{x:0,y:0,text:"",textFont:Z.getFont(),textFill:Z.getTextColor()}});this.group.add(i);var v1=[m==="horizontal"?e/2:fA+3,0];var k=this._shapes;k.indicator=cc;k.indicatorLabel=i;k.indicatorLabelPoint=v1},_dragHandle:function(v,m,i,e){if(!this._useHandle){return}this._dragging=!m;if(!m){var k=this._applyTransform([i,e],this._shapes.barGroup,true);this._updateInterval(v,k[1]);this._updateView()}if(m===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(m){!this._hovering&&this._clearHoverLinkToSeries()}else{if(uZ(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[v],false)}}},_resetInterval:function(){var i=this.visualMapModel;var k=this._dataInterval=i.getSelected();var m=i.getExtent();var e=[0,i.itemSize[1]];this._handleEnds=[lw(k[0],m,e,true),lw(k[1],m,e,true)]},_updateInterval:function(Z,v){v=v||0;var i=this.visualMapModel;var m=this._handleEnds;var e=[0,i.itemSize[1]];mY(v,m,e,Z,0);var k=i.getExtent();this._dataInterval=[lw(m[0],e,k,true),lw(m[1],e,k,true)]},_updateView:function(v1){var m=this.visualMapModel;var Z=m.getExtent();var k=this._shapes;var i=[0,m.itemSize[1]];var v=v1?i:this._handleEnds;var cc=this._createBarVisual(this._dataInterval,Z,v,"inRange");var e=this._createBarVisual(Z,Z,i,"outOfRange");k.inRange.setStyle({fill:cc.barColor,opacity:cc.opacity}).setShape("points",cc.barPoints);k.outOfRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);this._updateHandle(v,cc)},_createBarVisual:function(Z,cc,v1,k){var v={forceState:k,convertOpacityToAlpha:true};var i=this._makeColorGradient(Z,v);var m=[this.getControllerVisual(Z[0],"symbolSize",v),this.getControllerVisual(Z[1],"symbolSize",v)];var e=this._createBarPoints(v1,m);return{barColor:new tP(0,0,0,1,i),barPoints:e,handlesColor:[i[0].color,i[i.length-1].color]}},_makeColorGradient:function(v1,cc){var e=100;var m=[];var Z=(v1[1]-v1[0])/e;m.push({color:this.getControllerVisual(v1[0],"color",cc),offset:0});for(var v=1;v<e;v++){var k=v1[0]+Z*v;if(k>v1[1]){break}m.push({color:this.getControllerVisual(k,"color",cc),offset:v/e})}m.push({color:this.getControllerVisual(v1[1],"color",cc),offset:1});return m},_createBarPoints:function(k,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],k[0]],[i[0],k[0]],[i[0],k[1]],[i[0]-e[1],k[1]]]},_createBarGroup:function(i){var k=this._orient;var e=this.visualMapModel.get("inverse");return new Bd((k==="horizontal"&&!e)?{scale:i==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:(k==="horizontal"&&e)?{scale:i==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:(k==="vertical"&&!e)?{scale:i==="left"?[1,-1]:[-1,-1]}:{scale:i==="left"?[1,1]:[-1,1]})},_updateHandle:function(Z,v){if(!this._useHandle){return}var e=this._shapes;var k=this.visualMapModel;var m=e.handleThumbs;var i=e.handleLabels;sz([0,1],function(v2){var v1=m[v2];v1.setStyle("fill",v.handlesColor[v2]);v1.position[1]=Z[v2];var cc=ve(e.handleLabelPoints[v2],aJ(v1,this.group));i[v2].setStyle({x:cc[0],y:cc[1],text:k.formatValueText(this._dataInterval[v2]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?(v2===0?"bottom":"top"):"left",e.barGroup)})},this)},_showIndicator:function(G5,cc,Z,v2){var G8=this.visualMapModel;var Ha=G8.getExtent();var G9=G8.itemSize;var v3=[0,G9[1]];var G6=lw(G5,Ha,v3,true);var k=this._shapes;var G7=k.indicator;if(!G7){return}G7.position[1]=G6;G7.attr("invisible",false);G7.setShape("points",rt(!!Z,v2,G6,G9[1]));var e={convertOpacityToAlpha:true};var v=this.getControllerVisual(G5,"color",e);G7.setStyle("fill",v);var m=ve(k.indicatorLabelPoint,aJ(G7,this.group));var i=k.indicatorLabel;i.attr("invisible",false);var G4=this._applyTransform("left",k.barGroup);var v1=this._orient;i.setStyle({text:(Z?Z:"")+G8.formatValueText(cc),textVerticalAlign:v1==="horizontal"?G4:"middle",textAlign:v1==="horizontal"?"center":G4,x:m[0],y:m[1]})},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(k){e._hovering=true;if(!e._dragging){var i=e.visualMapModel.itemSize;var m=e._applyTransform([k.offsetX,k.offsetY],e._shapes.barGroup,true,true);m[1]=i8(zM(0,m[1]),i[1]);e._doHoverLinkToSeries(m[1],0<=m[0]&&m[0]<=i[0])}}).on("mouseout",function(){e._hovering=false;!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();if(this.visualMapModel.option.hoverLink){e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);e.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}},_doHoverLinkToSeries:function(e,k){var v3=this.visualMapModel;var G5=v3.itemSize;if(!v3.option.hoverLink){return}var m=[0,G5[1]];var G6=v3.getExtent();e=i8(zM(m[0],e),m[1]);var i=zE(v3,G6,m);var v1=[e-i,e+i];var cc=lw(e,m,G6,true);var Z=[lw(v1[0],m,G6,true),lw(v1[1],m,G6,true)];v1[0]<m[0]&&(Z[0]=-Infinity);v1[1]>m[1]&&(Z[1]=Infinity);if(k){if(Z[0]===-Infinity){this._showIndicator(cc,Z[1],"< ",i)}else{if(Z[1]===Infinity){this._showIndicator(cc,Z[0],"> ",i)}else{this._showIndicator(cc,cc," ",i)}}}var v=this._hoverLinkDataIndices;var v2=[];if(k||uZ(v3)){v2=this._hoverLinkDataIndices=v3.findTargetDataIndices(Z)}var G4=co(v,v2);this._dispatchHighDown("downplay",bc(G4[0]));this._dispatchHighDown("highlight",bc(G4[1]))},_hoverLinkFromSeriesMouseOver:function(cc){var m=cc.target;var i=this.visualMapModel;if(!m||m.dataIndex==null){return}var k=this.ecModel.getSeriesByIndex(m.seriesIndex);if(!i.isTargetSeries(k)){return}var Z=k.getData(m.dataType);var v=Z.get(i.getDataDimension(Z),m.dataIndex,true);if(!isNaN(v)){this._showIndicator(v,v)}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",true);e.indicatorLabel&&e.indicatorLabel.attr("invisible",true)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",bc(e));e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver);e.off("mouseout",this._hideIndicator)},_applyTransform:function(v,k,e,m){var i=aJ(k,m?null:this.group);return xr[Fw(v)?"applyTransform":"transformDirection"](v,i,e)},_dispatchHighDown:function(i,e){e&&e.length&&this.api.dispatchAction({type:i,batch:e})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});function uu(k,m,i,e){return new hV({shape:{points:k},draggable:!!i,cursor:m,drift:i,onmousemove:function(v){FC(v.event)},ondragend:e})}function y0(i,e){return i===0?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function rt(i,k,m,e){return i?[[0,-i8(k,zM(m,0))],[fA,0],[0,i8(k,zM(e-m,0))]]:[[0,0],[5,-5],[5,5]]}function zE(i,v,e){var m=bW/2;var k=i.get("hoverLinkDataSize");if(k){m=lw(k,v,e,true)/2}return m}function uZ(i){var e=i.get("hoverLinkOnHandle");return !!(e==null?i.get("realtime"):e)}function tx(e){return e==="vertical"?"ns-resize":"ew-resize"}var Bi={type:"selectDataRange",event:"dataRangeSelected",update:"update"};bZ(Bi,function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(k){k.setSelected(i.selected)})});yc(GK);var r7=nh.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true,showLabel:null},optionUpdated:function(i,m){r7.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var k=this._mode=this._determineMode();cg[this._mode].call(this);this._resetSelected(i,m);var e=this.option.categories;this.resetVisual(function(Z,v){if(k==="categories"){Z.mappingMethod="category";Z.categories=B8(e)}else{Z.dataExtent=this.getExtent();Z.mappingMethod="piecewise";Z.pieceList=De(this._pieceList,function(cc){var cc=B8(cc);if(v!=="inRange"){cc.visual=null}return cc})}})},completeVisualOption:function(){var m=this.option;var k={};var v=me.listVisualTypes();var e=this.isCategory();ow(m.pieces,function(Z){ow(v,function(cc){if(Z.hasOwnProperty(cc)){k[cc]=1}})});ow(k,function(Z,v1){var cc=0;ow(this.stateList,function(v2){cc|=i(m,v2,v1)||i(m.target,v2,v1)},this);!cc&&ow(this.stateList,function(v2){(m[v2]||(m[v2]={}))[v1]=Gt.get(v1,v2==="inRange"?"active":"inactive",e)})},this);function i(v1,Z,cc){return v1&&v1[Z]&&(sU(v1[Z])?v1[Z].hasOwnProperty(cc):v1[Z]===cc)}nh.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(v,Z){var i=this.option;var e=this._pieceList;var k=(Z?i:v).selected||{};i.selected=k;ow(e,function(v2,cc){var v1=this.getSelectedMapKey(v2);if(!k.hasOwnProperty(v1)){k[v1]=true}},this);if(i.selectedMode==="single"){var m=false;ow(e,function(v2,cc){var v1=this.getSelectedMapKey(v2);if(k[v1]){m?(k[v1]=false):(m=true)}},this)}},getSelectedMapKey:function(e){return this._mode==="categories"?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=B8(e)},getValueState:function(i){var e=me.findPieceIndex(i,this._pieceList);return e!=null?(this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"):"outOfRange"},findTargetDataIndices:function(i){var e=[];this.eachTargetSeries(function(k){var v=[];var m=k.getData();m.each(this.getDataDimension(m),function(v1,cc){var Z=me.findPieceIndex(v1,this._pieceList);Z===i&&v.push(cc)},this);e.push({seriesId:k.id,dataIndex:v})},this);return e},getRepresentValue:function(i){var e;if(this.isCategory()){e=i.value}else{if(i.value!=null){e=i.value}else{var k=i.interval||[];e=(k[0]===-Infinity&&k[1]===Infinity)?0:(k[0]+k[1])/2}}return e},getVisualMeta:function(v){if(this.isCategory()){return}var m=[];var cc=[];var i=this;function v1(G4,v3){var G5=i.getRepresentValue({interval:G4});if(!v3){v3=i.getValueState(G5)}var v2=v(G5,v3);if(G4[0]===-Infinity){cc[0]=v2}else{if(G4[1]===Infinity){cc[1]=v2}else{m.push({value:G4[0],color:v2},{value:G4[1],color:v2})}}}var e=this._pieceList.slice();if(!e.length){e.push({interval:[-Infinity,Infinity]})}else{var k=e[0].interval[0];k!==-Infinity&&e.unshift({interval:[-Infinity,k]});k=e[e.length-1].interval[1];k!==Infinity&&e.push({interval:[k,Infinity]})}var Z=-Infinity;ow(e,function(v3){var v2=v3.interval;if(v2){v2[0]>Z&&v1([Z,v2[0]],"outOfRange");v1(v2.slice());Z=v2[1]}},this);return{stops:m,outerColors:cc}}});var cg={splitNumber:function(){var cc=this.option;var e=this._pieceList;var k=Math.min(cc.precision,20);var v1=this.getExtent();var i=cc.splitNumber;i=Math.max(parseInt(i,10),1);cc.splitNumber=i;var v3=(v1[1]-v1[0])/i;while(+v3.toFixed(k)!==v3&&k<5){k++}cc.precision=k;v3=+v3.toFixed(k);var v=0;if(cc.minOpen){e.push({index:v++,interval:[-Infinity,v1[0]],close:[0,0]})}for(var v2=v1[0],m=v+i;v<m;v2+=v3){var Z=v===i-1?v1[1]:(v2+v3);e.push({index:v++,interval:[v2,Z],close:[1,1]})}if(cc.maxOpen){e.push({index:v++,interval:[v1[1],Infinity],close:[0,0]})}V(e);ow(e,function(G4){G4.text=this.formatValueText(G4.interval)},this)},categories:function(){var e=this.option;ow(e.categories,function(i){this._pieceList.push({text:this.formatValueText(i,true),value:i})},this);D8(e,this._pieceList)},pieces:function(){var i=this.option;var e=this._pieceList;ow(i.pieces,function(Z,v1){if(!sU(Z)){Z={value:Z}}var G7={text:"",index:v1};if(Z.label!=null){G7.text=Z.label}if(Z.hasOwnProperty("value")){var G4=G7.value=Z.value;G7.interval=[G4,G4];G7.close=[1,1]}else{var m=G7.interval=[];var G6=G7.close=[0,0];var k=[1,0,1];var v2=[-Infinity,Infinity];var v=[];for(var G5=0;G5<2;G5++){var v3=[["gte","gt","min"],["lte","lt","max"]][G5];for(var cc=0;cc<3&&m[G5]==null;cc++){m[G5]=Z[v3[cc]];G6[G5]=k[cc];v[G5]=cc===2}m[G5]==null&&(m[G5]=v2[G5])}v[0]&&m[1]===Infinity&&(G6[0]=0);v[1]&&m[0]===-Infinity&&(G6[1]=0);if(nK){if(m[0]>m[1]){console.warn("Piece "+v1+"is illegal: "+m+" lower bound should not greater then uppper bound.")}}if(m[0]===m[1]&&G6[0]&&G6[1]){G7.value=m[0]}}G7.visual=me.retrieveVisuals(Z);e.push(G7)},this);D8(i,e);V(e);ow(e,function(m){var v=m.close;var k=[["<",""][v[1]],[">",""][v[0]]];m.text=m.text||this.formatValueText(m.value!=null?m.value:m.interval,false,k)},this)}};function D8(k,i){var e=k.inverse;if(k.orient==="vertical"?!e:e){i.reverse()}}var ha=wS.extend({type:"visualMap.piecewise",doRender:function(){var v=this.group;v.removeAll();var v3=this.visualMapModel;var e=v3.get("textGap");var v2=v3.textStyleModel;var m=v2.getFont();var G5=v2.getTextColor();var i=this._getItemAlign();var G4=v3.itemSize;var k=this._getViewData();var cc=k.endsText;var v1=gg(v3.get("showLabel",true),!cc);cc&&this._renderEndsText(v,cc[0],G4,v1,i);ow(k.viewPieceList,Z,this);cc&&this._renderEndsText(v,cc[1],G4,v1,i);e4(v3.get("orient"),v,v3.get("itemGap"));this.renderBackground(v);this.positionGroup(v);function Z(G8){var G7=G8.piece;var Ha=new Bd();Ha.onclick=j0(this._onItemClick,this,G7);this._enableHoverLink(Ha,G8.indexInModelPieceList);var G6=v3.getRepresentValue(G7);this._createItemSymbol(Ha,G6,[0,0,G4[0],G4[1]]);if(v1){var G9=this.visualMapModel.getValueState(G6);Ha.add(new iC({style:{x:i==="right"?-e:G4[0]+e,y:G4[1]/2,text:G7.text,textVerticalAlign:"middle",textAlign:i,textFont:m,textFill:G5,opacity:G9==="outOfRange"?0.5:1}}))}v.add(Ha)}},_enableHoverLink:function(k,i){k.on("mouseover",j0(e,this,"highlight")).on("mouseout",j0(e,this,"downplay"));function e(v){var m=this.visualMapModel;m.option.hoverLink&&this.api.dispatchAction({type:v,batch:bc(m.findTargetDataIndices(i))})}},_getItemAlign:function(){var e=this.visualMapModel;var i=e.option;if(i.orient==="vertical"){return EP(e,this.api,e.itemSize)}else{var k=i.align;if(!k||k==="auto"){k="left"}return k}},_renderEndsText:function(v,Z,m,i,e){if(!Z){return}var cc=new Bd();var k=this.visualMapModel.textStyleModel;cc.add(new iC({style:{x:i?(e==="right"?m[0]:0):m[0]/2,y:m[1]/2,textVerticalAlign:"middle",textAlign:i?e:"center",text:Z,textFont:k.getFont(),textFill:k.getTextColor()}}));v.add(cc)},_getViewData:function(){var m=this.visualMapModel;var v=De(m.getPieceList(),function(cc,Z){return{piece:cc,indexInModelPieceList:Z}});var i=m.get("text");var k=m.get("orient");var e=m.get("inverse");if(k==="horizontal"?e:!e){v.reverse()}else{if(i){i=i.slice().reverse()}}return{viewPieceList:v,endsText:i}},_createItemSymbol:function(i,e,k){i.add(tk(this.getControllerVisual(e,"symbol"),k[0],k[1],k[2],k[3],this.getControllerVisual(e,"color")))},_onItemClick:function(m){var e=this.visualMapModel;var k=e.option;var i=B8(k.selected);var v=e.getSelectedMapKey(m);if(k.selectedMode==="single"){i[v]=true;ow(i,function(cc,Z){i[Z]=Z===v})}else{i[v]=!i[v]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});yc(GK);var cn=jK;var cq=l3;function uX(e){CB(e,"label",["show"])}var rL=pk({type:"marker",dependencies:["series","grid","polar","geo"],init:function(k,i,e,m){if(nK){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(k,e);this.mergeOption(k,e,m.createdBySelf,true)},isAnimationEnabled:function(){if(r6.node){return false}var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(v,k,i,Z){var m=this.constructor;var e=this.mainType+"Model";if(!i){k.eachSeries(function(v1){var v2=v1.get(this.mainType);var cc=v1[e];if(!v2||!v2.data){v1[e]=null;return}if(!cc){if(Z){uX(v2)}ow(v2.data,function(v3){if(v3 instanceof Array){uX(v3[0]);uX(v3[1])}else{uX(v3)}});cc=new m(v2,this,k);bY(cc,{mainType:this.mainType,seriesIndex:v1.seriesIndex,name:v1.name,createdBySelf:true});cc.__hostSeries=v1}else{cc.mergeOption(v2,k,true)}v1[e]=cc},this)}},formatTooltip:function(k){var Z=this.getData();var v=this.getRawValue(k);var m=Fw(v)?De(v,cn).join(", "):cn(v);var e=Z.getName(k);var i=cq(this.name);if(v!=null||e){i+="<br />"}if(e){i+=cq(e);if(v!=null){i+=" : "}}if(v!=null){i+=cq(m)}return i},getData:function(){return this._data},setData:function(e){this._data=e}});Ff(rL,ul);rL.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}}});var h9=eB;function lr(e){return !(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function iY(e){return !isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function r4(e,k,v1,i,v,G4){var G5=[];var Z=lt(k,i,v1);var cc=Z?k.getCalculationInfo("stackResultDimension"):i;var v3=wl(k,cc,e);var v2=k.indicesOfNearest(cc,v3)[0];G5[v]=k.get(v1,v2);G5[G4]=k.get(i,v2);var m=n9(k.get(i,v2));m=Math.min(m,20);if(m>=0){G5[G4]=+G5[G4].toFixed(m)}return G5}var tp=rH;var dp={min:tp(r4,"min"),max:tp(r4,"max"),average:tp(r4,"average")};function D7(e,G4){var Z=e.getData();var k=e.coordinateSystem;if(G4&&!iY(G4)&&!Fw(G4.coord)&&k){var v2=k.dimensions;var m=GS(G4,Z,k,e);G4=B8(G4);if(G4.type&&dp[G4.type]&&m.baseAxis&&m.valueAxis){var cc=h9(v2,m.baseAxis.dim);var v3=h9(v2,m.valueAxis.dim);G4.coord=dp[G4.type](Z,m.baseDataDim,m.valueDataDim,cc,v3);G4.value=G4.coord[v3]}else{var v1=[G4.xAxis!=null?G4.xAxis:G4.radiusAxis,G4.yAxis!=null?G4.yAxis:G4.angleAxis];for(var v=0;v<2;v++){if(dp[v1[v]]){v1[v]=wl(Z,Z.mapDimension(v2[v]),v1[v])}}G4.coord=v1}}return G4}function GS(m,v,k,e){var i={};if(m.valueIndex!=null||m.valueDim!=null){i.valueDataDim=m.valueIndex!=null?v.getDimension(m.valueIndex):m.valueDim;i.valueAxis=k.getAxis(t8(e,i.valueDataDim));i.baseAxis=k.getOtherAxis(i.valueAxis);i.baseDataDim=v.mapDimension(i.baseAxis.dim)}else{i.baseAxis=e.getBaseAxis();i.valueAxis=k.getOtherAxis(i.baseAxis);i.baseDataDim=v.mapDimension(i.baseAxis.dim);i.valueDataDim=v.mapDimension(i.valueAxis.dim)}return i}function t8(m,k){var cc=m.getData();var Z=cc.dimensions;k=cc.getDimension(k);for(var v=0;v<Z.length;v++){var e=cc.getDimensionInfo(Z[v]);if(e.name===k){return e.coordDim}}}function cV(e,i){return(e&&e.containData&&i.coord&&!lr(i))?e.containData(i.coord):true}function gv(i,m,e,k){if(k<2){return i.coord&&i.coord[k]}return i.value}function wl(m,v,i){if(i==="average"){var e=0;var k=0;m.each(v,function(cc,Z){if(!isNaN(cc)){e+=cc;k++}});return e/k}else{return m.getDataExtent(v,true)[i==="max"?1:0]}}var su=pO({type:"marker",init:function(){this.markerGroupMap=BN()},render:function(i,e,k){var v=this.markerGroupMap;v.each(function(Z){Z.__keep=false});var m=this.type+"Model";e.eachSeries(function(cc){var Z=cc[m];Z&&this.renderSeries(cc,Z,e,k)},this);v.each(function(Z){!Z.__keep&&this.group.remove(Z.group)},this)},renderSeries:function(){}});function gV(m,e,k){var i=e.coordinateSystem;m.each(function(cc){var v1=m.getItemModel(cc);var Z;var G4=yW(v1.get("x"),k.getWidth());var v2=yW(v1.get("y"),k.getHeight());if(!isNaN(G4)&&!isNaN(v2)){Z=[G4,v2]}else{if(e.getMarkerPosition){Z=e.getMarkerPosition(m.getValues(m.dimensions,cc))}else{if(i){var v=m.get(i.dimensions[0],cc);var v3=m.get(i.dimensions[1],cc);Z=i.dataToPoint([v,v3])}}}if(!isNaN(G4)){Z[0]=G4}if(!isNaN(v2)){Z[1]=v2}m.setItemLayout(cc,Z)})}su.extend({type:"markPoint",updateTransform:function(k,e,i){e.eachSeries(function(m){var v=m.markPointModel;if(v){gV(v.getData(),m,i);this.markerGroupMap.get(m.id).updateLayout(v)}},this)},renderSeries:function(k,v1,Z,cc){var m=k.coordinateSystem;var v2=k.id;var i=k.getData();var v3=this.markerGroupMap;var e=v3.get(v2)||v3.set(v2,new D4());var v=aD(m,k,v1);v1.setData(v);gV(v1.getData(),k,cc);v.each(function(G4){var G5=v.getItemModel(G4);var G6=G5.getShallow("symbolSize");if(typeof G6==="function"){G6=G6(v1.getRawValue(G4),v1.getDataParams(G4))}v.setItemVisual(G4,{symbolSize:G6,color:G5.get("itemStyle.color")||i.getVisual("color"),symbol:G5.getShallow("symbol")})});e.updateData(v);this.group.add(e.group);v.eachItemGraphicEl(function(G4){G4.traverse(function(G5){G5.dataModel=v1})});e.__keep=true;e.group.silent=v1.get("silent")||k.get("silent")}});function aD(i,e,Z){var k;if(i){k=De(i&&i.dimensions,function(cc){var v1=e.getData().getDimensionInfo(e.getData().mapDimension(cc))||{};return Ch({name:cc},v1)})}else{k=[{name:"value",type:"float"}]}var m=new wF(k,Z);var v=De(Z.get("data"),rH(D7,e));if(i){v=qi(v,rH(cV,i))}m.initData(v,null,i?gv:function(cc){return cc.value});return m}yc(function(e){e.markPoint=e.markPoint||{}});rL.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"}});var xF=function(k,v,v1,G7){var Z=k.getData();var e=G7.type;if(!Fw(G7)&&(e==="min"||e==="max"||e==="average"||(G7.xAxis!=null||G7.yAxis!=null))){var G6;var v2;var G5;if(G7.yAxis!=null||G7.xAxis!=null){v2=G7.yAxis!=null?"y":"x";G6=v.getAxis(v2);G5=gg(G7.yAxis,G7.xAxis)}else{var m=GS(G7,Z,v,k);v2=m.valueDataDim;G6=m.valueAxis;G5=wl(Z,v2,e)}var v3=v2==="x"?0:1;var G4=1-v3;var i=B8(G7);var G8={};i.type=null;i.coord=[];G8.coord=[];i.coord[G4]=-Infinity;G8.coord[G4]=Infinity;var cc=v1.get("precision");if(cc>=0&&typeof G5==="number"){G5=+G5.toFixed(Math.min(cc,20))}i.coord[v3]=G8.coord[v3]=G5;G7=[i,G8,{type:e,valueIndex:G7.valueIndex,value:G5}]}G7=[D7(k,G7[0]),D7(k,G7[1]),bY({},G7[2])];G7[2].type=G7[2].type||"";vb(G7[2],G7[0]);vb(G7[2],G7[1]);return G7};function FD(e){return !isNaN(e)&&!isFinite(e)}function y3(v,e,k,i){var Z=1-v;var m=i.dimensions[v];return FD(e[Z])&&FD(k[Z])&&e[v]===k[v]&&i.getAxis(m).containData(e[v])}function GJ(k,m){if(k.type==="cartesian2d"){var e=m[0].coord;var i=m[1].coord;if(e&&i&&(y3(1,e,i,k)||y3(0,e,i,k))){return true}}return cV(k,m[0])&&cV(k,m[1])}function h1(v1,G6,cc,v,v2){var Z=v.coordinateSystem;var G8=v1.getItemModel(G6);var G7;var e=yW(G8.get("x"),v2.getWidth());var m=yW(G8.get("y"),v2.getHeight());if(!isNaN(e)&&!isNaN(m)){G7=[e,m]}else{if(v.getMarkerPosition){G7=v.getMarkerPosition(v1.getValues(v1.dimensions,G6))}else{var G5=Z.dimensions;var G4=v1.get(G5[0],G6);var v3=v1.get(G5[1],G6);G7=Z.dataToPoint([G4,v3])}if(Z.type==="cartesian2d"){var k=Z.getAxis("x");var i=Z.getAxis("y");var G5=Z.dimensions;if(FD(v1.get(G5[0],G6))){G7[0]=k.toGlobalCoord(k.getExtent()[cc?0:1])}else{if(FD(v1.get(G5[1],G6))){G7[1]=i.toGlobalCoord(i.getExtent()[cc?0:1])}}}if(!isNaN(e)){G7[0]=e}if(!isNaN(m)){G7[1]=m}}v1.setItemLayout(G6,G7)}su.extend({type:"markLine",updateTransform:function(i,e,k){e.eachSeries(function(v){var m=v.markLineModel;if(m){var cc=m.getData();var v1=m.__from;var Z=m.__to;v1.each(function(v2){h1(v1,v2,true,v,k);h1(Z,v2,false,v,k)});cc.each(function(v2){cc.setItemLayout(v2,[v1.getItemLayout(v2),Z.getItemLayout(v2)])});this.markerGroupMap.get(v.id).updateLayout()}},this)},renderSeries:function(m,Z,cc,v1){var v=m.coordinateSystem;var G5=m.id;var e=m.getData();var G8=this.markerGroupMap;var v2=G8.get(G5)||G8.set(G5,new hi());this.group.add(v2.group);var G4=aC(v,m,Z);var G7=G4.from;var v3=G4.to;var k=G4.line;Z.__from=G7;Z.__to=v3;Z.setData(k);var G9=Z.get("symbol");var i=Z.get("symbolSize");if(!Fw(G9)){G9=[G9,G9]}if(typeof i==="number"){i=[i,i]}G4.from.each(function(Ha){G6(G7,Ha,true);G6(v3,Ha,false)});k.each(function(Ha){var Hb=k.getItemModel(Ha).get("lineStyle.color");k.setItemVisual(Ha,{color:Hb||G7.getItemVisual(Ha,"color")});k.setItemLayout(Ha,[G7.getItemLayout(Ha),v3.getItemLayout(Ha)]);k.setItemVisual(Ha,{fromSymbolSize:G7.getItemVisual(Ha,"symbolSize"),fromSymbol:G7.getItemVisual(Ha,"symbol"),toSymbolSize:v3.getItemVisual(Ha,"symbolSize"),toSymbol:v3.getItemVisual(Ha,"symbol")})});v2.updateData(k);G4.line.eachItemGraphicEl(function(Hb,Ha){Hb.traverse(function(Hc){Hc.dataModel=Z})});function G6(Hd,Hb,Ha){var Hc=Hd.getItemModel(Hb);h1(Hd,Hb,Ha,m,v1);Hd.setItemVisual(Hb,{symbolSize:Hc.get("symbolSize")||i[Ha?0:1],symbol:Hc.get("symbol",true)||G9[Ha?0:1],color:Hc.get("itemStyle.color")||e.getVisual("color")})}v2.__keep=true;v2.group.silent=Z.get("silent")||m.get("silent")}});function aC(m,i,Z){var cc;if(m){cc=De(m&&m.dimensions,function(v3){var G4=i.getData().getDimensionInfo(i.getData().mapDimension(v3))||{};return Ch({name:v3},G4)})}else{cc=[{name:"value",type:"float"}]}var v2=new wF(cc,Z);var v1=new wF(cc,Z);var e=new wF([],Z);var k=De(Z.get("data"),rH(xF,i,m,Z));if(m){k=qi(k,rH(GJ,m))}var v=m?gv:function(v3){return v3.value};v2.initData(De(k,function(v3){return v3[0]}),null,v);v1.initData(De(k,function(v3){return v3[1]}),null,v);e.initData(De(k,function(v3){return v3[2]}));e.hasItemOption=true;return{from:v2,to:v1,line:e}}yc(function(e){e.markLine=e.markLine||{}});rL.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}}});var gu=function(m,v,i,v1){var Z=D7(m,v1[0]);var e=D7(m,v1[1]);var v3=gg;var cc=Z.coord;var k=e.coord;cc[0]=v3(cc[0],-Infinity);cc[1]=v3(cc[1],-Infinity);k[0]=v3(k[0],Infinity);k[1]=v3(k[1],Infinity);var v2=Y([{},Z,e]);v2.coord=[Z.coord,e.coord];v2.x0=Z.x;v2.y0=Z.y;v2.x1=e.x;v2.y1=e.y;return v2};function dt(e){return !isNaN(e)&&!isFinite(e)}function jn(m,e,k,i){var v=1-m;return dt(e[v])&&dt(k[v])}function Bv(k,m){var e=m.coord[0];var i=m.coord[1];if(k.type==="cartesian2d"){if(e&&i&&(jn(1,e,i,k)||jn(0,e,i,k))){return true}}return cV(k,{coord:e,x:m.x0,y:m.y0})||cV(k,{coord:i,x:m.x1,y:m.y1})}function xa(cc,G5,G4,v,v1){var Z=v.coordinateSystem;var G7=cc.getItemModel(G5);var G6;var e=yW(G7.get(G4[0]),v1.getWidth());var m=yW(G7.get(G4[1]),v1.getHeight());if(!isNaN(e)&&!isNaN(m)){G6=[e,m]}else{if(v.getMarkerPosition){G6=v.getMarkerPosition(cc.getValues(G4,G5))}else{var v3=cc.get(G4[0],G5);var v2=cc.get(G4[1],G5);var G8=[v3,v2];Z.clampData&&Z.clampData(G8,G8);G6=Z.dataToPoint(G8,true)}if(Z.type==="cartesian2d"){var k=Z.getAxis("x");var i=Z.getAxis("y");var v3=cc.get(G4[0],G5);var v2=cc.get(G4[1],G5);if(dt(v3)){G6[0]=k.toGlobalCoord(k.getExtent()[G4[0]==="x0"?0:1])}else{if(dt(v2)){G6[1]=i.toGlobalCoord(i.getExtent()[G4[1]==="y0"?0:1])}}}if(!isNaN(e)){G6[0]=e}if(!isNaN(m)){G6[1]=m}}return G6}var f0=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];su.extend({type:"markArea",updateTransform:function(k,e,i){e.eachSeries(function(v){var m=v.markAreaModel;if(m){var Z=m.getData();Z.each(function(cc){var v2=De(f0,function(v3){return xa(Z,cc,v3,v,i)});Z.setItemLayout(cc,v2);var v1=Z.getItemGraphicEl(cc);v1.setShape("points",v2)})}},this)},renderSeries:function(v,k,cc,v1){var Z=v.coordinateSystem;var v2=v.name;var i=v.getData();var m=this.markerGroupMap;var e=m.get(v2)||m.set(v2,{group:new Bd()});this.group.add(e.group);e.__keep=true;var v3=aB(Z,v,k);k.setData(v3);v3.each(function(G4){v3.setItemLayout(G4,De(f0,function(G5){return xa(v3,G4,G5,v,v1)}));v3.setItemVisual(G4,{color:i.getVisual("color")})});v3.diff(e.__data).add(function(G4){var G5=new hV({shape:{points:v3.getItemLayout(G4)}});v3.setItemGraphicEl(G4,G5);e.group.add(G5)}).update(function(G6,G5){var G4=e.__data.getItemGraphicEl(G5);og(G4,{shape:{points:v3.getItemLayout(G6)}},k,G6);e.group.add(G4);v3.setItemGraphicEl(G6,G4)}).remove(function(G4){var G5=e.__data.getItemGraphicEl(G4);e.group.remove(G5)}).execute();v3.eachItemGraphicEl(function(G7,G5){var G8=v3.getItemModel(G5);var G9=G8.getModel("label");var G4=G8.getModel("emphasis.label");var G6=v3.getItemVisual(G5,"color");G7.useStyle(Ch(G8.getModel("itemStyle").getItemStyle(),{fill:h4(G6,0.4),stroke:G6}));G7.hoverStyle=G8.getModel("emphasis.itemStyle").getItemStyle();AG(G7.style,G7.hoverStyle,G9,G4,{labelFetcher:k,labelDataIndex:G5,defaultText:v3.getName(G5)||"",isRectText:true,autoColor:G6});xz(G7,{});G7.dataModel=k});e.__data=v3;e.group.silent=k.get("silent")||v.get("silent")}});function aB(Z,m,k){var cc;var v;var v1=["x0","y0","x1","y1"];if(Z){cc=De(Z&&Z.dimensions,function(v2){var v3=m.getData();var G4=v3.getDimensionInfo(v3.mapDimension(v2))||{};return Ch({name:v2},G4)});v=new wF(De(v1,function(v3,v2){return{name:v3,type:cc[v2%2].type}}),k)}else{cc=[{name:"value",type:"float"}];v=new wF(cc,k)}var i=De(k.get("data"),rH(gu,m,Z,k));if(Z){i=qi(i,rH(Bv,Z))}var e=Z?function(v3,G5,v2,G4){return v3.coord[Math.floor(G4/2)][G4%2]}:function(v2){return v2.value};v.initData(i,null,e);v.hasItemOption=true;return v}yc(function(e){e.markArea=e.markArea||{}});var GI=function(i){var e=i&&i.timeline;if(!Fw(e)){e=e?[e]:[]}ow(e,function(k){if(!k){return}u(k)})};function u(i){var k=i.type;var e={number:"value",time:"time"};if(e[k]){i.axisType=e[k];delete i.type}A8(i);if(oa(i,"controlPosition")){var m=i.controlStyle||(i.controlStyle={});if(!oa(m,"position")){m.position=i.controlPosition}if(m.position==="none"&&!oa(m,"show")){m.show=false;delete m.position}delete i.controlPosition}ow(i.data||[],function(v){if(sU(v)&&!Fw(v)){if(!oa(v,"value")&&oa(v,"name")){v.value=v.name}A8(v)}})}function A8(m){var Z=m.itemStyle||(m.itemStyle={});var k=Z.emphasis||(Z.emphasis={});var i=m.label||(m.label||{});var v=i.normal||(i.normal={});var e={normal:1,emphasis:1};ow(i,function(v1,cc){if(!e[cc]&&!oa(v,cc)){v[cc]=v1}});if(k.label&&!oa(i,"emphasis")){i.emphasis=k.label;delete k.label}}function oa(i,e){return i.hasOwnProperty(e)}aI.registerSubTypeDefaulter("timeline",function(){return"slider"});bZ({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(k,e){var i=e.getComponent("timeline");if(i&&k.currentIndex!=null){i.setCurrentIndex(k.currentIndex);if(!i.get("loop",true)&&i.isIndexMax()){i.setPlayState(false)}}e.resetOption("timeline");return Ch({currentIndex:i.option.currentIndex},k)});bZ({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(k,e){var i=e.getComponent("timeline");if(i&&k.playState!=null){i.setPlayState(k.playState)}});var b2=aI.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2000,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(k,i,e){this._data;this._names;this.mergeDefaultAndTheme(k,e);this._initData()},mergeOption:function(e){b2.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(e){if(e==null){e=this.option.currentIndex}var i=this._data.count();if(this.option.loop){e=(e%i+i)%i}else{e>=i&&(e=i-1);e<0&&(e=0)}this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var k=this.option;var m=k.data||[];var e=k.axisType;var Z=this._names=[];if(e==="category"){var i=[];ow(m,function(v3,v1){var G4=w7(v3);var v2;if(sU(v3)){v2=B8(v3);v2.value=v1}else{v2=v1}i.push(v2);if(!vi(G4)&&(G4==null||isNaN(G4))){G4=""}Z.push(G4+"")});m=i}var cc=({category:"ordinal",time:"time"})[e]||"number";var v=this._data=new wF([{name:"value",type:cc}],this);v.initData(m,Z)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category"){return this._names.slice()}}});var O=b2.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:true,width:2,color:"#304654"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:true,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});Ff(O,ul);var r2=r3.extend({type:"timeline"});var rz=function(k,m,i,e){AV.call(this,k,m,i);this.type=e||"value";this._autoLabelInterval;this.model=null};rz.prototype={constructor:rz,getLabelInterval:function(){var i=this.model;var k=i.getModel("label");var e=k.get("interval");if(e!=null&&e!="auto"){return e}var e=this._autoLabelInterval;if(!e){e=this._autoLabelInterval=Fm(De(this.scale.getTicks(),this.dataToCoord,this),iJ(this,k.get("formatter")),k.getFont(),i.get("orient")==="horizontal"?0:90,k.get("rotate"))}return e},isLabelIgnored:function(e){if(this.type==="category"){var i=this.getLabelInterval();return((typeof i==="function")&&!i(e,this.scale.getLabel(e)))||e%(i+1)}}};lZ(rz,AV);var oN=j0;var sw=ow;var xK=Math.PI;r2.extend({type:"timeline.slider",init:function(e,i){this.api=i;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(Z,e,v,v1){this.model=Z;this.api=v;this.ecModel=e;this.group.removeAll();if(Z.get("show",true)){var cc=this._layout(Z,v);var k=this._createGroup("mainGroup");var i=this._createGroup("labelGroup");var m=this._axis=this._createAxis(cc,Z);Z.formatTooltip=function(v2){return l3(m.scale.getLabel(v2))};sw(["AxisLine","AxisTick","Control","CurrentPointer"],function(v2){this["_render"+v2](cc,k,m,Z)},this);this._renderAxisLabel(cc,i,m,Z);this._position(cc,Z)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(v1,G5){var k=v1.get("label.position");var v2=v1.get("orient");var Hc=q2(v1,G5);if(k==null||k==="auto"){k=v2==="horizontal"?((Hc.y+Hc.height/2)<G5.getHeight()/2?"-":"+"):((Hc.x+Hc.width/2)<G5.getWidth()/2?"+":"-")}else{if(isNaN(k)){k=({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[v2][k]}}var G9={horizontal:"center",vertical:(k>=0||k==="+")?"left":"right"};var v={horizontal:(k>=0||k==="+")?"top":"bottom",vertical:"middle"};var Hi={horizontal:0,vertical:xK/2};var i=v2==="vertical"?Hc.height:Hc.width;var G7=v1.getModel("controlStyle");var cc=G7.get("show",true);var G6=cc?G7.get("itemSize"):0;var He=cc?G7.get("itemGap"):0;var Hg=G6+He;var Hd=v1.get("label.rotate")||0;Hd=Hd*xK/180;var Hf;var m;var Hb;var Z;var G8=G7.get("position",true);var G4=cc&&G7.get("showPlayBtn",true);var Ha=cc&&G7.get("showPrevBtn",true);var e=cc&&G7.get("showNextBtn",true);var v3=0;var Hh=i;if(G8==="left"||G8==="bottom"){G4&&(Hf=[0,0],v3+=Hg);Ha&&(m=[v3,0],v3+=Hg);e&&(Hb=[Hh-G6,0],Hh-=Hg)}else{G4&&(Hf=[Hh-G6,0],Hh-=Hg);Ha&&(m=[0,0],v3+=Hg);e&&(Hb=[Hh-G6,0],Hh-=Hg)}Z=[v3,Hh];if(v1.get("inverse")){Z.reverse()}return{viewRect:Hc,mainLength:i,orient:v2,rotation:Hi[v2],labelRotation:Hd,labelPosOpt:k,labelAlign:v1.get("label.align")||G9[v2],labelBaseline:v1.get("label.verticalAlign")||v1.get("label.baseline")||v[v2],playPosition:Hf,prevBtnPosition:m,nextBtnPosition:Hb,axisExtent:Z,controlSize:G6,controlGap:He}},_position:function(G6,v2){var Z=this._mainGroup;var G5=this._labelGroup;var G9=G6.viewRect;if(G6.orient==="vertical"){var G8=BF();var i=G9.x;var e=G9.y+G9.height;uy(G8,G8,[-i,-e]);jW(G8,G8,-xK/2);uy(G8,G8,[i,e]);G9=G9.clone();G9.applyTransform(G8)}var k=v3(G9);var Hc=v3(Z.getBoundingRect());var cc=v3(G5.getBoundingRect());var Hb=Z.position;var Ha=G5.position;Ha[0]=Hb[0]=k[0][0];var v=G6.labelPosOpt;if(isNaN(v)){var G4=v==="+"?0:1;v1(Hb,Hc,k,1,G4);v1(Ha,cc,k,1,1-G4)}else{var G4=v>=0?0:1;v1(Hb,Hc,k,1,G4);Ha[1]=Hb[1]+v}Z.attr("position",Hb);G5.attr("position",Ha);Z.rotation=G5.rotation=G6.rotation;G7(Z);G7(G5);function G7(m){var Hd=m.position;m.origin=[k[0][0]-Hd[0],k[1][0]-Hd[1]]}function v3(m){return[[m.x,m.x+m.width],[m.y,m.y+m.height]]}function v1(He,Hg,Hf,Hd,m){He[Hd]+=Hf[Hd][m]-Hg[Hd][m]}},_createAxis:function(Z,k){var v=k.getData();var e=k.get("axisType");var cc=mT(k,e);var m=v.getDataExtent("value");cc.setExtent(m[0],m[1]);this._customizeScale(cc,v);cc.niceTicks();var i=new rz("value",cc,Z.axisExtent,e);i.model=k;return i},_customizeScale:function(i,e){i.getTicks=function(){return e.mapArray(["value"],function(k){return k})};i.getTicksLabels=function(){return De(this.getTicks(),i.getLabel,i)}},_createGroup:function(e){var i=this["_"+e]=new Bd();this.group.add(i);return i},_renderAxisLine:function(m,k,e,i){var v=e.getExtent();if(!i.get("lineStyle.show")){return}k.add(new yK({shape:{x1:v[0],y1:0,x2:v[1],y2:0},style:bY({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:true,z2:1}))},_renderAxisTick:function(Z,v,e,k){var m=k.getData();var i=e.scale.getTicks();sw(i,function(G7,v2){var G5=e.dataToCoord(G7);var G4=m.getItemModel(v2);var G6=G4.getModel("itemStyle");var v1=G4.getModel("emphasis.itemStyle");var cc={position:[G5,0],onclick:oN(this._changeTimeline,this,v2)};var v3=mD(G4,G6,v,cc);xz(v3,v1.getItemStyle());if(G4.get("tooltip")){v3.dataIndex=v2;v3.dataModel=k}else{v3.dataIndex=v3.dataModel=null}},this)},_renderAxisLabel:function(m,v1,k,e){var v2=e.getModel("label");if(!v2.get("show")){return}var v=e.getData();var cc=k.scale.getTicks();var Z=iJ(k,v2.get("formatter"));var i=k.getLabelInterval();sw(cc,function(G6,G5){if(k.isLabelIgnored(G5,i)){return}var G9=v.getItemModel(G5);var G4=G9.getModel("label");var v3=G9.getModel("emphasis.label");var G8=k.dataToCoord(G6);var G7=new iC({position:[G8,0],rotation:m.labelRotation-m.rotation,onclick:oN(this._changeTimeline,this,G5),silent:false});oB(G7.style,G4,{text:Z[G5],textAlign:m.labelAlign,textVerticalAlign:m.labelBaseline});v1.add(G7);xz(G7,oB({},v3))},this)},_renderControl:function(k,G4,i,e){var Z=k.controlSize;var G5=k.rotation;var v1=e.getModel("controlStyle").getItemStyle();var m=e.getModel("emphasis.controlStyle").getItemStyle();var v2=[0,-Z/2,Z,Z];var v3=e.getPlayState();var v=e.get("inverse",true);cc(k.nextBtnPosition,"controlStyle.nextIcon",oN(this._changeTimeline,this,v?"-":"+"));cc(k.prevBtnPosition,"controlStyle.prevIcon",oN(this._changeTimeline,this,v?"+":"-"));cc(k.playPosition,"controlStyle."+(v3?"stopIcon":"playIcon"),oN(this._handlePlayClick,this,!v3),true);function cc(G6,Ha,G7,Hb){if(!G6){return}var G9={position:G6,origin:[Z/2,0],rotation:Hb?-G5:0,rectHover:true,style:v1,onclick:G7};var G8=c6(e,Ha,v2,G9);G4.add(G8);xz(G8,m)}},_renderCurrentPointer:function(m,v1,k,e){var v=e.getData();var Z=e.getCurrentIndex();var i=v.getItemModel(Z).getModel("checkpointStyle");var cc=this;var v2={onCreate:function(v3){v3.draggable=true;v3.drift=oN(cc._handlePointerDrag,cc);v3.ondragend=oN(cc._handlePointerDragend,cc);tG(v3,Z,k,e,true)},onUpdate:function(v3){tG(v3,Z,k,e)}};this._currentPointer=mD(i,i,this._mainGroup,{},this._currentPointer,v2)},_handlePlayClick:function(e){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(k,i,m){this._clearTimer();this._pointerChangeTimeline([m.offsetX,m.offsetY])},_handlePointerDragend:function(i){this._pointerChangeTimeline([i.offsetX,i.offsetY],true)},_pointerChangeTimeline:function(e,i){var k=this._toAxisCoord(e)[0];var m=this._axis;var cc=ou(m.getExtent().slice());k>cc[1]&&(k=cc[1]);k<cc[0]&&(k=cc[0]);this._currentPointer.position[0]=k;this._currentPointer.dirty();var Z=this._findNearestTick(k);var v=this.model;if(i||(Z!==v.getCurrentIndex()&&v.get("realtime"))){this._changeTimeline(Z)}},_doPlayStop:function(){this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(oN(e,this),this.model.get("playInterval"))}function e(){var i=this.model;this._changeTimeline(i.getCurrentIndex()+(i.get("rewind",true)?-1:1))}},_toAxisCoord:function(i){var e=this._mainGroup.getLocalTransform();return ve(i,e,true)},_findNearestTick:function(e){var k=this.model.getData();var v=Infinity;var m;var i=this._axis;k.each(["value"],function(cc,Z){var v2=i.dataToCoord(cc);var v1=Math.abs(v2-e);if(v1<v){v=v1;m=Z}});return m},_clearTimer:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}},_changeTimeline:function(e){var i=this.model.getCurrentIndex();if(e==="+"){e=i+1}else{if(e==="-"){e=i-1}}this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}});function q2(e,i){return kx(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}function c6(v,e,m,k){var i=Ah(v.get(e).replace(/^path:\/\//,""),B8(k||{}),new BM(m[0],m[1],m[2],m[3]),"center");return i}function mD(i,Z,G4,e,m,G5){var v=Z.get("color");if(!m){var G6=i.get("symbol");m=tk(G6,-1,-1,2,2,v);m.setStyle("strokeNoScale",true);G4.add(m);G5&&G5.onCreate(m)}else{m.setColor(v);G4.add(m);G5&&G5.onUpdate(m)}var cc=Z.getItemStyle(["color","symbol","symbolSize"]);m.setStyle(cc);e=vb({rectHover:true,z2:100},e,true);var k=i.get("symbolSize");k=k instanceof Array?k.slice():[+k,+k];k[0]/=2;k[1]/=2;e.scale=k;var v2=i.get("symbolOffset");if(v2){var v3=e.position=e.position||[0,0];v3[0]+=yW(v2[0],k[0]);v3[1]+=yW(v2[1],k[1])}var v1=i.get("symbolRotate");e.rotation=(v1||0)*Math.PI/180||0;m.attr(e);m.updateTransform();return m}function tG(cc,m,v,Z,i){if(cc.dragging){return}var e=Z.getModel("checkpointStyle");var k=v.dataToCoord(Z.getData().get(["value"],m));if(i||!e.get("animation",true)){cc.attr({position:[k,0]})}else{cc.stopAnimation(true);cc.animateTo({position:[k,0]},e.get("animationDuration",true),e.get("animationEasing",true))}}yc(GI);var kj=pk({type:"toolbox",layoutMode:{type:"box",ignoreSize:true},mergeDefaultAndTheme:function(e){kj.superApply(this,"mergeDefaultAndTheme",arguments);ow(this.option.feature,function(m,k){var i=a2(k);i&&vb(m,i.defaultOption)})},defaultOption:{show:true,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});pO({type:"toolbox",render:function(Z,k,m,v1){var v2=this.group;v2.removeAll();if(!Z.get("show")){return}var v3=+Z.get("itemSize");var G4=Z.get("feature")||{};var i=this._features||(this._features={});var e=[];ow(G4,function(G6,G5){e.push(G5)});(new Fp(this._featureNames||[],e)).add(cc).update(cc).remove(rH(cc,null)).execute();this._featureNames=e;function cc(G8,Hc){var G6=e[G8];var G9=e[Hc];var Hb=G4[G6];var Ha=new fg(Hb,Z,Z.ecModel);var G7;if(G6&&!G9){if(rc(G6)){G7={model:Ha,onclick:Ha.option.onclick,featureName:G6}}else{var G5=a2(G6);if(!G5){return}G7=new G5(Ha,k,m)}i[G6]=G7}else{G7=i[G9];if(!G7){return}G7.model=Ha;G7.ecModel=k;G7.api=m}if(!G6&&G9){G7.dispose&&G7.dispose(k,m);return}if(!Ha.get("show")||G7.unusable){G7.remove&&G7.remove(k,m);return}v(Ha,G7,G6);Ha.setIconStatus=function(Hg,Hd){var Hf=this.option;var He=this.iconPaths;Hf.iconStatus=Hf.iconStatus||{};Hf.iconStatus[Hg]=Hd;He[Hg]&&He[Hg].trigger(Hd)};if(G7.render){G7.render(Ha,k,m,v1)}}function v(Hc,He,Hd){var G7=Hc.getModel("iconStyle");var G5=Hc.getModel("emphasis.iconStyle");var Hb=He.getIcons?He.getIcons():Hc.get("icon");var G8=Hc.get("title")||{};if(typeof Hb==="string"){var G9=Hb;var Ha=G8;Hb={};G8={};Hb[Hd]=G9;G8[Hd]=Ha}var G6=Hc.iconPaths={};ow(Hb,function(Hf,Hh){var Hg=E0(Hf,{},{x:-v3/2,y:-v3/2,width:v3,height:v3});Hg.setStyle(G7.getItemStyle());Hg.hoverStyle=G5.getItemStyle();xz(Hg);if(Z.get("showTitle")){Hg.__title=G8[Hh];Hg.on("mouseover",function(){var Hi=G5.getItemStyle();Hg.setStyle({text:G8[Hh],textPosition:Hi.textPosition||"bottom",textFill:Hi.fill||Hi.stroke||"#000",textAlign:Hi.textAlign||"center"})}).on("mouseout",function(){Hg.setStyle({textFill:null})})}Hg.trigger(Hc.get("iconStatus."+Hh)||"normal");v2.add(Hg);Hg.on("click",j0(He.onclick,He,k,m,Hh));G6[Hh]=Hg})}d6(v2,Z,m);v2.add(zv(v2.getBoundingRect(),Z));v2.eachChild(function(G9){var G6=G9.__title;var Hb=G9.hoverStyle;if(Hb&&G6){var Ha=Fg(G6,oT(Hb));var G5=G9.position[0]+v2.position[0];var Hc=G9.position[1]+v2.position[1]+v3;var G8=false;if(Hc+Ha.height>m.getHeight()){Hb.textPosition="top";G8=true}var G7=G8?(-5-Ha.height):(v3+8);if(G5+Ha.width/2>m.getWidth()){Hb.textPosition=["100%",G7];Hb.textAlign="right"}else{if(G5-Ha.width/2<0){Hb.textPosition=[0,G7];Hb.textAlign="left"}}}})},updateView:function(m,e,i,k){ow(this._features,function(v){v.updateView&&v.updateView(v.model,e,i,k)})},remove:function(e,i){ow(this._features,function(k){k.remove&&k.remove(e,i)});this.group.removeAll()},dispose:function(e,i){ow(this._features,function(k){k.dispose&&k.dispose(e,i)})}});function rc(e){return e.indexOf("my")===0}var nR=Br.toolbox.saveAsImage;function oK(e){this.model=e}oK.defaultOption={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:nR.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:nR.lang.slice()};oK.prototype.unusable=!r6.canvasSupported;var b9=oK.prototype;b9.onclick=function(v2,v3){var v1=this.model;var G6=v1.get("name")||v2.get("title.0.text")||"echarts";var Z=document.createElement("a");var G5=v1.get("type",true)||"png";Z.download=G6+"."+G5;Z.target="_blank";var i=v3.getConnectedDataURL({type:G5,backgroundColor:v1.get("backgroundColor",true)||v2.get("backgroundColor")||"#fff",excludeComponents:v1.get("excludeComponents"),pixelRatio:v1.get("pixelRatio")});Z.href=i;if(typeof MouseEvent==="function"&&!r6.browser.ie&&!r6.browser.edge){var G7=new MouseEvent("click",{view:window,bubbles:true,cancelable:false});Z.dispatchEvent(G7)}else{if(window.navigator.msSaveOrOpenBlob){var k=atob(i.split(",")[1]);var v=k.length;var G4=new Uint8Array(v);while(v--){G4[v]=k.charCodeAt(v)}var e=new Blob([G4]);window.navigator.msSaveOrOpenBlob(e,G6+"."+G5)}else{var G8=v1.get("lang");var cc='<body style="margin:0;"><img src="'+i+'" style="max-width:100%;" title="'+((G8&&G8[0])||"")+'" /></body>';var m=window.open();m.document.write(cc)}}};aG("saveAsImage",oK);var sn=Br.toolbox.magicType;function md(e){this.model=e}md.defaultOption={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:B8(sn.title),option:{},seriesIndex:{}};var b8=md.prototype;b8.getIcons=function(){var e=this.model;var k=e.get("icon");var i={};ow(e.get("type"),function(m){if(k[m]){i[m]=k[m]}});return i};var tF={line:function(i,m,e,k){if(i==="bar"){return vb({id:m,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},k.get("option.line")||{},true)}},bar:function(i,m,e,k){if(i==="line"){return vb({id:m,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},k.get("option.bar")||{},true)}},stack:function(i,m,e,k){if(i==="line"||i==="bar"){return vb({id:m,stack:"__ec_magicType_stack__"},k.get("option.stack")||{},true)}},tiled:function(i,m,e,k){if(i==="line"||i==="bar"){return vb({id:m,stack:""},k.get("option.tiled")||{},true)}}};var rl=[["line","bar"],["stack","tiled"]];b8.onclick=function(e,v,m){var k=this.model;var i=k.get("seriesIndex."+m);if(!tF[m]){return}var Z={series:[]};var cc=function(v1){var v3=v1.subType;var G8=v1.id;var Hb=tF[m](v3,G8,v1,k);if(Hb){Ch(Hb,v1.option);Z.series.push(Hb)}var v2=v1.coordinateSystem;if(v2&&v2.type==="cartesian2d"&&(m==="line"||m==="bar")){var G5=v2.getAxesByScale("ordinal")[0];if(G5){var G6=G5.dim;var G9=G6+"Axis";var G7=e.queryComponents({mainType:G9,index:v1.get(name+"Index"),id:v1.get(name+"Id")})[0];var Ha=G7.componentIndex;Z[G9]=Z[G9]||[];for(var G4=0;G4<=Ha;G4++){Z[G9][Ha]=Z[G9][Ha]||{}}Z[G9][Ha].boundaryGap=m==="bar"?true:false}}};ow(rl,function(v1){if(eB(v1,m)>=0){ow(v1,function(v2){k.setIconStatus(v2,"normal")})}});k.setIconStatus(m,"emphasis");e.eachComponent({mainType:"series",query:i==null?null:{seriesIndex:i}},cc);v.dispatchAction({type:"changeMagicType",currentType:m,newOption:Z})};bZ({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,e){e.mergeOption(i.newOption)});aG("magicType",md);var Dm=Br.toolbox.dataView;var e8=new Array(60).join("-");var Gx="\t";function eO(e){var i={};var m=[];var k=[];e.eachRawSeries(function(v){var cc=v.coordinateSystem;if(cc&&(cc.type==="cartesian2d"||cc.type==="polar")){var v1=cc.getBaseAxis();if(v1.type==="category"){var Z=v1.dim+"_"+v1.index;if(!i[Z]){i[Z]={categoryAxis:v1,valueAxis:cc.getOtherAxis(v1),series:[]};k.push({axisDim:v1.dim,axisIndex:v1.index})}i[Z].series.push(v)}else{m.push(v)}}else{m.push(v)}});return{seriesGroupByCategoryAxis:i,other:m,meta:k}}function jh(i){var e=[];ow(i,function(v3,G4){var cc=v3.categoryAxis;var G5=v3.valueAxis;var v1=G5.dim;var k=[" "].concat(De(v3.series,function(G7){return G7.name}));var m=[cc.model.getCategories()];ow(v3.series,function(G7){m.push(G7.getRawData().mapArray(v1,function(G8){return G8}))});var G6=[k.join(Gx)];for(var Z=0;Z<m[0].length;Z++){var v2=[];for(var v=0;v<m.length;v++){v2.push(m[v][Z])}G6.push(v2.join(Gx))}e.push(G6.join("\n"))});return e.join("\n\n"+e8+"\n\n")}function lm(e){return De(e,function(k){var v=k.getRawData();var i=[k.name];var m=[];v.each(v.dimensions,function(){var Z=arguments.length;var v2=arguments[Z-1];var cc=v.getName(v2);for(var v1=0;v1<Z-1;v1++){m[v1]=arguments[v1]}i.push((cc?(cc+Gx):"")+m.join(Gx))});return i.join("\n")}).join("\n\n"+e8+"\n\n")}function wg(i){var e=eO(i);return{value:qi([jh(e.seriesGroupByCategoryAxis),lm(e.other)],function(k){return k.replace(/[\n\t\s]/g,"")}).join("\n\n"+e8+"\n\n"),meta:e.meta}}function cu(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function yt(i){var e=i.slice(0,i.indexOf("\n"));if(e.indexOf(Gx)>=0){return true}}var xC=new RegExp("["+Gx+"]+","g");function GN(v2){var cc=v2.split(/\n+/g);var v1=cu(cc.shift()).split(xC);var k=[];var Z=De(v1,function(i){return{name:i,data:[]}});for(var v=0;v<cc.length;v++){var e=cu(cc[v]).split(xC);k.push(e.shift());for(var m=0;m<e.length;m++){Z[m]&&(Z[m].data[v]=e[m])}}return{series:Z,categories:k}}function c9(v1){var G4=v1.split(/\n+/g);var v2=cu(G4.shift());var m=[];for(var v=0;v<G4.length;v++){var cc=cu(G4[v]).split(xC);var e="";var v3;var Z=false;if(isNaN(cc[0])){Z=true;e=cc[0];cc=cc.slice(1);m[v]={name:e,value:[]};v3=m[v].value}else{v3=m[v]=[]}for(var k=0;k<cc.length;k++){v3.push(+cc[k])}if(v3.length===1){Z?(m[v].value=v3[0]):(m[v]=v3[0])}}return{name:v2,data:m}}function E8(m,k){var i=m.split(new RegExp("\n*"+e8+"\n*","g"));var e={series:[]};ow(i,function(v2,Z){if(yt(v2)){var v=GN(v2);var v1=k[Z];var cc=v1.axisDim+"Axis";if(v1){e[cc]=e[cc]||[];e[cc][v1.axisIndex]={data:v.categories};e.series=e.series.concat(v.series)}}else{var v=c9(v2);e.series.push(v)}});return e}function lJ(e){this._dom=null;this.model=e}lJ.defaultOption={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:B8(Dm.title),lang:B8(Dm.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};lJ.prototype.onclick=function(Hd,v1){var cc=v1.getDom();var k=this.model;if(this._dom){cc.removeChild(this._dom)}var G5=document.createElement("div");G5.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";G5.style.backgroundColor=k.get("backgroundColor")||"#fff";var G7=document.createElement("h4");var m=k.get("lang")||[];G7.innerHTML=m[0]||k.get("title");G7.style.cssText="margin: 10px 20px;";G7.style.color=k.get("textColor");var Hc=document.createElement("div");var v3=document.createElement("textarea");Hc.style.cssText="display:block;width:100%;overflow:auto;";var G6=k.get("optionToContent");var v=k.get("contentToOption");var Z=wg(Hd);if(typeof G6==="function"){var Hb=G6(v1.getOption());if(typeof Hb==="string"){Hc.innerHTML=Hb}else{if(az(Hb)){Hc.appendChild(Hb)}}}else{Hc.appendChild(v3);v3.readOnly=k.get("readOnly");v3.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";v3.style.color=k.get("textColor");v3.style.borderColor=k.get("textareaBorderColor");v3.style.backgroundColor=k.get("textareaColor");v3.value=Z.value}var G9=Z.meta;var G8=document.createElement("div");G8.style.cssText="position:absolute;bottom:0;left:0;right:0;";var Ha="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var e=document.createElement("div");var i=document.createElement("div");Ha+=";background-color:"+k.get("buttonColor");Ha+=";color:"+k.get("buttonTextColor");var G4=this;function v2(){cc.removeChild(G5);G4._dom=null}fc(e,"click",v2);fc(i,"click",function(){var He;try{if(typeof v==="function"){He=v(Hc,v1.getOption())}else{He=E8(v3.value,G9)}}catch(Hf){v2();throw new Error("Data view format error "+Hf)}if(He){v1.dispatchAction({type:"changeDataView",newOption:He})}v2()});e.innerHTML=m[1];i.innerHTML=m[2];i.style.cssText=Ha;e.style.cssText=Ha;!k.get("readOnly")&&G8.appendChild(i);G8.appendChild(e);fc(v3,"keydown",function(Hf){if((Hf.keyCode||Hf.which)===9){var Hg=this.value;var Hh=this.selectionStart;var He=this.selectionEnd;this.value=Hg.substring(0,Hh)+Gx+Hg.substring(He);this.selectionStart=this.selectionEnd=Hh+1;FC(Hf)}});G5.appendChild(G7);G5.appendChild(Hc);G5.appendChild(G8);Hc.style.height=(cc.clientHeight-80)+"px";cc.appendChild(G5);this._dom=G5};lJ.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)};lJ.prototype.dispose=function(e,i){this.remove(e,i)};function rA(e,i){return De(e,function(m,k){var v=i&&i[k];if(sU(v)&&!Fw(v)){if(sU(m)&&!Fw(m)){m=m.value}return Ch({value:m},v)}else{return m}})}aG("dataView",lJ);bZ({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(k,e){var i=[];ow(k.newOption.series,function(m){var v=e.getSeriesByName(m.name)[0];if(!v){i.push(bY({type:"scatter"},m))}else{var Z=v.get("data");i.push({name:m.name,data:rA(m.data,Z)})}});e.mergeOption(Ch({series:i},k.newOption))});var se=ow;var bo="\0_ec_hist_store";function xs(e,k){var i=n1(e);se(k,function(v1,v){var cc=i.length-1;for(;cc>=0;cc--){var Z=i[cc];if(Z[v]){break}}if(cc<0){var v2=e.queryComponents({mainType:"dataZoom",subType:"select",id:v})[0];if(v2){var m=v2.getPercentRange();i[0][v]={dataZoomId:v,start:m[0],end:m[1]}}}});i.push(k)}function Aw(e){var k=n1(e);var m=k[k.length-1];k.length>1&&k.pop();var i={};se(m,function(cc,v){for(var Z=k.length-1;Z>=0;Z--){var cc=k[Z][v];if(cc){i[v]=cc;break}}});return i}function Do(e){e[bo]=null}function Cy(e){return n1(e).length}function n1(e){var i=e[bo];if(!i){i=e[bo]=[{}]}return i}xL.extend({type:"dataZoom.select"});C5.extend({type:"dataZoom.select"});var mo=Br.toolbox.dataZoom;var st=ow;var dd="\0_ec_\0toolbox-dataZoom_";function tm(i,e,k){(this._brushController=new j9(k.getZr())).on("brush",j0(this._onBrush,this)).mount();this._isZoomActive}tm.defaultOption={show:true,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:B8(mo.title)};var b7=tm.prototype;b7.render=function(m,e,i,k){this.model=m;this.ecModel=e;this.api=i;hH(m,e,this,k,i);pV(m,e)};b7.onclick=function(e,k,i){qg[i].call(this)};b7.remove=function(e,i){this._brushController.unmount()};b7.dispose=function(e,i){this._brushController.dispose()};var qg={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(Aw(this.ecModel))}};b7._onBrush=function(k,v){if(!v.isEnd||!k.length){return}var i={};var e=this.ecModel;this._brushController.updateCovers([]);var cc=new Cp(o2(this.model.option),e,{include:["grid"]});cc.matchOutputRanges(k,e,function(v2,G4,v1){if(v1.type!=="cartesian2d"){return}var v3=v2.brushType;if(v3==="rect"){Z("x",v1,G4[0]);Z("y",v1,G4[1])}else{Z(({lineX:"x",lineY:"y"})[v3],v1,G4)}});xs(e,i);this._dispatchZoomAction(i);function Z(G6,v3,v1){var G4=v3.getAxis(G6);var v2=G4.model;var G7=m(G6,v2,e);var G5=G7.findRepresentativeAxisProxy(v2).getMinMaxSpan();if(G5.minValueSpan!=null||G5.maxValueSpan!=null){v1=mY(0,v1.slice(),G4.scale.getExtent(),0,G5.minValueSpan,G5.maxValueSpan)}G7&&(i[G7.id]={dataZoomId:G7.id,startValue:v1[0],endValue:v1[1]})}function m(G4,v2,v1){var v3;v1.eachComponent({mainType:"dataZoom",subType:"select"},function(G6){var G5=G6.getAxisModel(G4,v2.componentIndex);G5&&(v3=G6)});return v3}};b7._dispatchZoomAction=function(e){var i=[];st(e,function(m,k){i.push(B8(m))});i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})};function o2(i){var e={};ow(["xAxisIndex","yAxisIndex"],function(k){e[k]=i[k];e[k]==null&&(e[k]="all");(e[k]===false||e[k]==="none")&&(e[k]=[])});return e}function pV(i,e){i.setIconStatus("back",Cy(e)>1?"emphasis":"normal")}function hH(Z,e,i,v,m){var cc=i._isZoomActive;if(v&&v.type==="takeGlobalCursor"){cc=v.key==="dataZoomSelect"?v.dataZoomSelectActive:false}i._isZoomActive=cc;Z.setIconStatus("zoom",cc?"emphasis":"normal");var k=new Cp(o2(Z.option),e,{include:["grid"]});i._brushController.setPanels(k.makePanelOpts(m,function(v1){return(v1.xAxisDeclared&&!v1.yAxisDeclared)?"lineX":(!v1.xAxisDeclared&&v1.yAxisDeclared)?"lineY":"rect"})).enableBrush(cc?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:false)}aG("dataZoom",tm);yc(function(k){if(!k){return}var v=k.dataZoom||(k.dataZoom=[]);if(!Fw(v)){k.dataZoom=v=[v]}var Z=k.toolbox;if(Z){if(Fw(Z)){Z=Z[0]}if(Z&&Z.feature){var i=Z.feature.dataZoom;e("xAxis",i);e("yAxis",i)}}function e(v3,v1){if(!v1){return}var cc=v3+"Index";var v2=v1[cc];if(v2!=null&&v2!="all"&&!Fw(v2)){v2=(v2===false||v2==="none")?[]:[v2]}m(v3,function(G4,G5){if(v2!=null&&v2!="all"&&eB(v2,G5)===-1){return}var G6={type:"select",$fromToolbox:true,id:dd+v3+G5};G6[cc]=G5;v.push(G6)})}function m(v2,cc){var v1=k[v2];if(!Fw(v1)){v1=v1?[v1]:[]}st(v1,cc)}});var sO=Br.toolbox.restore;function u1(e){this.model=e}u1.defaultOption={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:sO.title};var b6=u1.prototype;b6.onclick=function(e,k,i){Do(e);k.dispatchAction({type:"restore",from:this.uid})};aG("restore",u1);bZ({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,e){e.resetOption("recreate")});var fM="urn:schemas-microsoft-com:vml";var vQ=typeof window==="undefined"?null:window;var yA=false;var rN=vQ&&vQ.document;function Ao(e){return cC(e)}var cC;if(rN&&!r6.canvasSupported){try{!rN.namespaces.zrvml&&rN.namespaces.add("zrvml",fM);cC=function(e){return rN.createElement("<zrvml:"+e+' class="zrvml">')}}catch(F6){cC=function(e){return rN.createElement("<"+e+' xmlns="'+fM+'" class="zrvml">')}}}function wZ(){if(yA||!rN){return}yA=true;var e=rN.styleSheets;if(e.length<31){rN.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)")}else{e[0].addRule(".zrvml","behavior:url(#default#VML)")}}var EH=jI.CMD;var EA=Math.round;var CH=Math.sqrt;var A4=Math.abs;var CC=Math.cos;var El=Math.sin;var zK=Math.max;if(!r6.canvasSupported){var lP=",";var bR="progid:DXImageTransform.Microsoft";var Gc=21600;var bO=Gc/2;var cf=100000;var Cd=1000;var sl=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";e.coordsize=Gc+","+Gc;e.coordorigin="0,0"};var A3=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};var rP=function(k,i,e){return"rgb("+[k,i,e].join(",")+")"};var kO=function(e,i){if(i&&e&&i.parentNode!==e){e.appendChild(i)}};var be=function(e,i){if(i&&e&&i.parentNode===e){e.removeChild(i)}};var dR=function(e,k,i){return(parseFloat(e)||0)*cf+(parseFloat(k)||0)*Cd+i};var yQ=function(e,i){if(typeof e==="string"){if(e.lastIndexOf("%")>=0){return parseFloat(e)/100*i}return parseFloat(e)}return e};var kN=function(k,e,i){var m=eH(e);i=+i;if(isNaN(i)){i=1}if(m){k.color=rP(m[0],m[1],m[2]);k.opacity=i*m[3]}};var eo=function(e){var i=eH(e);return[rP(i[0],i[1],i[2]),i[3]]};var gC=function(v,Hm,G5){var Hj=Hm.fill;if(Hj!=null){if(Hj instanceof lu){var v2;var Hp=0;var Hd=[0,0];var Hl=0;var He=1;var m=G5.getBoundingRect();var e=m.width;var Hi=m.height;if(Hj.type==="linear"){v2="gradient";var G8=G5.transform;var Z=[Hj.x*e,Hj.y*Hi];var k=[Hj.x2*e,Hj.y2*Hi];if(G8){aZ(Z,Z,G8);aZ(k,k,G8)}var G7=k[0]-Z[0];var G6=k[1]-Z[1];Hp=Math.atan2(G7,G6)*180/Math.PI;if(Hp<0){Hp+=360}if(Hp<0.000001){Hp=0}}else{v2="gradientradial";var Z=[Hj.x*e,Hj.y*Hi];var G8=G5.transform;var v1=G5.scale;var Hf=e;var Hc=Hi;Hd=[(Z[0]-m.x)/Hf,(Z[1]-m.y)/Hc];if(G8){aZ(Z,Z,G8)}Hf/=v1[0]*Gc;Hc/=v1[1]*Gc;var Hq=zK(Hf,Hc);Hl=2*0/Hq;He=2*Hj.r/Hq-Hl}var v3=Hj.colorStops.slice();v3.sort(function(Hr,i){return Hr.offset-i.offset});var Hb=v3.length;var Hh=[];var G4=[];for(var Hk=0;Hk<Hb;Hk++){var Hg=v3[Hk];var cc=eo(Hg.color);G4.push(Hg.offset*He+Hl+" "+cc[0]);if(Hk===0||Hk===Hb-1){Hh.push(cc)}}if(Hb>=2){var Ho=Hh[0][0];var Hn=Hh[1][0];var Ha=Hh[0][1]*Hm.opacity;var G9=Hh[1][1]*Hm.opacity;v.type=v2;v.method="none";v.focus="100%";v.angle=Hp;v.color=Ho;v.color2=Hn;v.colors=G4.join(",");v.opacity=G9;v.opacity2=Ha}if(v2==="radial"){v.focusposition=Hd.join(",")}}else{kN(v,Hj,Hm.opacity)}}};var pm=function(i,e){if(e.lineDash!=null){i.dashstyle=e.lineDash.join(" ")}if(e.stroke!=null&&!(e.stroke instanceof lu)){kN(i,e.stroke,e.opacity)}};var rX=function(e,m,k,Z){var v=m=="fill";var i=e.getElementsByTagName(m)[0];if(k[m]!=null&&k[m]!=="none"&&(v||(!v&&k.lineWidth))){e[v?"filled":"stroked"]="true";if(k[m] instanceof lu){be(e,i)}if(!i){i=Ao(m)}v?gC(i,k,Z):pm(i,k);kO(e,i)}else{e[v?"filled":"stroked"]="false";be(e,i)}};var CJ=[[],[],[]];var n0=function(Hn,Hq){var v1=EH.M;var G6=EH.C;var v3=EH.L;var G9=EH.A;var v=EH.Q;var Hi=[];var Z;var Hj;var Ht;var Hs;var Hl;var Hd;var Hx=Hn.data;var G5=Hn.len();for(Hs=0;Hs<G5;){Ht=Hx[Hs++];Hj="";Z=0;switch(Ht){case v1:Hj=" m ";Z=1;Hl=Hx[Hs++];Hd=Hx[Hs++];CJ[0][0]=Hl;CJ[0][1]=Hd;break;case v3:Hj=" l ";Z=1;Hl=Hx[Hs++];Hd=Hx[Hs++];CJ[0][0]=Hl;CJ[0][1]=Hd;break;case v:case G6:Hj=" c ";Z=3;var Ha=Hx[Hs++];var HB=Hx[Hs++];var G8=Hx[Hs++];var Hz=Hx[Hs++];var G7;var Hy;if(Ht===v){G7=G8;Hy=Hz;G8=(G8+2*Ha)/3;Hz=(Hz+2*HB)/3;Ha=(Hl+2*Ha)/3;HB=(Hd+2*HB)/3}else{G7=Hx[Hs++];Hy=Hx[Hs++]}CJ[0][0]=Ha;CJ[0][1]=HB;CJ[1][0]=G8;CJ[1][1]=Hz;CJ[2][0]=G7;CJ[2][1]=Hy;Hl=G7;Hd=Hy;break;case G9:var Hm=0;var Hk=0;var G4=1;var v2=1;var Hc=0;if(Hq){Hm=Hq[4];Hk=Hq[5];G4=CH(Hq[0]*Hq[0]+Hq[1]*Hq[1]);v2=CH(Hq[2]*Hq[2]+Hq[3]*Hq[3]);Hc=Math.atan2(-Hq[1]/v2,Hq[0]/G4)}var Hf=Hx[Hs++];var He=Hx[Hs++];var Hh=Hx[Hs++];var Hg=Hx[Hs++];var cc=Hx[Hs++]+Hc;var Hu=Hx[Hs++]+cc+Hc;Hs++;var Hp=Hx[Hs++];var Hb=Hf+CC(cc)*Hh;var e=He+El(cc)*Hg;var Ha=Hf+CC(Hu)*Hh;var HB=He+El(Hu)*Hg;var HA=Hp?" wa ":" at ";if(Math.abs(Hb-Ha)<0.0001){if(Math.abs(Hu-cc)>0.01){if(Hp){Hb+=270/Gc}}else{if(Math.abs(e-He)<0.0001){if((Hp&&Hb<Hf)||(!Hp&&Hb>Hf)){HB-=270/Gc}else{HB+=270/Gc}}else{if((Hp&&e<He)||(!Hp&&e>He)){Ha+=270/Gc}else{Ha-=270/Gc}}}}Hi.push(HA,EA(((Hf-Hh)*G4+Hm)*Gc-bO),lP,EA(((He-Hg)*v2+Hk)*Gc-bO),lP,EA(((Hf+Hh)*G4+Hm)*Gc-bO),lP,EA(((He+Hg)*v2+Hk)*Gc-bO),lP,EA((Hb*G4+Hm)*Gc-bO),lP,EA((e*v2+Hk)*Gc-bO),lP,EA((Ha*G4+Hm)*Gc-bO),lP,EA((HB*v2+Hk)*Gc-bO));Hl=Ha;Hd=HB;break;case EH.R:var Hw=CJ[0];var Hv=CJ[1];Hw[0]=Hx[Hs++];Hw[1]=Hx[Hs++];Hv[0]=Hw[0]+Hx[Hs++];Hv[1]=Hw[1]+Hx[Hs++];if(Hq){aZ(Hw,Hw,Hq);aZ(Hv,Hv,Hq)}Hw[0]=EA(Hw[0]*Gc-bO);Hv[0]=EA(Hv[0]*Gc-bO);Hw[1]=EA(Hw[1]*Gc-bO);Hv[1]=EA(Hv[1]*Gc-bO);Hi.push(" m ",Hw[0],lP,Hw[1]," l ",Hv[0],lP,Hw[1]," l ",Hv[0],lP,Hv[1]," l ",Hw[0],lP,Hv[1]);break;case EH.Z:Hi.push(" x ")}if(Z>0){Hi.push(Hj);for(var Hr=0;Hr<Z;Hr++){var Ho=CJ[Hr];Hq&&aZ(Ho,Ho,Hq);Hi.push(EA(Ho[0]*Gc-bO),lP,EA(Ho[1]*Gc-bO),Hr<Z-1?lP:"")}}}return Hi.join("")};lT.prototype.brushVML=function(v){var i=this.style;var k=this._vmlEl;if(!k){k=Ao("shape");sl(k);this._vmlEl=k}rX(k,"fill",i,this);rX(k,"stroke",i,this);var Z=this.transform;var e=Z!=null;var v2=k.getElementsByTagName("stroke")[0];if(v2){var cc=i.lineWidth;if(e&&!i.strokeNoScale){var v1=Z[0]*Z[3]-Z[1]*Z[2];cc*=CH(A4(v1))}v2.weight=cc+"px"}var v3=this.path||(this.path=new jI());if(this.__dirtyPath){v3.beginPath();this.buildPath(v3,this.shape);v3.toStatic();this.__dirtyPath=false}k.path=n0(v3,this.transform);k.style.zIndex=dR(this.zlevel,this.z,this.z2);kO(v,k);if(i.text!=null){this.drawRectText(v,this.getBoundingRect())}else{this.removeRectText(v)}};lT.prototype.onRemove=function(e){be(e,this._vmlEl);this.removeRectText(e)};lT.prototype.onAdd=function(e){kO(e,this._vmlEl);this.appendRectText(e)};var EV=function(e){return(typeof e==="object")&&e.tagName&&e.tagName.toUpperCase()==="IMG"};Ek.prototype.brushVML=function(G7){var Ho=this.style;var k=Ho.image;var Hf;var Hk;if(EV(k)){var Hc=k.src;if(Hc===this._imageSrc){Hf=this._imageWidth;Hk=this._imageHeight}else{var He=k.runtimeStyle;var Hi=He.width;var G6=He.height;He.width="auto";He.height="auto";Hf=k.width;Hk=k.height;He.width=Hi;He.height=G6;this._imageSrc=Hc;this._imageWidth=Hf;this._imageHeight=Hk}k=Hc}else{if(k===this._imageSrc){Hf=this._imageWidth;Hk=this._imageHeight}}if(!k){return}var Hm=Ho.x||0;var Hl=Ho.y||0;var v=Ho.width;var v3=Ho.height;var v2=Ho.sWidth;var G8=Ho.sHeight;var v1=Ho.sx||0;var cc=Ho.sy||0;var Hn=v2&&G8;var G4=this._vmlEl;if(!G4){G4=rN.createElement("div");sl(G4);this._vmlEl=G4}var Ht=G4.style;var Hg=false;var Hq;var Hj=1;var Hh=1;if(this.transform){Hq=this.transform;Hj=CH(Hq[0]*Hq[0]+Hq[1]*Hq[1]);Hh=CH(Hq[2]*Hq[2]+Hq[3]*Hq[3]);Hg=Hq[1]||Hq[2]}if(Hg){var Hx=[Hm,Hl];var Hw=[Hm+v,Hl];var Hv=[Hm,Hl+v3];var Hu=[Hm+v,Hl+v3];aZ(Hx,Hx,Hq);aZ(Hw,Hw,Hq);aZ(Hv,Hv,Hq);aZ(Hu,Hu,Hq);var Hb=zK(Hx[0],Hw[0],Hv[0],Hu[0]);var Ha=zK(Hx[1],Hw[1],Hv[1],Hu[1]);var G9=[];G9.push("M11=",Hq[0]/Hj,lP,"M12=",Hq[2]/Hh,lP,"M21=",Hq[1]/Hj,lP,"M22=",Hq[3]/Hh,lP,"Dx=",EA(Hm*Hj+Hq[4]),lP,"Dy=",EA(Hl*Hh+Hq[5]));Ht.padding="0 "+EA(Hb)+"px "+EA(Ha)+"px 0";Ht.filter=bR+".Matrix("+G9.join("")+", SizingMethod=clip)"}else{if(Hq){Hm=Hm*Hj+Hq[4];Hl=Hl*Hh+Hq[5]}Ht.filter="";Ht.left=EA(Hm)+"px";Ht.top=EA(Hl)+"px"}var Hs=this._imageEl;var Hp=this._cropEl;if(!Hs){Hs=rN.createElement("div");this._imageEl=Hs}var i=Hs.style;if(Hn){if(!(Hf&&Hk)){var e=new Image();var Z=this;e.onload=function(){e.onload=null;Hf=e.width;Hk=e.height;i.width=EA(Hj*Hf*v/v2)+"px";i.height=EA(Hh*Hk*v3/G8)+"px";Z._imageWidth=Hf;Z._imageHeight=Hk;Z._imageSrc=k};e.src=k}else{i.width=EA(Hj*Hf*v/v2)+"px";i.height=EA(Hh*Hk*v3/G8)+"px"}if(!Hp){Hp=rN.createElement("div");Hp.style.overflow="hidden";this._cropEl=Hp}var Hd=Hp.style;Hd.width=EA((v+v1*v/v2)*Hj);Hd.height=EA((v3+cc*v3/G8)*Hh);Hd.filter=bR+".Matrix(Dx="+(-v1*v/v2*Hj)+",Dy="+(-cc*v3/G8*Hh)+")";if(!Hp.parentNode){G4.appendChild(Hp)}if(Hs.parentNode!=Hp){Hp.appendChild(Hs)}}else{i.width=EA(Hj*v)+"px";i.height=EA(Hh*v3)+"px";G4.appendChild(Hs);if(Hp&&Hp.parentNode){G4.removeChild(Hp);this._cropEl=null}}var G5="";var Hr=Ho.opacity;if(Hr<1){G5+=".Alpha(opacity="+EA(Hr*100)+") "}G5+=bR+".AlphaImageLoader(src="+k+", SizingMethod=scale)";i.filter=G5;G4.style.zIndex=dR(this.zlevel,this.z,this.z2);kO(G7,G4);if(Ho.text!=null){this.drawRectText(G7,this.getBoundingRect())}};Ek.prototype.onRemove=function(e){be(e,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(e)};Ek.prototype.onAdd=function(e){kO(e,this._vmlEl);this.appendRectText(e)};var oE="normal";var it={};var c=0;var to=100;var cs=document.createElement("div");var dC=function(Z){var v=it[Z];if(!v){if(c>to){c=0;it={}}var k=cs.style;var i;try{k.font=Z;i=k.fontFamily.split(",")[0]}catch(m){}v={style:k.fontStyle||oE,variant:k.fontVariant||oE,weight:k.fontWeight||oE,size:parseFloat(k.fontSize||12)|0,family:i||"Microsoft YaHei"};it[Z]=v;c++}return v};var AZ;gK("measureText",function(m,i){var k=rN;if(!AZ){AZ=k.createElement("div");AZ.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;";rN.body.appendChild(AZ)}try{AZ.style.font=i}catch(e){}AZ.innerHTML="";AZ.appendChild(k.createTextNode(m));return{width:AZ.offsetWidth}});var eh=new BM();var zA=function(Hm,cc,Z,v1){var Hl=this.style;this.__dirty&&oD(Hl,true);var Hc=Hl.text;Hc!=null&&(Hc+="");if(!Hc){return}if(Hl.rich){var G6=rC(Hc,Hl);Hc=[];for(var Hk=0;Hk<G6.lines.length;Hk++){var Hd=G6.lines[Hk].tokens;var G9=[];for(var Hi=0;Hi<Hd.length;Hi++){G9.push(Hd[Hi].text)}Hc.push(G9.join(""))}Hc=Hc.join("\n")}var G8;var G7;var Hh=Hl.textAlign;var v=Hl.textVerticalAlign;var v2=dC(Hl.font);var He=v2.style+" "+v2.variant+" "+v2.weight+" "+v2.size+'px "'+v2.family+'"';Z=Z||Fg(Hc,He,Hh,v);var Hg=this.transform;if(Hg&&!v1){eh.copy(cc);eh.applyTransform(Hg);cc=eh}if(!v1){var G4=Hl.textPosition;var Hb=Hl.textDistance;if(G4 instanceof Array){G8=cc.x+yQ(G4[0],cc.width);G7=cc.y+yQ(G4[1],cc.height);Hh=Hh||"left"}else{var Hp=EL(G4,cc,Hb);G8=Hp.x;G7=Hp.y;Hh=Hh||Hp.textAlign;v=v||Hp.textVerticalAlign}}else{G8=cc.x;G7=cc.y}G8=tL(G8,Z.width,Hh);G7=tH(G7,Z.height,v);G7+=Z.height/2;var Ho=Ao;var Ha=this._textVmlEl;var Hf;var k;var v3;if(!Ha){Ha=Ho("line");Hf=Ho("path");k=Ho("textpath");v3=Ho("skew");k.style["v-text-align"]="left";sl(Ha);Hf.textpathok=true;k.on=true;Ha.from="0 0";Ha.to="1000 0.05";kO(Ha,v3);kO(Ha,Hf);kO(Ha,k);this._textVmlEl=Ha}else{v3=Ha.firstChild;Hf=v3.nextSibling;k=Hf.nextSibling}var Hj=[G8,G7];var G5=Ha.style;if(Hg&&v1){aZ(Hj,Hj,Hg);v3.on=true;v3.matrix=Hg[0].toFixed(3)+lP+Hg[2].toFixed(3)+lP+Hg[1].toFixed(3)+lP+Hg[3].toFixed(3)+",0,0";v3.offset=(EA(Hj[0])||0)+","+(EA(Hj[1])||0);v3.origin="0 0";G5.left="0px";G5.top="0px"}else{v3.on=false;G5.left=EA(G8)+"px";G5.top=EA(G7)+"px"}k.string=A3(Hc);try{k.style.font=He}catch(Hn){}rX(Ha,"fill",{fill:Hl.textFill,opacity:Hl.opacity},this);rX(Ha,"stroke",{stroke:Hl.textStroke,opacity:Hl.opacity,lineDash:Hl.lineDash},this);Ha.style.zIndex=dR(this.zlevel,this.z,this.z2);kO(Hm,Ha)};var sV=function(e){be(e,this._textVmlEl);this._textVmlEl=null};var ed=function(e){kO(e,this._textVmlEl)};var hY=[yh,GZ,Ek,lT,iC];for(var zi=0;zi<hY.length;zi++){var b5=hY[zi].prototype;b5.drawRectText=zA;b5.removeRectText=sV;b5.appendRectText=ed}iC.prototype.brushVML=function(e){var i=this.style;if(i.text!=null){this.drawRectText(e,{x:i.x||0,y:i.y||0,width:0,height:0},this.getBoundingRect(),true)}else{this.removeRectText(e)}};iC.prototype.onRemove=function(e){this.removeRectText(e)};iC.prototype.onAdd=function(e){this.appendRectText(e)}}function e2(e){return parseInt(e,10)}function ak(i,Z){wZ();this.root=i;this.storage=Z;var e=document.createElement("div");var m=document.createElement("div");e.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";m.style.cssText="position:absolute;left:0;top:0;";i.appendChild(e);this._vmlRoot=m;this._vmlViewport=e;this.resize();var k=Z.delFromStorage;var v=Z.addToStorage;Z.delFromStorage=function(cc){k.call(Z,cc);if(cc){cc.onRemove&&cc.onRemove(m)}};Z.addToStorage=function(cc){cc.onAdd&&cc.onAdd(m);v.call(Z,cc)};this._firstPaint=true}ak.prototype={constructor:ak,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(){var e=this.storage.getDisplayList(true,true);this._paintList(e)},_paintList:function(v){var k=this._vmlRoot;for(var e=0;e<v.length;e++){var m=v[e];if(m.invisible||m.ignore){if(!m.__alreadyNotVisible){m.onRemove(k)}m.__alreadyNotVisible=true}else{if(m.__alreadyNotVisible){m.onAdd(k)}m.__alreadyNotVisible=false;if(m.__dirty){m.beforeBrush&&m.beforeBrush();(m.brushVML||m.brush).call(m,k);m.afterBrush&&m.afterBrush()}}m.__dirty=false}if(this._firstPaint){this._vmlViewport.appendChild(k);this._firstPaint=false}},resize:function(k,e){var k=k==null?this._getWidth():k;var e=e==null?this._getHeight():e;if(this._width!=k||this._height!=e){this._width=k;this._height=e;var i=this._vmlViewport.style;i.width=k+"px";i.height=e+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){if(this._vmlViewport){this.root.removeChild(this._vmlViewport)}},_getWidth:function(){var e=this.root;var i=e.currentStyle;return((e.clientWidth||e2(i.width))-e2(i.paddingLeft)-e2(i.paddingRight))|0},_getHeight:function(){var e=this.root;var i=e.currentStyle;return((e.clientHeight||e2(i.height))-e2(i.paddingTop)-e2(i.paddingBottom))|0}};function f3(e){return function(){Fl('In IE8.0 VML mode painter not support method "'+e+'"')}}ow(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){ak.prototype[e]=f3(e)});wc("vml",ak);var ba="http://www.w3.org/2000/svg";function ER(e){return document.createElementNS(ba,e)}var EG=jI.CMD;var fb=Array.prototype.join;var A5="none";var qS=Math.round;var FH=Math.sin;var zh=Math.cos;var xJ=Math.PI;var FG=Math.PI*2;var lI=180/xJ;var kV=0.0001;function yn(e){return qS(e*10000)/10000}function gZ(e){return e<kV&&e>-kV}function iQ(e,k){var i=k?e.textFill:e.fill;return i!=null&&i!==A5}function eg(e,k){var i=k?e.textStroke:e.stroke;return i!=null&&i!==A5}function z2(i,e){if(e){qF(i,"transform","matrix("+fb.call(e,",")+")")}}function qF(i,e,k){if(!k||k.type!=="linear"&&k.type!=="radial"){i.setAttribute(e,k)}}function iV(i,e,k){i.setAttributeNS("http://www.w3.org/1999/xlink",e,k)}function BT(Z,k,v1){if(iQ(k,v1)){var v=v1?k.textFill:k.fill;v=v==="transparent"?A5:v;if(Z.getAttribute("clip-path")!=="none"&&v===A5){v="rgba(0, 0, 0, 0.002)"}qF(Z,"fill",v);qF(Z,"fill-opacity",k.opacity)}else{qF(Z,"fill",A5)}if(eg(k,v1)){var m=v1?k.textStroke:k.stroke;m=m==="transparent"?A5:m;qF(Z,"stroke",m);var cc=v1?k.textStrokeWidth:k.lineWidth;var i=!v1&&k.strokeNoScale?k.host.getLineScale():1;qF(Z,"stroke-width",cc/i);qF(Z,"paint-order",v1?"stroke":"fill");qF(Z,"stroke-opacity",k.opacity);var e=k.lineDash;if(e){qF(Z,"stroke-dasharray",k.lineDash.join(","));qF(Z,"stroke-dashoffset",qS(k.lineDashOffset||0))}else{qF(Z,"stroke-dasharray","")}k.lineCap&&qF(Z,"stroke-linecap",k.lineCap);k.lineJoin&&qF(Z,"stroke-linejoin",k.lineJoin);k.miterLimit&&qF(Z,"stroke-miterlimit",k.miterLimit)}else{qF(Z,"stroke",A5)}}function EZ(G8){var Ha=[];var Hk=G8.data;var v3=G8.len();for(var He=0;He<v3;){var Hd=Hk[He++];var cc="";var k=0;switch(Hd){case EG.M:cc="M";k=2;break;case EG.L:cc="L";k=2;break;case EG.Q:cc="Q";k=4;break;case EG.C:cc="C";k=6;break;case EG.A:var v=Hk[He++];var m=Hk[He++];var v2=Hk[He++];var v1=Hk[He++];var G4=Hk[He++];var Hi=Hk[He++];var Hj=Hk[He++];var Hg=Hk[He++];var G9=Math.abs(Hi);var Hb=gZ(G9-FG)&&!gZ(G9);var e=false;if(G9>=FG){e=true}else{if(gZ(G9)){e=false}else{e=(Hi>-xJ&&Hi<0||Hi>xJ)===!!Hg}}var Hh=yn(v+v2*zh(G4));var Z=yn(m+v1*FH(G4));if(Hb){if(Hg){Hi=FG-0.0001}else{Hi=-FG+0.0001}e=true;if(He===9){Ha.push("M",Hh,Z)}}var G6=yn(v+v2*zh(G4+Hi));var G5=yn(m+v1*FH(G4+Hi));Ha.push("A",yn(v2),yn(v1),qS(Hj*lI),+e,+Hg,G6,G5);break;case EG.Z:cc="Z";break;case EG.R:var G6=yn(Hk[He++]);var G5=yn(Hk[He++]);var G7=yn(Hk[He++]);var Hf=yn(Hk[He++]);Ha.push("M",G6,G5,"L",G6+G7,G5,"L",G6+G7,G5+Hf,"L",G6,G5+Hf,"L",G6,G5);break}cc&&Ha.push(cc);for(var Hc=0;Hc<k;Hc++){Ha.push(yn(Hk[He++]))}}return Ha.join(" ")}var ra={};ra.brush=function(k){var i=k.style;var v=k.__svgEl;if(!v){v=ER("path");k.__svgEl=v}if(!k.path){k.createPathProxy()}var m=k.path;if(k.__dirtyPath){m.beginPath();k.buildPath(m,k.shape);k.__dirtyPath=false;var e=EZ(m);if(e.indexOf("NaN")<0){qF(v,"d",e)}}BT(v,i);z2(v,k.transform);if(i.text!=null){vo(k,k.getBoundingRect())}};var iL={};iL.brush=function(m){var k=m.style;var v=k.image;if(v instanceof HTMLImageElement){var e=v.src;v=e}if(!v){return}var v1=k.x||0;var cc=k.y||0;var i=k.width;var Z=k.height;var v2=m.__svgEl;if(!v2){v2=ER("image");m.__svgEl=v2}if(v!==m.__imageSrc){iV(v2,"href",v);m.__imageSrc=v}qF(v2,"width",i);qF(v2,"height",Z);qF(v2,"x",v1);qF(v2,"y",cc);z2(v2,m.transform);if(k.text!=null){vo(m,m.getBoundingRect())}};var nM={};var ef=new BM();var vo=function(v,m,k){var Hk=v.style;v.__dirty&&oD(Hk,true);var Ha=Hk.text;if(Ha==null){return}else{Ha+=""}var v1=v.__textSvgEl;if(!v1){v1=ER("text");v.__textSvgEl=v1}var G8;var G7;var v3=Hk.textPosition;var v2=Hk.textDistance;var He=Hk.textAlign||"left";if(typeof Hk.fontSize==="number"){Hk.fontSize+="px"}var Hc=Hk.font||[Hk.fontStyle||"",Hk.fontWeight||"",Hk.fontSize||"",Hk.fontFamily||""].join(" ")||DU;var e=g9(Hk.textVerticalAlign);k=Fg(Ha,Hc,He,e);var cc=k.lineHeight;if(v3 instanceof Array){G8=m.x+v3[0];G7=m.y+v3[1]}else{var Z=EL(v3,m,v2);G8=Z.x;G7=Z.y;e=g9(Z.textVerticalAlign);He=Z.textAlign}qF(v1,"alignment-baseline",e);if(Hc){v1.style.font=Hc}var Hi=Hk.textPadding;qF(v1,"x",G8);qF(v1,"y",G7);BT(v1,Hk,true);if(v instanceof iC||v.style.transformText){z2(v1,v.transform)}else{if(v.transform){ef.copy(m);ef.applyTransform(v.transform);m=ef}else{var G5=v.transformCoordToGlobal(m.x,m.y);m.x=G5[0];m.y=G5[1]}var Hl=Hk.textOrigin;if(Hl==="center"){G8=k.width/2+G8;G7=k.height/2+G7}else{if(Hl){G8=Hl[0]+G8;G7=Hl[1]+G7}}var Hh=-Hk.textRotation*180/Math.PI;qF(v1,"transform","rotate("+Hh+","+G8+","+G7+")")}var Hb=Ha.split("\n");var Hd=Hb.length;var Hg=He;if(Hg==="left"){Hg="start";Hi&&(G8+=Hi[3])}else{if(Hg==="right"){Hg="end";Hi&&(G8-=Hi[1])}else{if(Hg==="center"){Hg="middle";Hi&&(G8+=(Hi[3]-Hi[1])/2)}}}var G9=0;if(e==="baseline"){G9=-k.height+cc;Hi&&(G9-=Hi[2])}else{if(e==="middle"){G9=(-k.height+cc)/2;Hi&&(G7+=(Hi[0]-Hi[2])/2)}else{Hi&&(G9+=Hi[0])}}if(v.__text!==Ha||v.__textFont!==Hc){var G4=v.__tspanList||[];v.__tspanList=G4;for(var Hf=0;Hf<Hd;Hf++){var G6=G4[Hf];if(!G6){G6=G4[Hf]=ER("tspan");v1.appendChild(G6);qF(G6,"alignment-baseline",e);qF(G6,"text-anchor",Hg)}else{G6.innerHTML=""}qF(G6,"x",G8);qF(G6,"y",G7+Hf*cc+G9);G6.appendChild(document.createTextNode(Hb[Hf]))}for(;Hf<G4.length;Hf++){v1.removeChild(G4[Hf])}G4.length=Hd;v.__text=Ha;v.__textFont=Hc}else{if(v.__tspanList.length){var Hj=v.__tspanList.length;for(var Hf=0;Hf<Hj;++Hf){var G6=v.__tspanList[Hf];if(G6){qF(G6,"x",G8);qF(G6,"y",G7+Hf*cc+G9)}}}}};function g9(e){if(e==="middle"){return"middle"}else{if(e==="bottom"){return"baseline"}else{return"hanging"}}}nM.drawRectText=vo;nM.brush=function(i){var e=i.style;if(e.text!=null){e.textPosition=[0,0];vo(i,{x:e.x||0,y:e.y||0,width:0,height:0},i.getBoundingRect())}};function nD(){}nD.prototype={diff:function(k,v2,m){if(!m){m=function(G9,i){return G9===i}}this.equals=m;var G8=this;k=k.slice();v2=v2.slice();var v3=v2.length;var v=k.length;var e=1;var G6=v3+v;var G5=[{newPos:-1,components:[]}];var Z=this.extractCommon(G5[0],v2,k,0);if(G5[0].newPos+1>=v3&&Z+1>=v){var G7=[];for(var v1=0;v1<v2.length;v1++){G7.push(v1)}return[{indices:G7,count:v2.length}]}function cc(){for(var Ha=-1*e;Ha<=e;Ha+=2){var He;var G9=G5[Ha-1];var i=G5[Ha+1];var Hb=(i?i.newPos:0)-Ha;if(G9){G5[Ha-1]=undefined}var Hc=G9&&G9.newPos+1<v3;var Hd=i&&0<=Hb&&Hb<v;if(!Hc&&!Hd){G5[Ha]=undefined;continue}if(!Hc||(Hd&&G9.newPos<i.newPos)){He=cQ(i);G8.pushComponent(He.components,undefined,true)}else{He=G9;He.newPos++;G8.pushComponent(He.components,true,undefined)}Hb=G8.extractCommon(He,v2,k,Ha);if(He.newPos+1>=v3&&Hb+1>=v){return bw(G8,He.components,v2,k)}else{G5[Ha]=He}}e++}while(e<=G6){var G4=cc();if(G4){return G4}}},pushComponent:function(k,e,m){var i=k[k.length-1];if(i&&i.added===e&&i.removed===m){k[k.length-1]={count:i.count+1,added:e,removed:m}}else{k.push({count:1,added:e,removed:m})}},extractCommon:function(v2,m,e,v1){var v=m.length;var i=e.length;var cc=v2.newPos;var k=cc-v1;var Z=0;while(cc+1<v&&k+1<i&&this.equals(m[cc+1],e[k+1])){cc++;k++;Z++}if(Z){v2.components.push({count:Z})}v2.newPos=cc;return k},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};function bw(G4,v1,Z,e){var cc=0;var k=v1.length;var v2=0;var m=0;for(;cc<k;cc++){var v3=v1[cc];if(!v3.removed){var G5=[];for(var v=v2;v<v2+v3.count;v++){G5.push(v)}v3.indices=G5;v2+=v3.count;if(!v3.added){m+=v3.count}}else{var G5=[];for(var v=m;v<m+v3.count;v++){G5.push(v)}v3.indices=G5;m+=v3.count}}return v1}function cQ(e){return{newPos:e.newPos,components:e.components.slice(0)}}var i3=new nD();var gr=function(e,i,k){return i3.diff(e,i,k)};var mC="0";var gF="1";function sg(m,i,e,v,k){this._zrId=m;this._svgRoot=i;this._tagNames=typeof e==="string"?[e]:e;this._markLabel=v;this._domName=k||"_dom";this.nextId=0}sg.prototype.createElement=ER;sg.prototype.getDefs=function(k){var i=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(k){e=i.insertBefore(this.createElement("defs"),i.firstChild);if(!e.contains){e.contains=function(Z){var v=e.children;if(!v){return false}for(var m=v.length-1;m>=0;--m){if(v[m]===Z){return true}}return false}}return e}else{return null}}else{return e[0]}};sg.prototype.update=function(k,i){if(!k){return}var e=this.getDefs(false);if(k[this._domName]&&e.contains(k[this._domName])){if(typeof i==="function"){i(k)}}else{var m=this.add(k);if(m){k[this._domName]=m}}};sg.prototype.addDom=function(i){var e=this.getDefs(true);e.appendChild(i)};sg.prototype.removeDom=function(i){var e=this.getDefs(false);if(e&&i[this._domName]){e.removeChild(i[this._domName]);i[this._domName]=null}};sg.prototype.getDoms=function(){var e=this.getDefs(false);if(!e){return[]}var i=[];ow(this._tagNames,function(m){var k=e.getElementsByTagName(m);i=i.concat([].slice.call(k))});return i};sg.prototype.markAllUnused=function(){var i=this.getDoms();var e=this;ow(i,function(k){k[e._markLabel]=mC})};sg.prototype.markUsed=function(e){if(e){e[this._markLabel]=gF}};sg.prototype.removeUnused=function(){var e=this.getDefs(false);if(!e){return}var k=this.getDoms();var i=this;ow(k,function(m){if(m[i._markLabel]!==gF){e.removeChild(m)}})};sg.prototype.getSvgProxy=function(e){if(e instanceof lT){return ra}else{if(e instanceof Ek){return iL}else{if(e instanceof iC){return nM}else{return ra}}}};sg.prototype.getTextSvgElement=function(e){return e.__textSvgEl};sg.prototype.getSvgElement=function(e){return e.__svgEl};function gA(i,e){sg.call(this,i,e,["linearGradient","radialGradient"],"__gradient_in_use__")}lZ(gA,sg);gA.prototype.addWithoutUpdate=function(k,e){if(e&&e.style){var i=this;ow(["fill","stroke"],function(v){if(e.style[v]&&(e.style[v].type==="linear"||e.style[v].type==="radial")){var Z=e.style[v];var m=i.getDefs(true);var cc;if(Z._dom){cc=Z._dom;if(!m.contains(Z._dom)){i.addDom(cc)}}else{cc=i.add(Z)}i.markUsed(e);var v1=cc.getAttribute("id");k.setAttribute(v,"url(#"+v1+")")}})}};gA.prototype.add=function(e){var i;if(e.type==="linear"){i=this.createElement("linearGradient")}else{if(e.type==="radial"){i=this.createElement("radialGradient")}else{Fl("Illegal gradient type.");return null}}e.id=e.id||this.nextId++;i.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id);this.updateDom(e,i);this.addDom(i);return i};gA.prototype.update=function(i){var e=this;sg.prototype.update.call(this,i,function(){var m=i.type;var k=i._dom.tagName;if(m==="linear"&&k==="linearGradient"||m==="radial"&&k==="radialGradient"){e.updateDom(i,i._dom)}else{e.removeDom(i);e.add(i)}})};gA.prototype.updateDom=function(Z,cc){if(Z.type==="linear"){cc.setAttribute("x1",Z.x);cc.setAttribute("y1",Z.y);cc.setAttribute("x2",Z.x2);cc.setAttribute("y2",Z.y2)}else{if(Z.type==="radial"){cc.setAttribute("cx",Z.x);cc.setAttribute("cy",Z.y);cc.setAttribute("r",Z.r)}else{Fl("Illegal gradient type.");return}}if(Z.global){cc.setAttribute("gradientUnits","userSpaceOnUse")}else{cc.setAttribute("gradientUnits","objectBoundingBox")}cc.innerHTML="";var k=Z.colorStops;for(var v=0,e=k.length;v<e;++v){var m=this.createElement("stop");m.setAttribute("offset",k[v].offset*100+"%");m.setAttribute("stop-color",k[v].color);cc.appendChild(m)}Z._dom=cc};gA.prototype.markUsed=function(e){if(e.style){var i=e.style.fill;if(i&&i._dom){sg.prototype.markUsed.call(this,i._dom)}i=e.style.stroke;if(i&&i._dom){sg.prototype.markUsed.call(this,i._dom)}}};function jq(i,e){sg.call(this,i,e,"clipPath","__clippath_in_use__")}lZ(jq,sg);jq.prototype.update=function(e){var k=this.getSvgElement(e);if(k){this.updateDom(k,e.__clipPaths,false)}var i=this.getTextSvgElement(e);if(i){this.updateDom(i,e.__clipPaths,true)}this.markUsed(e)};jq.prototype.updateDom=function(cc,v2,Z){if(v2&&v2.length>0){var v=this.getDefs(true);var v3=v2[0];var G4;var e;var m=Z?"_textDom":"_dom";if(v3[m]){e=v3[m].getAttribute("id");G4=v3[m];if(!v.contains(G4)){v.appendChild(G4)}}else{e="zr"+this._zrId+"-clip-"+this.nextId;++this.nextId;G4=this.createElement("clipPath");G4.setAttribute("id",e);v.appendChild(G4);v3[m]=G4}var k=this.getSvgProxy(v3);if(v3.transform&&v3.parent.invTransform&&!Z){var i=Array.prototype.slice.call(v3.transform);j(v3.transform,v3.parent.invTransform,v3.transform);k.brush(v3);v3.transform=i}else{k.brush(v3)}var v1=this.getSvgElement(v3);G4.innerHTML="";G4.appendChild(v1.cloneNode());cc.setAttribute("clip-path","url(#"+e+")");if(v2.length>1){this.updateDom(G4,v2.slice(1),Z)}}else{if(cc){cc.setAttribute("clip-path","none")}}};jq.prototype.markUsed=function(e){var i=this;if(e.__clipPaths&&e.__clipPaths.length>0){ow(e.__clipPaths,function(k){if(k._dom){sg.prototype.markUsed.call(i,k._dom)}if(k._textDom){sg.prototype.markUsed.call(i,k._textDom)}})}};function g4(i,e){sg.call(this,i,e,["filter"],"__filter_in_use__","_shadowDom")}lZ(g4,sg);g4.prototype.addWithoutUpdate=function(m,i){if(i&&ct(i.style)){var k=i.style;var v;if(k._shadowDom){v=k._shadowDom;var e=this.getDefs(true);if(!e.contains(k._shadowDom)){this.addDom(v)}}else{v=this.add(i)}this.markUsed(i);var Z=v.getAttribute("id");m.style.filter="url(#"+Z+")"}};g4.prototype.add=function(e){var k=this.createElement("filter");var i=e.style;i._shadowDomId=i._shadowDomId||this.nextId++;k.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId);this.updateDom(e,k);this.addDom(k);return k};g4.prototype.update=function(m,e){var i=e.style;if(ct(i)){var k=this;sg.prototype.update.call(this,e,function(v){k.updateDom(e,v._shadowDom)})}else{this.remove(m,i)}};g4.prototype.remove=function(i,e){if(e._shadowDomId!=null){this.removeDom(e);i.style.filter=""}};g4.prototype.updateDom=function(v,m){var v3=m.getElementsByTagName("feDropShadow");if(v3.length===0){v3=this.createElement("feDropShadow")}else{v3=v3[0]}var e=v.style;var G6=v.scale?(v.scale[0]||1):1;var G5=v.scale?(v.scale[1]||1):1;var cc,Z,i,k;if(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY){cc=e.shadowOffsetX||0;Z=e.shadowOffsetY||0;i=e.shadowBlur;k=e.shadowColor}else{if(e.textShadowBlur){cc=e.textShadowOffsetX||0;Z=e.textShadowOffsetY||0;i=e.textShadowBlur;k=e.textShadowColor}else{this.removeDom(m,e);return}}v3.setAttribute("dx",cc/G6);v3.setAttribute("dy",Z/G5);v3.setAttribute("flood-color",k);var v2=i/2/G6;var v1=i/2/G5;var G4=v2+" "+v1;v3.setAttribute("stdDeviation",G4);m.setAttribute("x","-100%");m.setAttribute("y","-100%");m.setAttribute("width",Math.ceil(i/2*200)+"%");m.setAttribute("height",Math.ceil(i/2*200)+"%");m.appendChild(v3);e._shadowDom=m};g4.prototype.markUsed=function(e){var i=e.style;if(i&&i._shadowDom){sg.prototype.markUsed.call(this,i._shadowDom)}};function ct(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function e0(e){return parseInt(e,10)}function nb(e){if(e instanceof lT){return ra}else{if(e instanceof Ek){return iL}else{if(e instanceof iC){return nM}else{return ra}}}}function Gj(e,i){return i&&e&&i.parentNode!==e}function yf(i,m,e){if(Gj(i,m)&&e){var k=e.nextSibling;k?i.insertBefore(m,k):i.appendChild(m)}}function pA(e,k){if(Gj(e,k)){var i=e.firstChild;i?e.insertBefore(k,i):e.appendChild(k)}}function a5(e,i){if(i&&e&&i.parentNode===e){e.removeChild(i)}}function D9(e){return e.__textSvgEl}function nd(e){return e.__svgEl}var uJ=function(k,Z,v,m){this.root=k;this.storage=Z;this._opts=v=bY({},v||{});var i=ER("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg");i.setAttribute("version","1.1");i.setAttribute("baseProfile","full");i.style.cssText="user-select:none;position:absolute;left:0;top:0;";this.gradientManager=new gA(m,i);this.clipPathManager=new jq(m,i);this.shadowManager=new g4(m,i);var e=document.createElement("div");e.style.cssText="overflow:hidden;position:relative";this._svgRoot=i;this._viewport=e;k.appendChild(e);e.appendChild(i);this.resize(v.width,v.height);this._visibleList=[]};uJ.prototype={constructor:uJ,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(){var e=this.storage.getDisplayList(true);this._paintList(e)},setBackgroundColor:function(e){this._viewport.style.background=e},_paintList:function(v3){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();this.shadowManager.markAllUnused();var G8=this._svgRoot;var G5=this._visibleList;var e=v3.length;var cc=[];var v1;for(v1=0;v1<e;v1++){var v=v3[v1];var Z=nb(v);var G4=nd(v)||D9(v);if(!v.invisible){if(v.__dirty){Z&&Z.brush(v);this.clipPathManager.update(v);if(v.style){this.gradientManager.update(v.style.fill);this.gradientManager.update(v.style.stroke);this.shadowManager.update(G4,v)}v.__dirty=false}cc.push(v)}}var G7=gr(G5,cc);var v2;for(v1=0;v1<G7.length;v1++){var G9=G7[v1];if(G9.removed){for(var m=0;m<G9.count;m++){var v=G5[G9.indices[m]];var G4=nd(v);var G6=D9(v);a5(G8,G4);a5(G8,G6)}}}for(v1=0;v1<G7.length;v1++){var G9=G7[v1];if(G9.added){for(var m=0;m<G9.count;m++){var v=cc[G9.indices[m]];var G4=nd(v);var G6=D9(v);v2?yf(G8,G4,v2):pA(G8,G4);if(G4){yf(G8,G6,G4)}else{if(v2){yf(G8,G6,v2)}else{pA(G8,G6)}}yf(G8,G6,G4);v2=G6||G4||v2;this.gradientManager.addWithoutUpdate(G4,v);this.shadowManager.addWithoutUpdate(v2,v);this.clipPathManager.markUsed(v)}}else{if(!G9.removed){for(var m=0;m<G9.count;m++){var v=cc[G9.indices[m]];v2=G4=D9(v)||nd(v)||v2;this.gradientManager.markUsed(v);this.gradientManager.addWithoutUpdate(G4,v);this.shadowManager.markUsed(v);this.shadowManager.addWithoutUpdate(G4,v);this.clipPathManager.markUsed(v)}}}}this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this.shadowManager.removeUnused();this._visibleList=cc},_getDefs:function(k){var i=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(k){var e=i.insertBefore(ER("defs"),i.firstChild);if(!e.contains){e.contains=function(Z){var v=e.children;if(!v){return false}for(var m=v.length-1;m>=0;--m){if(v[m]===Z){return true}}return false}}return e}else{return null}}else{return e[0]}},resize:function(v,i){var e=this._viewport;e.style.display="none";var Z=this._opts;v!=null&&(Z.width=v);i!=null&&(Z.height=i);v=this._getSize(0);i=this._getSize(1);e.style.display="";if(this._width!==v||this._height!==i){this._width=v;this._height=i;var m=e.style;m.width=v+"px";m.height=i+"px";var k=this._svgRoot;k.setAttribute("width",v);k.setAttribute("height",i)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(v){var v1=this._opts;var m=["width","height"][v];var k=["clientWidth","clientHeight"][v];var Z=["paddingLeft","paddingTop"][v];var e=["paddingRight","paddingBottom"][v];if(v1[m]!=null&&v1[m]!=="auto"){return parseFloat(v1[m])}var i=this.root;var cc=document.defaultView.getComputedStyle(i);return((i[k]||e0(cc[m])||e0(i.style[m]))-(e0(cc[Z])||0)-(e0(cc[e])||0))|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){if(this._viewport){this.root.removeChild(this._viewport)}},pathToDataUrl:function(){this.refresh();var e=this._svgRoot.outerHTML;return"data:image/svg+xml;charset=UTF-8,"+e}};function C1(e){return function(){Fl('In SVG mode painter not support method "'+e+'"')}}ow(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){uJ.prototype[e]=C1(e)});wc("svg",uJ);qN.version=GQ;qN.dependencies=qc;qN.PRIORITY=Bb;qN.init=DR;qN.connect=nf;qN.disConnect=hr;qN.disconnect=x6;qN.dispose=ug;qN.getInstanceByDom=b0;qN.getInstanceById=dK;qN.registerTheme=yG;qN.registerPreprocessor=yc;qN.registerProcessor=d3;qN.registerPostUpdate=vn;qN.registerAction=bZ;qN.registerCoordinateSystem=vG;qN.getCoordinateSystemDimensions=gN;qN.registerLayout=oM;qN.registerVisual=E;qN.registerLoading=w6;qN.extendComponentModel=pk;qN.extendComponentView=pO;qN.extendSeriesModel=A6;qN.extendChartView=AO;qN.setCanvasCreator=ev;qN.registerMap=fq;qN.getMap=um;qN.dataTool=vH;qN.zrender=k1;qN.graphic=xr;qN.number=mJ;qN.format=fC;qN.throttle=eM;qN.helper=Be;qN.matrix=kd;qN.vector=DA;qN.color=vK;qN.parseGeoJSON=bJ;qN.parseGeoJson=j2;qN.util=kJ;qN.List=wF;qN.Model=fg;qN.Axis=AV;qN.env=r6})));