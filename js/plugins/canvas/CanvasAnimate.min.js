(function(){var l,j,i,f,o,q,s,m=true;a();b();k();function a(){l=window.innerWidth;j=window.innerHeight;s={x:l/2,y:j/2};i=document.getElementById("canvas-container");i.style.height=j+"px";f=document.getElementById("demo-canvas");if(undefined==f||null==f){f=document.createElement("canvas");f.id="demo-canvas";f.style.cssText="position:absolute;";i.insertBefore(f,i.firstChild)}f.width=l;f.height=j;o=f.getContext("2d");q=[];for(var E=0;E<l;E=E+l/20){for(var C=0;C<j;C=C+j/20){var F=E+Math.random()*l/20;var D=C+Math.random()*j/20;var t={x:F,originX:F,y:D,originY:D};q.push(t)}}for(var z=0;z<q.length;z++){var u=[];var H=q[z];for(var w=0;w<q.length;w++){var G=q[w];if(!(H==G)){var B=false;for(var v=0;v<5;v++){if(!B){if(u[v]==undefined){u[v]=G;B=true}}}for(var v=0;v<5;v++){if(!B){if(d(H,G)<d(H,u[v])){u[v]=G;B=true}}}}}H.closest=u}for(var z in q){var A=new n(q[z],2+Math.random()*2,"rgba(255,255,255,0.3)");q[z].circle=A}}function k(){if(!("ontouchstart" in window)){window.addEventListener("mousemove",c)}window.addEventListener("scroll",p);window.addEventListener("resize",r)}function c(u){var t=posy=0;if(u.pageX||u.pageY){t=u.pageX;posy=u.pageY}else{if(u.clientX||u.clientY){t=u.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;posy=u.clientY+document.body.scrollTop+document.documentElement.scrollTop}}s.x=t;s.y=posy}function p(){if(document.body.scrollTop>j){m=false}else{m=true}}function r(){l=window.innerWidth;j=window.innerHeight;i.style.height=j+"px";f.width=l;f.height=j}function b(){h();for(var t in q){e(q[t])}}function h(){if(m){o.clearRect(0,0,l,j);for(var t in q){if(Math.abs(d(s,q[t]))<4000){q[t].active=0.3;q[t].circle.active=0.6}else{if(Math.abs(d(s,q[t]))<20000){q[t].active=0.1;q[t].circle.active=0.3}else{if(Math.abs(d(s,q[t]))<40000){q[t].active=0.02;q[t].circle.active=0.1}else{q[t].active=0;q[t].circle.active=0}}}g(q[t]);q[t].circle.draw()}}requestAnimationFrame(h)}function e(t){TweenLite.to(t,1+1*Math.random(),{x:t.originX-50+Math.random()*100,y:t.originY-50+Math.random()*100,ease:Circ.easeInOut,onComplete:function(){e(t)}})}function g(u){if(!u.active){return}for(var t in u.closest){o.beginPath();o.moveTo(u.x,u.y);o.lineTo(u.closest[t].x,u.closest[t].y);o.strokeStyle="rgba(156,217,249,"+u.active+")";o.stroke()}}function n(w,t,u){var v=this;(function(){v.pos=w||null;v.radius=t||null;v.color=u||null})();this.draw=function(){if(!v.active){return}o.beginPath();o.arc(v.pos.x,v.pos.y,v.radius,0,2*Math.PI,false);o.fillStyle="rgba(156,217,249,"+v.active+")";o.fill()}}function d(u,t){return Math.pow(u.x-t.x,2)+Math.pow(u.y-t.y,2)}})();